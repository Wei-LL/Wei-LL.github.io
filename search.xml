<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/2023/06/17/hello-world/</url>
    <content><![CDATA[<p>本打算搞一个用作记录的Blog，但是又不想使用其他网站的Blog功能，然后发现Github可以白嫖到免费的.github.io域名，于是一路下来，基于Hexo + Next主题搭建了自己的Blog。十分感谢知乎大佬<a href="https://www.zhihu.com/column/c_1201860091307458560">枫叶</a>提供的的建站教程。中间有碰到公钥之类的问题，后续有时间了会进行记录。总之这算一个新的开始~</p>
]]></content>
  </entry>
  <entry>
    <title>Hexo+Next 搭建过程碰到的问题</title>
    <url>/2023/06/22/Hexo-Next-%E6%90%AD%E5%BB%BA%E8%BF%87%E7%A8%8B%E7%A2%B0%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h2 id="1-master改为main"><a href="#1-master改为main" class="headerlink" title="1. master改为main"></a>1. master改为main</h2><p>GitHub最近已经把主分支改为main了，不再是master，所以<code>Blog</code>下的 <code>_config.yml</code>文件里应该是</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure>

<p>其他与<code>master</code>有关的也命令也需要用<code>main</code>。</p>
<h2 id="2-Git-error-Host-Key-Verification-Failed"><a href="#2-Git-error-Host-Key-Verification-Failed" class="headerlink" title="2. Git error:Host Key Verification Failed"></a>2. Git error:Host Key Verification Failed</h2><p>用git上传文件到GitHub首先得利用SSH登录远程主机，在利用公钥登录时，输入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<p>进行检验，出现 <code>Git error:Host Key Verification Failed</code>错误，出现错误的主要问题是<code>known_hosts</code>文件的配置问题，参考<a href="https://stackoverflow.com/questions/13363553/git-error-host-key-verification-failed-when-connecting-to-remote-repository/29908140#29908140">stackoverflow回答</a>：</p>
<ol>
<li><code>mkdir -p ~/.ssh</code></li>
<li><code>ssh-keyscan -t rsa github.com &gt;&gt; ~/.ssh/known_hosts</code></li>
<li><code>ssh-keygen -t rsa -C &quot;user.email&quot;</code></li>
<li>open the public key with this command <code>$ cat ~/.ssh/id_rsa.pub</code> and copy it.</li>
<li>Add the <em>id_rsa.pub</em> key to SSH keys list on your GitHub profile.</li>
</ol>
<h2 id="3-error-failed-to-push-some-refs-to-‘xxx-x2F-xx’"><a href="#3-error-failed-to-push-some-refs-to-‘xxx-x2F-xx’" class="headerlink" title="3. error: failed to push some refs to ‘xxx&#x2F;xx’"></a>3. error: failed to push some refs to ‘xxx&#x2F;xx’</h2><p>执行<code>git push origin master</code>时，弹出窗口需要输入用户名和密码，用户名输的github名，密码刚开始以为是github登陆密码，但是错了。提示说21年8月后不允许使用用户名和密码登陆了，解决方法是使用Personal access tokens。令牌方式登录：</p>
<ol>
<li>直接打开 <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a> 这个界面，或登录Github后点击<code>头像</code>-<code>settings</code>-左侧列表<code>Developer settings</code>-<code>Personal access tokens</code></li>
<li>右上点击<code>Generate new token</code></li>
<li><code>note</code>随便填写，选择过期时间</li>
<li>勾选上下边的全部。（这个是token具有的权限）</li>
<li>最后点击底部的<code>Generate token</code> 生成token</li>
</ol>
<p>然后用户名还是原先的用户名，但是密码这里填写生成的token就行了。</p>
<h2 id="4-每次提交都需要输账号密码"><a href="#4-每次提交都需要输账号密码" class="headerlink" title="4. 每次提交都需要输账号密码"></a>4. 每次提交都需要输账号密码</h2><p>后续在每次提交代码时，发现都需要输入账号密码，很麻烦，可找到<code>Blog</code>下的<code>_config.yml</code>文件里，原先<code>repository:</code>那里填写的是个人仓库的地址。改成</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://oauth2:*******************@github.com/Wei-LL/Wei-LL.github.io.git</span><br></pre></td></tr></table></figure>

<p>这里****填写的是token。后续每次提交就不用了输账号密码了。</p>
<h2 id="5-Failed-to-connect-to-github-com-port-443-Timed-out"><a href="#5-Failed-to-connect-to-github-com-port-443-Timed-out" class="headerlink" title="5. Failed to  connect to github.com port 443: Timed out"></a>5. Failed to  connect to github.com port 443: Timed out</h2><p>在hexo init 命令初始化以及有时git clone代码时会碰到</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Failed to  connect to github.com port 443: Timed out</span><br></pre></td></tr></table></figure>

<p>因为是网络问题，最直接的方法就是使用代理，后台挂好代理后，git窗口中</p>
<p>设置git代理</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global http.proxy localhost:7890</span><br></pre></td></tr></table></figure>

<p>其中7890是代理的端口号，我用的clash，直接在clash主界面常规查看。</p>
<p>记得之后取消代理</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global --unset http.proxy</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>解决方案</category>
      </categories>
      <tags>
        <tag>解决方案</tag>
        <tag>博客搭建</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo + Butterfly主题美化</title>
    <url>/2023/06/23/Butterfly%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<p>搭建时是Hexo + Next主题，Next主题比较简约直观，本打算就直接用Next，但之后发现了Butterfly主题也很好看，就配置了Butterfly主题</p>
<p>Next主题：<a href="https://theme-next.js.org/%EF%BC%8Chttps://github.com/theme-next/hexo-theme-next">https://theme-next.js.org/，https://github.com/theme-next/hexo-theme-next</a></p>
<p>Butterfly主题：<a href="https://github.com/jerryc127/hexo-theme-butterfly">https://github.com/jerryc127/hexo-theme-butterfly</a></p>
<h2 id="1-文章加密"><a href="#1-文章加密" class="headerlink" title="1. 文章加密"></a>1. 文章加密</h2><p>利用 <a href="https://github.com/D0n9X1n/hexo-blog-encrypt">hexo-blog-encrypt</a> 实现文章加密，安装命令：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure>

<p>然后在文章的开头部分加入 <code>password</code>， <code>abstract</code>等，例如：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">...</span><br><span class="line">password: mikemessi</span><br><span class="line">abstract: Here&#x27;s something encrypted, password is required to continue reading.</span><br><span class="line">message: Hey, password is required here.</span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: Oh, this is an invalid password. Check and try again, please.</span><br><span class="line"><span class="section">wrong<span class="emphasis">_hash_</span>message: Oh, these decrypted content cannot be verified, but you can still have a look.</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

<p>但是有个问题就是加密后，主页文章预览会显示一串乱码，暂时不知如何解决。</p>
<h2 id="2-主页Subtitle打字效果"><a href="#2-主页Subtitle打字效果" class="headerlink" title="2. 主页Subtitle打字效果"></a>2. 主页Subtitle打字效果</h2><p>默认没有启用，在主题下的<code>_config.yml</code>中将<code>enable</code>设置为<code>true</code>:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Customize typed.js (配置typed.js)</span></span><br><span class="line">  <span class="comment"># https://github.com/mattboldt/typed.js/#customization</span></span><br><span class="line">  <span class="attr">typed_option:</span></span><br><span class="line">  <span class="comment"># source 調用第三方服務</span></span><br><span class="line">  <span class="comment"># source: false 關閉調用</span></span><br><span class="line">  <span class="comment"># source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  調用一句網（簡體） https://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle 會先顯示 source , 再顯示 sub 的內容</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">They</span> <span class="string">were</span> <span class="string">only</span> <span class="string">two,</span> <span class="string">on</span> <span class="string">the</span> <span class="string">planet.</span></span><br></pre></td></tr></table></figure>

<p>显示文字要以-加空格开头，可显示多行。但是实际操作中，在打开打字效果时，就完全不显示subtitle，查阅了<a href="https://github.com/jerryc127/hexo-theme-butterfly">butterfly github</a> 中的 <a href="https://github.com/jerryc127/hexo-theme-butterfly/issues/1259">issues</a> 记录，可能的原因是 subtitle 用的<code>typed.js</code>的<code>cdnjs</code> 没有更新，所以获取不到，可以手动添加上CDN，在 <a href="https://github.com/mattboldt/typed.js/">typed.js</a>中找到CDN：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>复制中间的网址，打开<code>themes</code>下的<code>_config.yml</code>，拉到最下面，取消注释<code>typed</code>，并填入网址：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">option:</span></span><br><span class="line">	<span class="attr">typed:</span> <span class="string">https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js</span></span><br></pre></td></tr></table></figure>



<h2 id="3-文章结尾版权信息"><a href="#3-文章结尾版权信息" class="headerlink" title="3. 文章结尾版权信息"></a>3. 文章结尾版权信息</h2><p>默认文章结尾的版权信息中虽然文章作者是对的，但是作者跳转的链接以及文章链接都是是一个例子网站，修改themes下的_config.yml中的post_copyright：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">author_href:</span> <span class="string">https://wei-ll.github.io/</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure>

<p>改完后发现文章链接的地址开头还是example，还需要修改根目录下<code>_config.yml</code>中的url为我的仓库地址。</p>
<h2 id="4-文章页面以及侧边栏卡片颜色及透明度设置"><a href="#4-文章页面以及侧边栏卡片颜色及透明度设置" class="headerlink" title="4. 文章页面以及侧边栏卡片颜色及透明度设置"></a>4. 文章页面以及侧边栏卡片颜色及透明度设置</h2><p>为配合背景图片以及Head图片，可设置文章页面以及侧边栏卡片颜色及透明度，基本参考<a href="https://zhuanlan.zhihu.com/p/582638450">https://zhuanlan.zhihu.com/p/582638450</a> ，用博文里的代码只实现了背景图片的设置，其他均没有其作用，通过大量搜索和查阅代码，一点一点搞好了。</p>
<p>步骤如下：</p>
<ol>
<li><p>在根目录下的<code>source</code>文件夹下建一个我自己的文件夹，并在下面建立<code>CSS</code>文件夹，新建<code>myStyle.css</code>文件，这里文件不放在butterfly主题下是防止主题更新覆盖掉，并且顺手把主题下的<code>img</code>文件夹以里面的图片也迁到根目录<code>source</code>下。</p>
</li>
<li><p>在<code>myStyle.css</code>写入如下代码：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#web_bg</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;../img/banner.jpg&quot;</span>),</span><br><span class="line">        <span class="built_in">linear-gradient</span>(<span class="number">60deg</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">165</span>, <span class="number">150</span>, <span class="number">0.5</span>) <span class="number">5%</span>, <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">228</span>, <span class="number">255</span>, <span class="number">0.35</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#post_bg</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;../img/banner.jpg&quot;</span>),</span><br><span class="line">        <span class="built_in">linear-gradient</span>(<span class="number">60deg</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">165</span>, <span class="number">150</span>, <span class="number">0.5</span>) <span class="number">5%</span>, <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">228</span>, <span class="number">255</span>, <span class="number">0.35</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 侧边栏个人信息卡片动态渐变色 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">6</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">6</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 侧边栏公告栏卡片渐变色 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.card-widget</span><span class="selector-class">.card-announcement</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">6</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">6</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.card-widget</span><span class="selector-class">.card-announcement</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 侧边栏目录最新文章卡片渐变色 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.sticky_layout</span>&gt;<span class="selector-class">.card-widget</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">6</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">6</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.sticky_layout</span>&gt;<span class="selector-class">.card-widget</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 个人信息Follow me按钮 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span>&gt;<span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span>&gt;<span class="selector-id">#card-info-btn</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#3eb8be</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*文章页面*/</span></span><br><span class="line"><span class="selector-class">.layout</span>&gt;<span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.layout</span>&gt;<span class="selector-id">#post</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*主页文章预览页面*/</span></span><br><span class="line"><span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-id">#recent-posts</span>&gt;<span class="selector-class">.recent-post-item</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*分类页面*/</span></span><br><span class="line"><span class="selector-class">.layout</span>&gt;<span class="selector-id">#page</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.layout</span>&gt;<span class="selector-id">#page</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*时间轴页面*/</span></span><br><span class="line"><span class="selector-class">.layout</span>&gt;<span class="selector-id">#archive</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">225</span>,<span class="number">235</span>,<span class="number">255</span>,.<span class="number">8</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.layout</span>&gt;<span class="selector-id">#archive</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">35</span>,<span class="number">37</span>,<span class="number">58</span>,.<span class="number">9</span>), </span><br><span class="line"><span class="built_in">rgba</span>(<span class="number">24</span>,<span class="number">40</span>,<span class="number">72</span>,.<span class="number">2</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中每个页面的名称可通过在网页按F12查看，<code>background: linear-gradient(渐变方向，颜色）</code>是用来设置渐变颜色的页面，可使用十六进制颜色码，可在<a href="https://uigradients.com/#Mantle">uigradient</a>查看颜色代码甚至CSS代码，我这里为了设置透明效果，需要使用rgba颜色值，在<a href="https://www.sioe.cn/yingyong/yanse-rgb-16/">https://www.sioe.cn/yingyong/yanse-rgb-16/</a> 上可方便转换。</p>
</li>
<li><p>在themes下的<code>_config.yml</code>里的inject下引用<code>myStyle.css</code>：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">     - &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;/self/css/myStyle.css&quot;</span>&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>中间其实一部分代码没什么问题，却一直不起作用，无意中删除了前后的一些空行或者空格，发现居然管用了，突然感觉估计是代码缩进的问题，因为我是直接用记事本打开的.css文件，之后记着还是用Pycharm打开吧。</p>
<h2 id="5-字体颜色"><a href="#5-字体颜色" class="headerlink" title="5. 字体颜色"></a>5. 字体颜色</h2><p>Butterfly主题是自带浅色和深色模式切换的，在浅色模式下，由于之前配置了页面透明度，感觉字看不太清，所以决定把页面改为和深色模式一样，除了修改页面颜色外，还需把字体颜色改为白色，这里直接改了全局foot颜色，在主题下的<code>source-css-var.styl</code>文件里，修改：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">$<span class="attribute">font</span>-<span class="attribute">color</span> = <span class="selector-id">#FFFFFF</span> //<span class="selector-id">#1F2D3D</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">$<span class="attribute">font</span>-black = <span class="selector-id">#FFFFFF</span> //<span class="selector-id">#4C4948</span></span><br></pre></td></tr></table></figure>

<p>侧边栏目录标题颜色修改：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$toc-link-color = #ffffff #666261</span><br></pre></td></tr></table></figure>

<p>这样，深色模式切换时就只是背景和整体的亮度变暗。</p>
<h2 id="6-添加看板娘"><a href="#6-添加看板娘" class="headerlink" title="6. 添加看板娘"></a>6. 添加看板娘</h2><ol>
<li><p>官方有提供live2d，这里想配置加强版看板娘，需先卸载原始live2d：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-helper-live2d</span><br></pre></td></tr></table></figure>
</li>
<li><p>项目下载地址：<a href="https://github.com/stevenjoezhang/live2d-widget">live2d-widget</a>， 解压到<code>themes\butterfly\source\</code>文件夹下，记得删除文件夹名后缀<code>-master</code></p>
</li>
<li><p>打开<code>live2d-widget</code>下的<code>autoload.js</code>文件，将<code>live2d_path</code>设为自己的路径，一般就是注释掉网址，取消<code>/live2d-widget/</code>的注释。</p>
</li>
<li><p>打开<code>butterfly</code>-<code>layout</code>-<code>includes</code>目录，点击修改<code>head.pug</code>文件，在文件末尾粘贴：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">script(src=&#x27;/live2d-widget/autoload.js&#x27;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>最后在主题配置文件下即butterfly下的_config.yml中开启看板娘：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 看板娘</span></span><br><span class="line"><span class="attr">live2d:</span>  </span><br><span class="line">	<span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>下面是一些自定义配置：</p>
<ul>
<li>修改首次加载的模型：</li>
</ul>
<p><code>live2d-widget</code>-<code>src</code>-<code>index.js</code>中：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">function</span> <span class="title function_">initModel</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> modelId = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;modelId&quot;</span>),</span><br><span class="line">        modelTexturesId = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;modelTexturesId&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (modelId === <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 首次访问加载 指定模型 的 指定材质</span></span><br><span class="line">        modelId = <span class="number">3</span>; <span class="comment">// 模型 ID</span></span><br><span class="line">        modelTexturesId = <span class="number">53</span>; <span class="comment">// 材质 ID</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><code>live2d-widget</code>文件夹下的<code>waifu-tips.js</code>中：</p>
<ul>
<li>修改看板娘的位置：其中人物距离底部的位置<code>margin-bottom</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">#waifu &#123;</span><br><span class="line">   <span class="attr">bottom</span>: -1000px;</span><br><span class="line">   <span class="attr">left</span>: <span class="number">0</span>;</span><br><span class="line">   line-<span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line">   margin-<span class="attr">bottom</span>: 10px;</span><br><span class="line">   <span class="attr">position</span>: fixed;</span><br><span class="line">   <span class="attr">transform</span>: <span class="title function_">translateY</span>(3px);</span><br><span class="line">   <span class="attr">transition</span>: transform .3s ease-<span class="keyword">in</span>-out, bottom 3s ease-<span class="keyword">in</span>-out;</span><br><span class="line">   z-<span class="attr">index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>人物大小</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">#live2d &#123;</span><br><span class="line">   <span class="attr">cursor</span>: grab;</span><br><span class="line">   <span class="attr">height</span>: 200px;</span><br><span class="line">   <span class="attr">position</span>: relative;</span><br><span class="line">   <span class="attr">width</span>: 200px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>按钮位置</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">#waifu-tool &#123;</span><br><span class="line">	<span class="attr">color</span>: #aaa;</span><br><span class="line">	<span class="attr">opacity</span>: <span class="number">0</span>;</span><br><span class="line">	<span class="attr">position</span>: absolute;</span><br><span class="line">	<span class="attr">right</span>: 10px;</span><br><span class="line">	<span class="attr">top</span>: 20px;</span><br><span class="line">	<span class="attr">transition</span>: opacity 1s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>按钮间距</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">#waifu-tool span &#123;</span><br><span class="line">   <span class="attr">display</span>: block;</span><br><span class="line">   <span class="attr">height</span>: 25px;</span><br><span class="line">   text-<span class="attr">align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>按钮大小</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">#waifu-tool svg &#123;</span><br><span class="line">   <span class="attr">fill</span>: #7b8c9d;</span><br><span class="line">   <span class="attr">cursor</span>: pointer;</span><br><span class="line">   <span class="attr">height</span>: 20px;</span><br><span class="line">   <span class="attr">transition</span>: fill .3s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-主页文章封面"><a href="#7-主页文章封面" class="headerlink" title="7. 主页文章封面"></a>7. 主页文章封面</h2><p>主题下的<code>_config.yml</code>里，<code>cover</code>改为<code>true</code>开启文章封面功能：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># display the cover or not (是否顯示文章封面)</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># the position of cover in home page (封面顯示的位置)</span></span><br><span class="line">  <span class="comment"># left/right/both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># When cover is not set, the default cover is displayed (當沒有設置cover時，默認的封面顯示)</span></span><br><span class="line">  <span class="attr">default_cover:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/self/img/banner.jpg</span></span><br></pre></td></tr></table></figure>

<p>每篇文章单独设置封面，需要在文章里<code>Fort-matter</code>里添加<code>cover</code>，后面跟封面图片地址，可以是网址和相对路径：</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">cover: https://lxmusic.toside.cn/img/logo.svg</span><br><span class="line"></span><br><span class="line">cover: /self/img/cover/最后的问题.jpg</span><br></pre></td></tr></table></figure>

<p>这里相对路径是根目录下source里我自己建立的self文件夹下存放的图片。</p>
<h2 id="8-评论系统"><a href="#8-评论系统" class="headerlink" title="8. 评论系统"></a>8. 评论系统</h2><p>修改主题下<code>_config.yml</code>文件：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Up to two comments system, the first will be shown as default</span></span><br><span class="line">  <span class="comment"># Choose: Disqus/Disqusjs/Livere/Gitalk/Valine/Waline/Utterances/Facebook Comments/Twikoo/Giscus/Remark42/Artalk</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">Valine</span> <span class="comment"># Valine,Disqus</span></span><br><span class="line">  <span class="attr">text:</span> <span class="literal">true</span> <span class="comment"># Display the comment name next to the button</span></span><br><span class="line">  <span class="comment"># lazyload: The comment system will be load when comment element enters the browser&#x27;s viewport.</span></span><br><span class="line">  <span class="comment"># If you set it to true, the comment count will be invalid</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">count:</span> <span class="literal">true</span> <span class="comment"># Display comment count in post&#x27;s top_img</span></span><br><span class="line">  <span class="attr">card_post_count:</span> <span class="literal">false</span> <span class="comment"># Display comment count in Home Page</span></span><br></pre></td></tr></table></figure>

<p>这里启用了<code>Valine</code>，参考<a href="https://valine.js.org/quickstart.html">Valine</a> 进行配置。其他评论系统可参考<a href="https://blog.csdn.net/qq_38157825/article/details/112783083">https://blog.csdn.net/qq_38157825/article/details/112783083</a></p>
<h2 id="9-搜索"><a href="#9-搜索" class="headerlink" title="9. 搜索"></a>9. 搜索</h2><p>我这里之开启了本地搜索local_search，按照<a href="https://butterfly.js.org/posts/ceeb73f#%E6%90%9C%E7%B4%A2">butterfly说明文档</a>，安装<a href="https://github.com/next-theme/hexo-generator-searchdb">hexo-generator-searchdb</a>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb</span><br></pre></td></tr></table></figure>

<p>修改主题配置文件：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line">  <span class="attr">top_n_per_article:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line">  <span class="attr">unescape:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure>

<p>配置完成后网站右上角首页旁边会出现搜索按钮：</p>
<p><img src="https://cdn.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230701183309928.png" alt="image-20230701183309928"></p>
<p>默认搜索页面背景是白色的，由于我之前把字体都改成了亮色，这里看不清，在主题下<code>source</code>-<code>css</code>-<code>var.styl</code>文件加下修改搜索背景颜色为暗色：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">$search-bg</span> <span class="string">=</span> <span class="comment">#25253A //#f6f8fa</span></span><br></pre></td></tr></table></figure>

<h2 id="10-设置图床"><a href="#10-设置图床" class="headerlink" title="10. 设置图床"></a>10. 设置图床</h2><p>本来打算使用Gitee仓库作为图床，因为国内可以访问，但是配置完发现不显示，查询后才知道Gitee 开启了防盗链，所以还是使用<strong>Github仓库 + Picgo + jsDelivr CDN</strong>的方案：</p>
<ol>
<li>新建一个Github的公共仓库作为图床，并在<code>Github - Settings - Personal access tokens</code> 中生成token。</li>
<li>下载<a href="https://github.com/Molunerfinn/PicGo/releases">PicGo</a> ，安装，打开Picgo，点击图床设置，选择Github图床，填写如下信息。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230701183947239.png" alt="image-20230701183947239"></p>
<p>自定义域名填写：<code>https://cdn.jsdelivr.net/gh/用户名/仓库名</code>， 采用<code>jsDelivr CDN</code>进行加速。</p>
<ol start="3">
<li>配置Typora，在偏好设置，图像里设置PicGo：<img src="https://cdn.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230701184154528.png" alt="image-20230701184154528"></li>
</ol>
<p>之后文章中的图片只需要粘贴进去就会自动上传。</p>
<h2 id="11-背景特效"><a href="#11-背景特效" class="headerlink" title="11. 背景特效"></a>11. 背景特效</h2><p>Butterfly自带三个背景特效：canvas_ribbon (靜止彩帶背景)， Fluttering Ribbon (動態彩帶) 和 canvas_nest，只需要在主题下_config.yml将相应的enable设置为true即可。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># canvas_ribbon (靜止彩帶背景)</span><br><span class="line"># See: https://github.com/hustcc/ribbon.js</span><br><span class="line">canvas_ribbon:</span><br><span class="line">  enable: false</span><br><span class="line">  size: 150</span><br><span class="line">  alpha: 0.6</span><br><span class="line">  zIndex: -1</span><br><span class="line">  click_to_change: false</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># Fluttering Ribbon (動態彩帶)</span><br><span class="line">canvas_fluttering_ribbon:</span><br><span class="line">  enable: false</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br><span class="line"># canvas_nest</span><br><span class="line"># https://github.com/hustcc/canvas-nest.js</span><br><span class="line">canvas_nest:</span><br><span class="line">  enable: false</span><br><span class="line">  color: &#x27;255,0,255&#x27; #color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(note: use &#x27;,&#x27; to separate.)</span><br><span class="line">  opacity: 0.7 # the opacity of line (0~1), default: 0.5.</span><br><span class="line">  zIndex: 1 # z-index property of the background, default: -1.</span><br><span class="line">  count: 99 # the number of lines, default: 99.</span><br><span class="line">  mobile: false</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="12-其他颜色修改"><a href="#12-其他颜色修改" class="headerlink" title="12. 其他颜色修改"></a>12. 其他颜色修改</h2><h3 id="主页文章标题选中颜色"><a href="#主页文章标题选中颜色" class="headerlink" title="主页文章标题选中颜色"></a>主页文章标题选中颜色</h3><p><code>/butterfly/source/css/_page/</code> 目录下的 <code>homepage.styl</code> 文件，修改以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp; &gt; .article-title</span><br><span class="line">  @extend .limit-more-line</span><br><span class="line">  color: var(--text-highlight-color)</span><br><span class="line">  font-size: 1.55em</span><br><span class="line">  line-height: 1.4</span><br><span class="line">  transition: all .2s ease-in-out</span><br><span class="line">  -webkit-line-clamp: 2</span><br><span class="line"></span><br><span class="line">  +maxWidth768()</span><br><span class="line">    font-size: 1.43em</span><br><span class="line"></span><br><span class="line">  &amp;:hover</span><br><span class="line">    color: rgb(200,200,250)//$text-hover</span><br></pre></td></tr></table></figure>

<h3 id="文章页面链接选中颜色"><a href="#文章页面链接选中颜色" class="headerlink" title="文章页面链接选中颜色"></a>文章页面链接选中颜色</h3><p><code>/butterfly/source/css/_global/</code> 目录下的 <code>index.sty</code> 文件，修改以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">button</span><br><span class="line">  padding: 0</span><br><span class="line">  outline: 0</span><br><span class="line">  border: none</span><br><span class="line">  background: none</span><br><span class="line">  cursor: pointer</span><br><span class="line">  touch-action: manipulation</span><br><span class="line"></span><br><span class="line">a</span><br><span class="line">  color: $a-link-color</span><br><span class="line">  text-decoration: none</span><br><span class="line">  word-wrap: break-word</span><br><span class="line">  transition: all .2s</span><br><span class="line">  overflow-wrap: break-word</span><br><span class="line"></span><br><span class="line">  &amp;:hover</span><br><span class="line">    color: rgb(230,230,250)//$light-blue</span><br></pre></td></tr></table></figure>

<h3 id="分类页颜色"><a href="#分类页颜色" class="headerlink" title="分类页颜色"></a>分类页颜色</h3><h4 id="分类页左侧圈圈颜色"><a href="#分类页左侧圈圈颜色" class="headerlink" title="分类页左侧圈圈颜色:"></a>分类页左侧圈圈颜色:</h4><p> <code>/butterfly/source/css/_global/</code> 目录下的 <code>function.styl</code> 文件，修改以下代码：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.list-beauty</span><br><span class="line">  list-style: none</span><br><span class="line"></span><br><span class="line">  li</span><br><span class="line">    position: relative</span><br><span class="line">    padding: .12em .4em .12em 1.4em</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      &amp;:before</span><br><span class="line">        border-color: var(--pseudo-hover) //鼠标放置时圈圈的颜色</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      position: absolute</span><br><span class="line">      top: .67em</span><br><span class="line">      left: 0</span><br><span class="line">      width: w = .43em</span><br><span class="line">      height: h = w</span><br><span class="line">      border: .5 * w solid rgb(120,120,250)//$light-blue //圈圈的颜色</span><br><span class="line">      border-radius: w</span><br><span class="line">      background: transparent</span><br><span class="line">      content: &#x27;&#x27;</span><br><span class="line">      cursor: pointer //鼠标放置在圈圈上时会变成手，如果想取消，注释即可</span><br><span class="line">      transition: all .3s ease-out</span><br></pre></td></tr></table></figure>

<h4 id="分类页词条选中颜色："><a href="#分类页词条选中颜色：" class="headerlink" title="分类页词条选中颜色："></a>分类页词条选中颜色：</h4><p><code>/butterfly/source/css/_page/</code>目录下的 <code>categories.styl</code> 文件，修改以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.category-list</span><br><span class="line">  margin-bottom: 0</span><br><span class="line"></span><br><span class="line">  a</span><br><span class="line">    color: var(--font-color)</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      color: rgb(120,120,250)//$text-hover  //分类页词条选中颜色</span><br></pre></td></tr></table></figure>

<h3 id="归档页颜色"><a href="#归档页颜色" class="headerlink" title="归档页颜色"></a>归档页颜色</h3><p>&#x2F;butterfly&#x2F;source&#x2F;css&#x2F;_page&#x2F; 目录下的 archives.styl 文件，修改以下代码：</p>
<h4 id="文章总览左侧圈圈："><a href="#文章总览左侧圈圈：" class="headerlink" title="文章总览左侧圈圈："></a>文章总览左侧圈圈：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;-title</span><br><span class="line">  position: relative</span><br><span class="line">  margin-left: 10px</span><br><span class="line">  padding-bottom: 20px</span><br><span class="line">  padding-left: 20px</span><br><span class="line">  font-size: 1.72em</span><br><span class="line"></span><br><span class="line">  &amp;:hover</span><br><span class="line">    &amp;:before</span><br><span class="line">      border-color: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">  &amp;:before</span><br><span class="line">    position: absolute</span><br><span class="line">    top: calc(((100% - 36px) / 2))</span><br><span class="line">    left: -9px</span><br><span class="line">    z-index: 1</span><br><span class="line">    width: w = 10px</span><br><span class="line">    height: h = w</span><br><span class="line">    border: .5 * w solid rgb(120,120,250)//$light-blue //文章总览左侧圈圈：</span><br><span class="line">    border-radius: w</span><br><span class="line">    background: var(--card-bg)</span><br><span class="line">    content: &#x27;&#x27;</span><br><span class="line">    line-height: h</span><br><span class="line">    transition: all .2s ease-in-out</span><br></pre></td></tr></table></figure>

<h4 id="文章左侧圈圈："><a href="#文章左侧圈圈：" class="headerlink" title="文章左侧圈圈："></a>文章左侧圈圈：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;-item</span><br><span class="line">    position: relative</span><br><span class="line">    display: flex</span><br><span class="line">    align-items: center</span><br><span class="line">    margin: 0 0 20px 10px</span><br><span class="line">    transition: all .2s ease-in-out</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      &amp;:before</span><br><span class="line">        border-color: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      $w = 6px</span><br><span class="line">      position: absolute</span><br><span class="line">      left: calc(-20px - 17px)</span><br><span class="line">      width: w = $w</span><br><span class="line">      height: h = w</span><br><span class="line">      border: .5 * w solid rgb(120,120,250)//$light-blue //title左侧圈圈</span><br><span class="line">      border-radius: w</span><br><span class="line">      background: var(--card-bg)</span><br><span class="line">      content: &#x27;&#x27;</span><br><span class="line">      transition: all .2s ease-in-out</span><br></pre></td></tr></table></figure>

<h4 id="鼠标选中文字变成的颜色："><a href="#鼠标选中文字变成的颜色：" class="headerlink" title="鼠标选中文字变成的颜色："></a>鼠标选中文字变成的颜色：</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&amp;-item</span><br><span class="line">...</span><br><span class="line">    &amp;-title</span><br><span class="line">          @extend .limit-more-line</span><br><span class="line">          color: var(--font-color)</span><br><span class="line">          font-size: 1.1em</span><br><span class="line">          transition: all .3s</span><br><span class="line">          -webkit-line-clamp: 2</span><br><span class="line"></span><br><span class="line">          &amp;:hover</span><br><span class="line">            color: $strong-cyan//$text-hover  //鼠标选中文字变成的颜色</span><br><span class="line">            transform: translateX(10px)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>解决方案</category>
      </categories>
      <tags>
        <tag>解决方案</tag>
        <tag>博客搭建</tag>
      </tags>
  </entry>
  <entry>
    <title>个人收藏-短片科幻小说-带上她的眼睛</title>
    <url>/2023/11/03/%E4%B8%AA%E4%BA%BA%E6%94%B6%E8%97%8F-%E7%9F%AD%E7%89%87%E7%A7%91%E5%B9%BB%E5%B0%8F%E8%AF%B4-%E5%B8%A6%E4%B8%8A%E5%A5%B9%E7%9A%84%E7%9C%BC%E7%9D%9B/</url>
    <content><![CDATA[<h1 id="带上她的眼睛"><a href="#带上她的眼睛" class="headerlink" title="带上她的眼睛"></a>带上她的眼睛</h1><p><strong>作者：刘慈欣</strong></p>
<p><img src="https://raw.githubusercontent.com/Wei-LL/blog-img/main/img/1111.png" alt="1111"></p>
<p>连续工作了两个多月，我实在累了，便请求主任给我两天假，出去短暂旅游一下散散心。主任答应了，条件是我再带一双眼睛去，我也答应了，于是他带我去拿眼睛。</p>
<p>   眼睛放在控制中心走廊尽头的一个小房间里，现在还剩下十几双。</p>
<p>   主任递给我一双眼睛，指指前面的大屏幕，把眼睛的主人介绍给我，是一个好象刚毕业的小姑娘，呆呆地看着我。在肥大的太空服中，她更显得娇小，一副可怜兮兮的样子，显然刚刚体会到太空不是她在大学图书馆中想象的浪漫天堂，某些方面可能比地狱还稍差些。</p>
<p>   “麻烦您了，真不好意思。她连连向我鞠躬，这是我听到过的最轻柔的声音，我想象着这声音从外太空飘来，象一阵微风吹过轨道上那些庞大粗陋的钢结构，使它们立刻变得象橡皮泥一样软。</p>
<p>   “一点都不，我很高兴有个伴儿的。你想去那儿？”我豪爽地说。</p>
<p>   “什么？您自己还没决定去哪儿？”她看上去很高兴。但我立刻感到两个异样的地方，其一，地面与外太空通讯都有延时，即使在月球，延时也有两秒钟，小行星带延时更长，但她的回答几乎感觉不到延时，这就是说，她现在在近地轨道，那里回地面不用中转，费用和时间都不需多少，没必要托别人带眼睛去渡假。其二是她身上的太空服，做为航天个人装备工程师，我觉得这种太空服很奇怪：在服装上看不到防辐射系统，放在她旁边的头盔的面罩上也没有强光防护系统；我还注意到，这套服装的隔热和冷却系统异常发达。</p>
<p>   “她在哪个空间站？”我扭头问主任。</p>
<p>   “先别问这个吧。”主任的脸色很阴沉。</p>
<p>   “别问好吗？”屏幕上的她也说，还是那副让人心软的小可怜样儿。</p>
<p>   “你不会是被关禁闭吧？”我开玩笑说，因为她所在的舱室十分窄小，显然是一个航行体的驾驶舱，各种复杂的导航系统此起彼伏地闪烁着，但没有窗子，也没有观察屏幕，只有一支在她头顶打转的失重的铅笔说明她是在太空中。听了我的话，她和主任似乎都愣了一下，我赶紧说：“好，我不问自己不该知道的事了，你还是决定我们去哪儿吧。</p>
<p>   这个决定对她很艰难，她的双手在太空服的手套里握在胸前，双眼半闭着，似乎是在决定生存还是死亡，或者认为地球在我们这次短暂的旅行后就要爆炸了。我不由笑出声来。</p>
<p>   “哦，这对我来说不容易，您要是看过海伦。凯勒的《三天所见》的话，就能明白这多难了！”</p>
<p>   “我们没有三天，只有两天。在时间上，这个时代的人都是穷光蛋。但比那个二十世纪盲人的幸运的是，我和你的眼晴在三小时内可到达地球的仍何一个地方。”</p>
<p>   “那就去我们起航前去过的地方吧！”她告诉了我那个地方，于是我带着她的眼睛去了。</p>
<h4 id="1-草原"><a href="#1-草原" class="headerlink" title="1. 草原"></a>1. 草原</h4><p>   这是高山与平原，草原与森林的交接处，距我工作的航天中心有两千多公里，乘电离层飞机用了15分钟就到了这儿。面前的塔克拉玛干，经过几代人的努力，已由沙漠变成了草原，又经过几代强有力的人口控制，这儿再次变成了人迹罕至的地方。</p>
<p>   现在大草原从我面前一直延伸到天边，背后的天山覆盖着暗绿色的森林，几座山顶还有银色的雪冠。我掏出她的眼晴戴上。</p>
<p>   所谓眼睛就是一付传感眼镜，当你戴上它时，你所看到的一切图象由超高频信息波发射出去，可以被远方的另一个戴同样传感眼镜的人接收到，于是他就能看到你所看到的一切，就象你带着他的眼睛一样。</p>
<p>   现在，长年在月球和小行星带工作的人已有上百万，他们回地球渡假的费用是惊人的，于是吝啬的宇航局就设计了这玩艺儿，于是每个生活在外太空的宇航员在地球上都有了另一双眼睛，由这里真正能去渡假的幸运儿带上这双眼睛，让身处外太空的那个思乡者分享他的快乐。这个小玩艺开始被当做笑柄，但后来由于用它“渡假”</p>
<p>   的人能得到可观的补助，竟流行开来。最尖端的技术被采用，这人造眼睛越做越精致，现在，它竟能通过采集戴着它的人的脑电波，把他(她)的触觉和味觉一同发射出去。多带一双眼睛去渡假成了宇航系统地面工作人员从事的一项公益活动，由于渡假中的隐私等原因，并不是每个人都乐意再带双眼睛，但我这次无所谓。</p>
<p>   我对眼前的景色大发感叹，但从她的眼睛中，我听到了一阵轻轻的抽泣声。</p>
<p>   “上次离开后，我常梦到这里，现在回到梦里来了！”她细细的声音从她的眼睛中传出来，“我现在就象从很深很深的水底冲出来呼吸到空气，我太怕封闭了。</p>
<p>   我从中真的听到她在做深呼吸。</p>
<p>   我说：“可你现在并不封闭，同你周围的太空比起来，这草原太小了。”</p>
<p>   她沉默了，似乎连呼吸都停止了。</p>
<p>   “啊，当然，太空中的人还是封闭的，二十世纪的一个叫耶格尔的飞行员曾有一句话，是描述飞船中的宇航员的，说他们象……”</p>
<p>   “罐头中的肉。”</p>
<p>   我们都笑了起来。她突然惊叫：“呀，花儿，有花啊！上次我来时没有的！”是的，广阔的草原上到处点缀着星星点点的小花。“能近些看看那朵花吗？”，我蹲下来看，“呀，真美耶！能闻闻她吗？不，别拔下她！”，我只好半趴到地上闻，一缕淡淡的清香，“啊，我也闻到了，真象一首隐隐传来的小夜曲呢！”</p>
<p>   我笑着摇摇头，这是一个闪电变幻疯狂追逐的时代，女孩子们都浮躁到了极点，象这样的见花落泪的林妹妹真是太少了。</p>
<p>   “我们给这朵小花起个名字好吗？嗯……叫她梦梦吧。我们再看看那一朵好吗？</p>
<p>   他该叫什么呢？嗯，叫小雨吧；再到那一朵那儿去，啊，谢谢，看她的淡蓝色，她的名字应该是月光……“</p>
<p>   我们就这样一朵朵地看花，闻花，然后再给它起名字。她陶醉于其中，没完没了地进行下去，忘记了一切。我对这套小女孩的游戏实在厌烦了，到我坚持停止时，我们已给上百朵花起了名字。</p>
<p>   一抬头，我发现已走出了好远，便回去拿丢在后面的背包，当我拾起草地上的背包时，又听到了她的惊叫：“天啊，你把小雪踩住了！”我扶起那朵白色的野花，觉得很可笑，就用两只手各捂住一朵小花，问她：“她们都叫什么？什么样儿？”</p>
<p>   “左边那朵叫水晶，也是白色的，它的茎上有分开的三片叶儿；右边那朵叫火苗，粉红色，茎上有四片叶子，上面两片是单的，下面两片连在一起。”</p>
<p>   她说的都对，我有些感动了。</p>
<p>   “你看，我和她们都互相认识了，以后漫长的日子里，我会好多次一遍遍地想她们每一个的样儿，象背一本美丽的童话书。你那儿的世界真好！”</p>
<p>   “我这儿的世界？要是你再这么孩子气地多愁善感下去，这也是你的世界了，那些挑剔的太空心理医生会让你永远呆在地球上。”</p>
<p>   我在草原上无目标地漫步，很快来到一条隐没在草丛中的小溪旁。我迈过去继续向前走，她叫住了我，说：“我真想把手伸到小河里。”我蹲下来把手伸进溪水，一股清凉流遍全身，她的眼睛用超高频信息波把这感觉传给远在太空中的她，我又听到了她的感叹。</p>
<p>   “你那儿很热吧？”我想起了她那窄小的控制舱和隔热系统异常发达的太空服。</p>
<p>   “热，热得象……地狱。呀，天啊，这是什么？草原的风？！”这时我刚把手从水中拿出来，微风吹在湿手上凉丝丝的，“不，别动，这是真是天国的风呀！”我把双手举在草原的微风中，直到手被吹干。然后应她的要求，我又把手在溪水中打湿，再举到风中把天国的感觉传给她。我们就这样又消磨了很长时间。</p>
<p>   再次上路后，沉默地走了一段，她又轻轻地说：“你那儿的世界真好。”</p>
<p>   我说：“我不知道，灰色的生活把我这方面的感觉都磨钝了。”</p>
<p>   “怎么会呢？！这世界能给人多少感觉啊！谁要能说清这些感觉，就如同说清大雷雨有多少雨点一样。看天边那大团的白云，银白银白的，我这时觉得它们好象是固态的，象发光玉石构成的高山。下面的草原，这时倒象是气态的，好象所有的绿草都飞离了大地，成了一片绿色的云海。看！当那片云遮住太阳又飘开时，草原上光和影的变幻是多么气势磅薄啊！看看这些，您真的感受不到什么吗？”</p>
<p>   ……</p>
<p>   我带着她的眼睛在草原上转了一天，她渴望地看草原上的每一朵野花，每一棵小草，看草丛中跃动的每一缕阳光，渴望地听草原上的每一种声音。一条突然出现的小溪，小溪中的一条小鱼，都会令她激动不已；一阵不期而至的微风，风中一缕绿草的清香都会让她落泪……我感到，她对这个世界的情感已丰富到病态的程度。</p>
<p>   日落前，我走到了草原中一间孤伶伶的白色小屋，那是为旅游者准备的一间小旅店，似乎好久没人光顾了，只有一个迟钝的老式机器人照看着旅店里的一切。我又累又饿，可晚饭只吃到一半，她又提议我们立刻去看日落。</p>
<p>   “看着晚霞渐渐消失，夜幕慢慢降临森林，就象在听一首宇宙间最美的交响曲。”</p>
<p>   她陶醉地说。我暗暗叫苦，但还是拖着沉重的双腿去了。</p>
<p>   草原的落日确实很美，但她对这种美倾泻的情感使这一切有了一种异样的色彩。</p>
<p>   “你很珍视这些平凡的东西。”回去的路上我对她说，这时夜色已很重，星星已在夜空中出现。</p>
<p>   “你为什么不呢，这才象在生活。”她说。</p>
<p>   “我，还有其他的大部分人，不可能做到这样。在这个时代，得到太容易了。物质的东西自不必说，蓝天绿水的优美环境、乡村和孤岛的宁静等等都可以毫不费力地得到；甚至以前人们认为最难寻觅的爱情，在虚拟现实网上至少也可以暂时体会到。</p>
<p>   所以人们不再珍视什么了，面对着一大堆伸手可得的水果，他们把拿起的每一个咬一口就扔掉。</p>
<p>   “但也有人面前没有这些水果。”她低声说。</p>
<p>   我感觉自己剌痛了她，但不知为什么。回去的路上，我们都没再说话。</p>
<p>   这天夜里的梦境中，我看到了她，穿着太空服在那间小控制舱中，眼里含泪，向我伸出手来喊：“快带我出去，我怕封闭！”我惊醒了，发现她真在喊我，我是戴着她的眼睛仰躺着睡的。</p>
<p>   “请带我出去好吗？我们去看月亮，月亮该升起来了！”</p>
<p>   我脑袋发沉，迷迷糊糊很不情愿地起了床。到外面后发现月亮真的刚升起来，草原上的夜雾使它有些发红。月光下的草原也在沉睡，有无数点萤火虫的幽光在朦朦胧胧的草海上浮动，仿佛是草原的梦在显形。</p>
<p>   我伸了个懒腰，对着夜空说：“喂，你是不是从轨道上看到月光照到这里？告诉我你的飞船的大概方位，说不定我还能看到呢，我肯定它是在近地轨道上。”</p>
<p>   她没有回答我的话，而是自己轻轻哼起了一首曲子，一小段旋律过后，她说：“这是德彪西的《月光》。”又接着哼下去，陶醉于其中，完全忘记了我的存在。《月光》的旋律同月光一起从太空降落到草原上。我想象着太空中的那个娇弱的女孩，她的上方是银色的月球，下面是蓝色的地球，小小的她从中间飞过，把音乐溶入月光……</p>
<p>   直到一个小时后我回去躺到床上，她还在哼着音乐，是不是德彪西的我就不知道了，那轻柔的乐声一直在我的梦中飘荡着。</p>
<p>   不知过了多久，音乐变成了呼唤，她又叫醒了我，还要出去。</p>
<p>   “你不是看过月亮了吗？！”我生气地说。</p>
<p>   “可现在不一样了，记得吗，刚才西边有云的，现在那些云可能飘过来了，现在月亮正在云中时隐时现呢，想想草原上的光和影，多美啊，那是另一种音乐了，求你带我的眼睛出去吧！”</p>
<p>   我十分恼火，但还是出去了。云真的飘过来了，月亮在云中穿行，草原上大块的光斑在缓缓浮动，如同大地深处浮现的远古的记忆。</p>
<p>   “你象是来自十八世纪的多愁善感的诗人，完全不适合这个时代，更不适合当宇航员。”我对着夜空说，然后摘下她的眼睛，挂到旁边一棵红柳的枝上，“你自己看月亮吧，我真的得睡觉去了，明天还要赶回航天中心，继续我那毫无诗意的生活呢。”</p>
<p>   她的眼睛中传出了她细细的声音，我听不清说什么，径自回去了。</p>
<p>   我醒来时天已大亮，阴云已布满了天空，草原笼罩在蒙蒙的小雨中。她的眼睛仍挂在红柳枝上，镜片上蒙上了一层水雾。我小心地擦干镜片，戴上它。原以为她看了一夜月亮，现在还在睡觉，却从眼睛中听到了她低低的抽泣声，我的心一下子软下来。</p>
<p>   “真对不起，我昨天晚上实在太累了。”</p>
<p>   “不，不是因为你，呜呜，天从三点半就阴了，五点多又下起雨……</p>
<p>   “你一夜都没睡？！”</p>
<p>   “……呜呜，下起雨，我，我看不到日出了，我好想看草原的日出，呜呜，好想看的，呜……</p>
<p>   我的心象是被什么东西溶化了，脑海中出现她眼泪汪汪，小鼻子一抽一抽的样儿，眼睛竟有些湿润。不得不承认，在过去的一天一夜里，她教会了我某种东西，一种说不清的东西，象月夜中草原上的光影一样朦胧，由于它，以后我眼中的世界与以前会有些不同的。</p>
<p>   “草原上总还会有日出的，以后我一定会再带你的眼睛来，或者，带你本人来看，好吗？”</p>
<p>   她不哭了，(此处去掉一句)，突然，她低声说：</p>
<p>   “听……”</p>
<p>   我没听见什么，但紧张起来。</p>
<p>   “这是今天的第一声鸟叫，雨中也有鸟呢！”她激动地说，那口气如同听到世纪钟声一样庄严。</p>
<h4 id="2-落日六号"><a href="#2-落日六号" class="headerlink" title="2. 落日六号"></a>2. 落日六号</h4><p>   又回到了灰色的生活和忙碌的工作中，以上的经历很快就淡忘了。很长时间后，当我想起洗那些那次旅行时穿的衣服时，在裤脚上发现了两三棵草籽。同时，在我的意识深处，也有一棵小小的种子留了下来。在我孤独寂寞的精神沙漠中，那棵种子已长出了令人难以察觉的绿芽。虽然是无意识地，当一天的劳累结束后，我已能感觉到晚风吹到脸上时那淡淡的诗意，鸟儿的鸣叫已能引起我的注意，我甚至黄昏时站在天桥上，看着夜幕降临城市……世界在我的眼中仍是灰色的，但星星点点的嫩绿在其中出现，并在增多。当这种变化发展到让我觉察出来时，我又想起了她。</p>
<p>   也是无意识地，在闲暇时甚至睡梦中，她身处的环境常在我的脑海中出现，那封闭窄小的控制舱，奇怪的隔热太空服……后来这些东西在我的意识中都隐去了，只有一样东西凸现出来，这就是那在她头顶上打转的失重的铅笔，不知为什么，一闭上眼睛，这只铅笔总在我的眼前飘浮。终于有一天，上班时我走进航天中心高大的门厅，一幅见过无数次的巨大壁画把我吸引住了，壁画上是从太空中拍摄的蔚蓝色的地球。那只飘浮的铅笔又在我的眼前出现了，同壁画叠印在一起，我又听到了她的声音：</p>
<p>   “我怕封闭……”一道闪电在我的脑海里出现。</p>
<p>   除了太空，还有一个地方会失重！！</p>
<p>   我发疯似地跑上楼，猛砸主任办公室的门，他不在，我心有灵犀地知道他在哪儿，就飞跑到存放眼睛的那个小房间，他果然在里面，看着大屏幕。她在大屏幕上，还在那个封闭的控制舱中，穿着那件“太空服”，画面凝固着，是以前录下来的。“是为了她来的吧。”主任说，眼睛还看着屏幕。</p>
<p>   “她到底在哪儿？！”我大声问。</p>
<p>   “你可能已经猜到了，她是‘落日六号‘的领航员。”</p>
<p>   一切都明白了，我无力地跌坐在地毯上。</p>
<p>   “落日工程”原计划发射十艘飞船，它们是“落日一号”到“落日十号”，但计划由于“落日六号”的失事而中断了。“落日工程”是一次标准的探险航行，它的航行程序同航天中心的其它航行几乎一样。</p>
<p>   唯一不同的是，“落日”飞船不是飞向太空，而是潜入地球深处。</p>
<p>   第一次太空飞行一个半世纪后，人类开始了向相反方向的探险，“落日”系列地航飞船就是这种探险的首次尝试。</p>
<p>   四年前，我在电视中看到过“落日一号”发射时的情景。那时正是深夜，吐鲁番盆地的中央出现了一个如太阳般耀眼的火球，火球的光芒使新疆夜空中的云层变成了绚丽的朝霞。当火球暗下来时，“落日一号”已潜入地层。大地被烧红了一大片，这片圆形的发着红光的区域中央，是一个岩浆的湖泊，白热化的岩浆沸腾着，激起一根根雪亮的浪柱……那一夜，远至乌鲁木奇，都能感到飞船穿过地层时传到大地上的微微振动。</p>
<p>   “落日工程”的前五艘飞船都成功地完成了地层航行，安全返回地面。其中“落日五号”创造了迄今为止人类在地层中航行深度的记录：海平面下3100公里。“落日六号”不打算突破这个记录。因为据地球物理学家的结论，在地层3400-3500公里深处，存在着地幔和地核的交界面，学术上把它叫做“古腾堡不连续面”，一旦通过这个交界面，便进入地球的液态铁镍核心，那里物质密度骤然增大，“落日六号”的设计强度是不允许在如此大的密度中航行的。</p>
<p>   “落日六号”的航行开始很顺利，飞船只用了两个小时便穿过了地表和地幔的交界面—-莫霍不连续面，并在大陆板块漂移的滑动面上停留了五个小时，然后开始了在地幔中三千多公里的漫长航行。宇宙航行是寂寞的，但宇航员们能看到无限的太空和壮丽的星群；而地航飞船上的地航员们，只能凭感觉触摸飞船周围不断向上移去的高密度物质。从飞船上的全息后视电视中能看到这样的情景：炽热的岩浆剌目地闪亮着，翻滚着，随着飞船的下潜，在船尾飞快地合拢起来，瞬间充满了飞船通过的空间。有一名地航员回忆：他们一闭上眼睛，就看到了飞快合拢并压下来的岩浆，这个幻象使航行者意识到压在他们上方那巨量的并不断增厚的物质，一种地面上的人难以理解的压抑感折磨着地航飞船中的每一个人，他们都受到这种封闭恐惧症的袭击。</p>
<p>   “落日六号”出色地完成着航行中的各项研究工作。飞船的速度大约是每小时15公里，飞船需要航行20小时才能到达预定深度。但在飞船航行15小时40分钟时，警报出现了。从地层雷达的探测中得知，航行区的物质密度由每立方厘米6。3克猛增到9。5克，物质成份由硅酸盐类突然变为以铁镍为主的金属，物质状态也由固态变为液态。尽管“落日六号”当时只到达了2500公里的深度，目前所有的迹象却冷酷地表明，他们闯入了地核！后来得知，这是地幔中一条通向地核的裂隙，地核中的高压液态铁镍充满了这条裂隙，使得在“落日六号”的航线上，古腾堡不连续面向上延伸了近1000公里！飞船立刻紧急转向，企图冲出这条裂隙，不幸就在这时发生了：由中子材料制造的船体顶住了突然增加到每平方厘米1600吨的巨大压力，但是，飞船分为前部烧熔发动机、中部主舱和后部推进发动机三大部分，当飞船在远大于设计密度和设计压力的液态铁镍中转向时，烧熔发动机与主舱结合部断裂，从“落日六号”用中微子通讯发回的画面中我们看到，已与船体分离的烧熔发动机在一瞬间被发着暗红光的液态铁镍吞没了。地层飞船的烧熔发动机用超高温射流为飞船切开航行方向的物质，没有它，只剩下一台推进发动机的“落日六号”在地层中是寸步难行的。地核的密度很惊人，但构成飞船的中子材料密度更大，液态铁镍对飞船产生的浮力小于它的自重，于是，“落日六号”便向地心沉下去。</p>
<p>   人类登月后，用了一个半世纪才有能力航行到土星。在地层探险方面，人类也要用同样的时间才有能力从地幔航行到地核。现在的地航飞船误入地核，就如同二十世纪中期的登月飞船偏离月球迷失于外太空，获救的希望是丝毫不存在的。</p>
<p>   好在“落日六号”主舱的船体是可靠的，船上的中微子通讯系统仍和地面控制中心保持着完好的联系。以后的一年中，“落日六号”航行组坚持工作，把从地核中得到了大量宝贵资料发送到地面。他们被裹在几千公里厚的物质中，这里别说空气和生命，连空间都没有，周围是温度高达五千度，压力可以把碳在一秒钟内变成金钢石的液态铁镍！它们密密地挤在“落日六号”的周围，密得只有中微子才能穿过，“落日六号”是处于一个巨大的炼钢炉中！在这样的世界里，《神曲》中的《地狱篇》像是在描写天堂了；在这样的世界里，生命算什么？仅仅能用脆弱来描写它吗？</p>
<p>   沉重的心理压力象毒蛇一样撕裂着“落日六号”地航员们的神经。一天，船上的地质工程师从睡梦中突然跃起，竟打开了他所在的密封舱的绝热门！虽然这只是四道绝热门中的第一道，但瞬间涌入的热浪立刻把他烧成了一段木炭。指令长在一个密封舱飞快地关上了绝热门，避免了“落日六号”的彻底毁灭。他自己被严重烧伤，在写完最后一页航行日志后死去了。</p>
<p>   从那以后，在这个星球的最深处，在“落日六号”上，只剩下她一个人了。</p>
<p>   现在，“落日六号”内部已完全处于失重状态，飞船已下沉到6800公里深处，那里是地球的最深处，她是第一个到达地心的人。</p>
<p>   她在地心的世界是那个活动范围不到10平方米的闷热的控制舱。飞船上有一个中微子传感眼镜，这个装置使她同地面世界多少保持着一些感性的联系。但这种如同生命线的联系不能长时间延续下去，飞船里中微子通讯设备的能量很快就要耗尽，现有的能量已不能维持传感眼镜的超高速数据传输，这种联系在三个月前就中断了，具体时间是在我从草原返回航天中心的飞机上，当时我已把她的眼晴摘下来放到旅行包中。</p>
<p>   那个没有日出的细雨蒙蒙的草原早晨，竟是她最后看到的地面世界。</p>
<p>   后来“落日六号”同地面只能保持着语音和数据通讯，而这个联系也在一天深夜中断了，她被永远孤独地封闭于地心中。</p>
<p>   “落日六号”的中子材料外壳足以抵抗地心的巨大压力，而飞船上的生命循环系统还可以运行五十至八十年，她将在这不到10平方米的地心世界里渡过自己的余生。</p>
<p>   我不敢想象她同地面世界最后告别的情形，但主任让我听的录音出乎我的意料。</p>
<p>   这时来自地心的中微子波束已很弱，她的声音时断时续，但这声音很平静。</p>
<p>   “……你们发来的最后一份补充建议已经收到，今后，我会按照整个研究计划努力工作的。将来，可能是几代人以后吧，也许会有地心飞船找到‘落日六号‘并同它对接，有人会再次进入这里，但愿那时我留下的资料会有用。请你们放心，我会在这里安排好自己生活的。我现在已适应这里，不再觉得狭窄和封闭了，整个世界都围着我呀，我闭上眼睛就能看见上面的大草原，还可以清楚地看见每一朵我起了名字的小花呢。再见。”</p>
<h4 id="3-透明地球"><a href="#3-透明地球" class="headerlink" title="3. 透明地球"></a>3. 透明地球</h4><p>   在以后的岁月中，我到过很多地方，每到一个处，我都喜欢躺在那里的大地上。</p>
<p>   我曾经躺在海南岛的海滩上、阿拉斯加的冰雪上、俄罗斯的白桦林中、撒哈拉烫人的沙漠上。……每到那个时刻，地球在我脑海中就变得透明了，在我下面六千多公里深处，在这巨大的水晶球中心，我看到了停汨在那里的“落日六号”地航飞船，感受到了从几千公里深的地球中心传出的她的心跳。我想象着金色的阳光和银色的月光透射到这个星球的中心，我听到了那里传出的她吟唱的《月光》，还听到她那轻柔的话音：</p>
<p>   “……多美啊，这又是另一种音乐了……</p>
<p>   有一个想法安慰着我：不管走到天涯海角，我离她都不会再远了。</p>
]]></content>
      <categories>
        <category>个人收藏</category>
        <category>短篇科幻小说</category>
        <category>刘慈欣</category>
      </categories>
      <tags>
        <tag>短篇科幻小说</tag>
      </tags>
  </entry>
  <entry>
    <title>地球无应答</title>
    <url>/2023/10/22/%E4%B8%AA%E4%BA%BA%E6%94%B6%E8%97%8F-%E7%9F%AD%E7%89%87%E7%A7%91%E5%B9%BB%E5%B0%8F%E8%AF%B4-%E5%9C%B0%E7%90%83%E6%97%A0%E5%BA%94%E7%AD%94/</url>
    <content><![CDATA[<h1 id="地球无应答"><a href="#地球无应答" class="headerlink" title="地球无应答"></a>地球无应答</h1><p><strong>作者：王诺诺， 《地球无应答》第一章2， 湖南文艺出版社</strong></p>
<p>我在广袤无垠的宇宙里单向飞行，前途未卜，但我知道只要继续飞，我还会遇到过去，还会遇到未来。</p>
<p>“第324次呼叫失败，地球无应答。是否重新呼叫？”</p>
<p>电脑的智能语音提示道。</p>
<p>核引擎每隔一段时间引爆一小颗原子弹，爆炸冲击加速盘，推动飞船向前。但一切都是安静的，窗外是质密流动的黑暗，水银般包裹飞船，吞没了核引擎的每一声尖叫。如果每三秒重复一次这样的爆炸，飞船速度会在10日内提升至光速的7%。于是我坐着飞船朝着同一个方向，以光速的7%独自飞了800年。我没有目的地，也没有回头路。<br>打开和地球总部的通信记录，近几百年来的通信记录显得非常单调：</p>
<p>第321次呼叫失败，地球无应答。是否重新呼叫？</p>
<p>第322次呼叫失败，地球无应答。是否重新呼叫？</p>
<p>第323次呼叫失败，地球无应答。是否重新呼叫？</p>
<p>第324次呼叫失败，地球无应答。是否重新呼叫？</p>
<p>关掉通信记录，我微微叹了一口气，是时候面对一个事实了：我此生恐怕再也没有办法跟地球取得任何联络。</p>
<p>我离开地球已经800年，桃子现在肯定已经死了，如果没有星际放逐法，我现在应该也已经死了。</p>
<p>但在死之前，我会跟桃子过完整整的一辈子。</p>
<p>刚离开地球的那些年，我和总部通信通畅。只是随着距离增大，无法维持即时通信，渐渐有了从几个小时到几天的通信迟滞。相应地，地球传来的消息变得越来越难以理解。理解障碍并不来自语言方面，电脑装载有万能翻译程序，可以随着时代同步，将任何人类语言转化为我能懂的句子。我遇到的理解障碍来自认知方面。</p>
<p>航行最初的100年里，地球的要闻和科技变化我能够轻易看懂。但慢慢地，信息里出现了陌生的国名，科技发展在我看来也变成天方夜谭，经济和社会的改变更让我感到匪夷所思。</p>
<p>就像乾隆年间的人很难理解什么叫电脑，什么叫网友，未来进行时的爱恨情仇超出了我的认知。</p>
<p>我也尝试通过阅读资料来理解先进的事物，但很快就放弃了。倒不是因为我偷懒或者愚钝（在地球上，我可是一名科学家）。只是我意识到这一切都是无用功——即使我费了九牛二虎之力，学习完了自己在上一段冬眠期落下的知识，再次进入冬眠后醒来，这些知识又会全部过时作废。一个全新的、我无法理解的遥远社会将再度展现在我面前。地球总部似乎也觉察到了这一点，他们传来的信息明显变得越来越短。从百科全书式的资料包逐渐变成了对我的问题做出的简要回答。</p>
<p>我越飞越远，每次通信的间隔时间在增长，内容却在持续减少。这使我如同一只绝望的风筝，看着地面那一头的钝刀子切割风筝线，整个过程是漫长而痛苦的。</p>
<p>直到200年前的一天，我再也收不到总部的回复了。</p>
<p>在我例行的呼叫结束后，地球总部迟迟没有给予应答。屏幕上呼叫失败的提示后面是一片死寂的黑。即便如此，每过几十年冬眠结束，我醒来的第一件事依旧是收发信息。我逐渐开始理解鲁滨孙，荒岛独处数十年，规律的作息是他和周遭榛莽的唯一区别。一如我和周遭黑暗的唯一区别就是我和地球的羁绊，我的终将没有应答的呼叫。</p>
<p>至于通信中断的原因……我也做过一些猜测：可能是因为信号在漫长的传播过程中被宇宙射线干扰，大幅度减弱后无法再在我和地球之间传达有效信息。也可能是因为我离开地球后，航空技术有了长足的发展，新的宇宙探索工程效率更高。相比之下，联系我的成本已经大于我能提供数据的价值，于是总部不再对我的呼叫发出应答，我作为一个流放犯人，被战略性地放弃了。</p>
<p>当然还有一种可能性，无疑是最令人不寒而栗的，在我沉睡的时间里，地球上发生了重大事件，总部失去了联系我的能力……</p>
<p>就在我陷入沉思的时候，电脑的合成女声又响了：</p>
<p>“第325次呼叫成功，收到答复，呼叫对象确认中……”</p>
<p>“……什么？！”</p>
<p>难道时隔200年，我又和地球重新联系上了？我踉踉跄跄地奔向正在跳闪的屏幕：</p>
<p>“我是孤星4号，收到呼叫信号请应答！”</p>
<p>“我是孤星4号，收到呼叫信号请应答！”</p>
<p>“我是孤星4号，收到呼叫信号请应答！！”</p>
<p>最后一遍我几乎是带着颤音吼出来的。我仿佛一个抓住岸边稻草的溺水者，生怕几秒钟的延迟会令信号消失，使这次成功的呼叫化为泡影。但我的担心是多余的，接收到的信号随着时间流逝，强度竟然越来越大，一句完整的话在屏幕上呈现出来。</p>
<p>“孤星4号，你好，我是sf290号飞船，2662年从地球起飞。”</p>
<p>……这竟然不是来自地球的信号！是另一艘宇宙飞船恰好进入了我的信号搜索范围！也对……也只有在近处的飞船才可能在那么短的时间里回复呼叫。我回复道：</p>
<p>“孤星4号收到，根据《国际航天信息安保条例》，请应答方提供详细航行信息。”</p>
<p>屏幕上的字幕继续跳闪着：</p>
<p>“您的专业意识值得我们学习，但当年的《国际航天信息安保条例》在我们这个年代早已废除。孤星4号所有资料都在我们的数据库中，付晓云老师，您是一位最让我们尊敬的学术前辈，也是一位为真理战斗的英雄，请允许我代表sf290上的20位船员，向您致敬。”</p>
<p>“最让你们尊敬的学术前辈？为真理战斗的英雄？”我冷笑道，“没弄错人吧？我可是第一个被判星际流放刑的人。是个为地球所不容的罪人！”</p>
<p>接下来是长久的沉默，可我知道这个迟滞不是距离造成的，那一头的人正在拼命思考该如何接话。这些年，我一直和电脑对话，早就忘了和人类说话是多么地有趣！</p>
<p>半晌，屏幕上的文字又开始在屏幕上向下生长：“在我们的时代，您是一位写在教科书上的先知，是一位悲剧色彩的英雄。我们欠您一个道歉——对不起，人类改良工程是最愚蠢的决定！尽管这个道歉来得太迟，但还是希望您可以接受它！”</p>
<p>人类改良工程是最愚蠢的决定……这句话久久停留在我的视网膜上。</p>
<p>我干涸了800年的眼眶第一次被泪水濡湿，所有的情感和思绪在这一刻上涌，再沿着眼角温热地流淌下来……800年了……他们终于认错了……</p>
<p>人类改良工程——我生活在地球上的时代，基因置换技术第一次被大规模应用，定向更改基因成为可能。于是，导致个子矮的、智商低的、相貌丑陋的、性格暴烈的基因序列都被人们视为需要修改的劣势基因。用纯粹高贵的优势基因去替换所有人类胚胎里的劣势基因，使得世界上的人都变得温和、貌美、聪明、强壮，这便是基因改良计划。<br>听起来这是美事一桩，但是任何事情都有它的反面。如果全人类的劣势基因都被优良基因替换，人类个体差异度将变得极小，作为一个物种，人会丧失适应灾难的能力。任何攻击改良后统一性状的病毒，都可以在短时间内感染全部人类。</p>
<p>全面改良人类，必将铸成大错！</p>
<p>我和一批青年学者最先意识到了这一点，我们奔走呼号，想让人们在基因被全面统一改写前悬崖勒马。可惜我还是低估了人类对“完美”的向往，作为反对派的领袖，我被逮捕并判处了“煽动反科学言论罪”。</p>
<p>既得利益层想永远堵上我的嘴，但他们不能杀了我，因为死刑早就被全面废除。而终身监禁又不保险——我会成为支持者的精神领袖，他们将继续以我的名义发表反对言论，并且千方百计把我从牢里弄出来。既要让我永远无法出现在地球上，又不能直接杀了我。为了找到“两全其美”的办法，他们专门为我通过了星际放逐法。</p>
<p>核引擎代替了化学原料后，宇宙飞船的最大速度显著提高，同时燃料运载成本却大幅度下降。大型宇宙飞船一艘艘地被造了出来，远途星际航行成了可能。但在深空探索的道路上，还存在一个问题——没有多少宇航员愿意上路。人的寿命太短，要飞远必须长时间冬眠。谁愿意耗费几百上千年的时间在路上？即使有一天平安返航，千年过去，亲人故去事态变迁，回来又有什么意义呢？</p>
<p>他们想让作为科学家的我以戴罪之身去往宇宙深处，一路上做维护飞船和采集数据的工作，还完全不用考虑返航（这一项简直太省成本了），真是桩一举两得的好买卖。</p>
<p>飞船上装有冬眠系统、生态循环系统和人工重力调控舱。长期的冬眠凝固年龄，生态循环系统保证了食物和水的来源，人工重力调控舱内的环境适宜生存，有了这三个条件，理想状态下我的寿命能延长到极致。判决下来不久，这艘没有制动装置的飞船就被甩上太空。从此，除了微调角度避开小行星，我便只能以固定的方向飞向宇宙深处，永不能回头。</p>
<p>面对这个带着殉道色彩的审判，最初我竟然觉得是光荣的。我不仅是第一个被流放太空的犯人，也将成为走得最远的科学家。所谓朝闻道，夕死可矣，能在远途太空飞行中一窥深空的景象，即使死去也无憾了。</p>
<p>可事与愿违，虽然宇宙看似群星璀璨，但星际间的距离却是远大于想象的。大多数时间，我都在虚无的星际空间里航行，每次冬眠结束睁开眼，窗外风景不会有太大的变化，更别提用这些平凡无奇的数据去做出什么有意义的科学贡献了。</p>
<p>但谁又知道呢？漂泊了那么多年，我最大的发现并不是来自对宇宙的探索，而是来自地球。</p>
<p>“付老师……不得不告诉您一个遗憾的事实，地球文明已经毁灭。”</p>
<p>“什么？！”</p>
<p>sf290的消息源源不断传来：</p>
<p>“在基因改良工程启动的400年后，我们才意识到基因多样化的必要性。是的，那个时候我们才发现您当初是对的，但一切都太晚了……全体人类的基因改良早已完成，遗传物质多样性已被严重破坏。一场意外让一种名为‘Saline’的病毒从冷冻库中泄漏。它专门攻击人体的中枢神经，非常不幸，由于人类改良工程，地球上的所有人都是易感人群。这种病毒令人肢体溃烂，产生短暂幻觉，还会引起神经紊乱，至多10分钟就会导致死亡。接着它还会经过尸体及空气传播，最后变成了一场大瘟疫，三个月的时间里，地球人口骤减了99%。”我的预言变成了事实，尽管有过无数次警告，遥远地球上的人类还是遇到了如此灾难，我觉得全身无力，只能喟叹道：</p>
<p>“自古以来灾难只能消灭一部分人，另一部分基因适应环境的人还能繁衍下去……全部人类都被编写成了优良性状，相当于把鸡蛋放到同一个篮子里。这么简单的道理，你们当初怎么不明白呢？”</p>
<p>“是啊，人类被眼前的利益冲昏了头，谁会希望自己的孩子没有其他人的优秀？谁会愿意自己的后代低人一等？这是一个囚徒困境啊！最后的结局会变成这样……我们都很悲痛。”</p>
<p>我继续向幸存者发问：“那你呢？你的性状也被改良了吧？怎么没有被感染？”</p>
<p>“我和同船的20位都是军人，病毒泄漏事件发生的那一天，在近地轨道巡逻，幸免于难。”</p>
<p>“那你们怎么又飞到了这里？在近地轨道观察病毒趋势，等待适当的时机重回家园才是比较理智的选择吧？”</p>
<p>“没那么简单……病毒泄漏后，太空成了唯一的避难港，有小型私人飞船的富人携家带口逃离地面，原本公用的大型飞船则乘载权贵。有些携带病毒的飞船也飞了上来。这种情况是最糟糕的，病毒很快就杀死飞船里所有的人，飞船会变成鬼船，横冲直撞，撞上小行星或是其他飞船，事故后碎片残骸不受控制向四方飞射，祸害更多飞船。这就像一个恐怖的链式反应！近地轨道呈现出一片末日景象，拥挤不堪，慌乱不堪，每天都在发生无数事故。短短半个月里，飞船只剩下不到60%。目睹了此般惨状后，sf290进行了全体成员投票，最终达成一致，我们决定开启加速系统，脱离近地轨道，飞向宇宙深处。是的，我们不知道太空中是否有生存的希望，但留在地球，意味着一定死亡。”</p>
<p>“等等，”我打断道，“这艘飞船不是用作近地轨道巡逻的吗？忽然改为远程航行可以吗？你们的飞船上所有的生命系统都装载好了？”</p>
<p>“在我们的时代，反物质燃料保存技术迭代更新，已经在航天领域取代了核引擎。装了反物质引擎的飞船不仅最高速度可以提升至光速的30%，燃料运输储存成本也进一步下降。所以工厂在制造飞船的时候，就不区分星际航行和近地轨道的使用，所有飞船都装上了长途飞行必要的生命系统，因为即使重量增加也多不了多少燃料成本。”</p>
<p>“反物质燃料……你们已经能够随意使用反物质了！可惜啊……这样的高级文明，居然毁在了自己手里！”</p>
<p>“可惜我们当时没有听从您的劝告，让进化至此的文明功亏一篑。”</p>
<p>“现在说什么都晚了……地球文明毁灭了，家没了再也回不去了，我们的终点又在哪儿呢？”这个问题是问他的，但更像是问自己的。sf290那边是良久的沉默，我知道，这一次的沉默是来自深不见底的无奈。</p>
<p>反物质飞船的速度比核飞船快，几年之后sf290便超越了我。由于没有装载对接舱，我没有办法登上他们的飞船。在未来的时间里，我们之间的距离只会越拉越远，却永不相逢。所以，在两艘飞船最接近的那一天里，这群从未谋面的有缘人向我郑重告别。我记得sf290化作一个质点渐渐划过屏幕的样子，就像我离开地球的那天，临别时划过桃子鼻翼的泪珠。</p>
<p>然后我再度进入冬眠舱。待30年后再醒来，两艘飞船已是天涯海角。我以为，我和人类文明的最后联系，将以这种方式结束。</p>
<p>事实证明，这次我又错了。</p>
<p>就在与sf290分别后的第一次冬眠结束时（那时我和sf290的通信已经有了严重延时），我收到了电脑的一则提醒，依旧是横平竖直的电脑女声：</p>
<p>“收到疑似智慧生物呼叫，呼叫来源确认中，是否破解？”</p>
<p>“嗯？好……确认破解。”我犹豫了一下说道。</p>
<p>“Saline七号飞船呼叫孤星4号，收到请回答。”</p>
<p>不是sf290？而是另一艘飞船？难道……那次基因灾难后，还有其他幸存人类向着同一个方向逃亡？在广袤的宇宙里，这实在是一个小概率事件！</p>
<p>我迅速输入标准化的信息：</p>
<p>“孤星4号收到，根据《国际航天信息安保条例》，请应答方提供详细航行信息。”</p>
<p>“你好，孤星4号驾驶员付晓云，Saline七号飞船于2979年从地球起飞，《国际航天信息安保条例》在我们的时代早已废除。”</p>
<p>2979年？在病毒泄漏灾难200年以后？我迅速查看电脑里的万年历，今年便是2979年，也就是说……我用了800多年飞行的距离，sf290用了200多年飞行的距离，他们转瞬间就能到达了。</p>
<p>我惊呼道：</p>
<p>“不可能……Saline七号……你们接近了光速！”</p>
<p>“事实上，我们已经超过了它。Saline七号飞船使用的是跃迁驱动引擎。可能对你那个时代的人来说理解起来会比较难，我简单些讲吧。我们在量子电动力学领域的研究发现，如果我们创造一个没有任何能量的绝对真空的空间，并让飞船进入绝对真空的‘亚空间’，那么此时这个亚空间内光速虽然不变，但亚空间相对于外部宇宙却可以不再受光速不变定理束缚，进入另一个维度运行，走一条超越时间和空间的捷径。你可以想象成我们不再沿着球面移动，而是直接从球内部走了一条近路来到这个时空坐标。”</p>
<p>“……这种想法在我的时代只存在于科幻小说中！但这怎么可能呢？地球经历了那么大的灾难，怎么可能在短短200多年的时间里不仅重建了文明，还把科技发展到了如此的高度？！难道是……技术奇点？”</p>
<p>“是的，我们越过了技术奇点，获得了远超人脑的人工智能。多亏了那场灾难，我们得到了永生，现在已经没有什么能够彻底消灭人类了。是因祸得福啊……为了纪念那场灾难，我的飞船就是以Saline病毒命名的。”</p>
<p>我对他所描述的事情将信将疑：</p>
<p>“飞船接近光速，永生，电脑拥有超越人类思考的能力……这实在是太不可思议了，我不相信……你们是怎么用了短短几十年就分别越过了理论物理、生命科学、人工智能的奇点的？”</p>
<p>“我们并没有分别越过它们的奇点，我们把这几个问题合在一起解决了。这还要从Saline病毒泄漏说起，那时地球上99%的人类迅速死亡，幸存者进入近地轨道，地面也有小部分隔离区发挥了作用。Saline病毒非常迅猛，这是它的致命之处，却也是它的弱点。潜伏期太短，从感染到发病再到死亡最长不会超过几个小时，病毒离开人体也无法长时间生存。这意味着在严苛的隔离制度下，只要隔离区外的病毒杀死了所有人，无须我们研发任何药剂，病毒的末日也会到来。”</p>
<p>面对快速增长的文字，我不甘示弱地发问：“我明白了，你们彻底放弃那些感染区的人，静静等他们死光。这当然可以保证小部分人生存下来，但对人类社会来说最可怕的打击应该是在那之后的！世界上所有文明都建立在人口基础上，当人口锐减到了1%，别说技术奇点了，文明社会一定会分崩离析，甚至在短时间内就会退步到工业革命前！”这时他用发问打断了我：“为什么文明一定要建立在人口基础上呢？在那场灾难之后，幸存者做过反省，迄今为止我们遇到过那么多灾难，全因过去的人类太过依赖物质。肉身会生老病死，所以人活不了太久，走不了太远，也无法全知全能。我们将人类大脑数字化之后就不一样了。”</p>
<p>“大脑数字化是什么意思？”</p>
<p>“如你所知，很久以前，我们就破译了大脑的DNA密码，也有了扫描大脑的技术。在病毒泄漏事件后，为了节省资源消耗，第一批计算机移民出现了。我们把个体大脑构造的数据，包括大脑的每个沟回、每个神经树突、每个细胞的构造传送进计算机中，计算机数据库就继承了这个人的所有记忆和情感，他便在电脑里永生了。这本是节约资源的无奈之举，但我们却有了意外的发现，计算机移民后，大多数人会将自己的思维方式和计算机的高运算效率结合起来。可以想象吗？还是采取人类大脑的思考方式，只不过是以几亿倍的速度进行运算，这种质变，是连改良人类时代都无法望其项背的……从那以后，科学技术发展就像一个游戏一样了，我们开始用人工智能研究科学和哲学，甚至到最后我们自己也变成了人工智能的一部分。”</p>
<p>“虽然你们的进步让我感到害怕……你也是计算机移民吗？”</p>
<p>“是的。我没有实体，只存在于电脑里，可是我有独立的思想和性格，又能不老不死。即使有一天飞船损毁了，只要承载我大脑的数据被传回地球，我又可以轻易复生。”</p>
<p>得知地球文明延续了下来，我是高兴的，但方式却是另一种“改良人类”，最终将人类大脑数字化。彻底放弃了肉身之后，人类是成佛，还是堕入无间道？这个问题令我感到五味杂陈。</p>
<p>“……你知道吗？我被送上这艘飞船，原本是为了探索宇宙，可是没想到地球上科技的发展速度超出了我这艘破船的航行速度，一艘艘来自未来的船追上来，超过去。我对探索宇宙并没有做出多少贡献，倒是见证了地球的历史，这是我完全没有想到的！”</p>
<p>“呃……说到历史……付晓云先生，我就是学历史的。我乘坐的Saline七号就是一艘考古船。”</p>
<p>“什么？这是一艘考古船？考古为什么要往宇宙里飞？”</p>
<p>“从第一次发射无线电波开始，人类的痕迹就存在于宇宙里了，它们在太空里保存得可比在地球表面更好呢！我们此行为的是追上人类最早发射的无线电波，收集那个年代的资料。您想一起去吗？”</p>
<p>我是被流放的，sf290是逃难的，而这艘代表人类最高科技的船，远行的目的却显得那么轻松——考古。</p>
<p>“好的，请带我去看看我们的过去吧。”</p>
<p>在接下来的时间里，我被Saline七号飞船纳入Saline七号周围的亚空间里，超光速飞行的过程中，四周的宇宙泛起了层层涟漪，我知道船外的时空正在以我不能理解的方式飞速转动。</p>
<p>我又做梦了。</p>
<p>梦里全是我和桃子分别的那一天。</p>
<p>阳光下，她脸上有一层细密透明的绒毛，就像真正的水蜜桃一样。她说：“对不起啊，当年太淘气了，不该把你的无线电设备弄坏。”然后她就泣不成声了，眼泪滑过鼻翼，就像流星。</p>
<p>于是我醒来。</p>
<p>Saline七号飞船的信息正在这时传来：</p>
<p>“付晓云先生，我们已经到了人类无线电波的外沿。这一片，正是你在地球生活的年代发出的无线电波。全部信息汇总后，我们在收到的声音里检索了你的名字，猜猜发现了什么？”</p>
<p>“发现了什么？”</p>
<p>“请注意听。”</p>
<p>舱内的音响响起，几百年来第一次，不再是冷酷无情的电脑合成女声。我听到了熟悉的声音，夹杂着电流的噪声和时光流淌的痕迹。那声音仿佛丁达尔现象里浮浮沉沉的灰，仿佛被透明绒毛覆盖的笑靥，仿佛划过鼻翼的眼泪。</p>
<p>——桃子。</p>
<p>“付晓云，我喜欢你。”</p>
<p>我听到了，在那个几百年前的午后，当我们年龄都还小时，她在无线电前说出的这句话。这句话如同一只无家可归的流浪猫，在广袤漆黑的宇宙里游荡。我仿佛能够看到它曾经撞上过流星，浑身是伤，也曾静静地掠过超新星爆发后遗留的星云，没时间停留欣赏。</p>
<p>如今它找到了它的主人，在无数年后，几百几千光年远的地方。它舔舐自己脏兮兮的伤口，流下温热的眼泪，像回到了温暖的家。</p>
<p>“付晓云，我喜欢你。”少女在我的旧房间里悄悄说。</p>
<p>“……谢谢你，桃子。”</p>
<p>我在无穷远的宇宙里回应道。</p>
<p>屏幕又亮起来：“我们的考古任务已经完成了，我要带着搜集的数据返航。但有些东西单靠冷冰冰的数据是不够的，您可以帮助我们感性理解那个年代，诚挚邀请您跟我回去，请放心，返航会比您这一路快得多。”</p>
<p>“不了，”听到桃子声音后，我就知道自己已下定决心，“地球上科技发展速度超过了飞船飞行的速度，我直线飞行，可是未来的飞船赶超我，我自己也在追逐过去。过去，现在，未来，在此刻汇集在一个平面，就像是时间和空间合伙变了一个神奇的魔术，谁知道我又会遇到什么呢？谁知道下一艘飞船会带来一个什么样的‘地球’？我很好奇，我想继续飞行。”</p>
<p>Saline七号飞船再也没有传来信息。</p>
<p>我想他拥有无敌的大脑，一定知道多说无益。</p>
<p>我在广袤无垠的宇宙里单向飞行，前途未卜，但我知道只要继续飞，我还会遇到过去，还会遇到未来。</p>
<p>这么说来，我也并不算“孤星”了。</p>
<p>对吗？</p>
]]></content>
      <categories>
        <category>个人收藏</category>
        <category>短篇科幻小说</category>
      </categories>
      <tags>
        <tag>短篇科幻小说</tag>
      </tags>
  </entry>
  <entry>
    <title>不能共存的节日</title>
    <url>/2023/09/12/%E4%B8%AA%E4%BA%BA%E6%94%B6%E8%97%8F-%E7%9F%AD%E7%89%87%E7%A7%91%E5%B9%BB%E5%B0%8F%E8%AF%B4-%E4%B8%8D%E8%83%BD%E5%85%B1%E5%AD%98%E7%9A%84%E8%8A%82%E6%97%A5/</url>
    <content><![CDATA[<h1 id="不能共存的节日"><a href="#不能共存的节日" class="headerlink" title="不能共存的节日"></a>不能共存的节日</h1><p><strong>作者：刘慈欣， 《科幻世界》2016年04期</strong></p>
<p>1961年4月12日，拜克努尔航天基地。</p>
<p>谢尔盖·科罗廖夫站在被烧黑的发射架旁，虽然火箭升空已经快一个小时了，导流槽中仍有热浪涌出，给这里的早春带来盛夏的感觉。他抬头看看蓝天，尾迹已经消散，在那看不到的太空中，人类第一名宇航员已经绕地球飞行了大半圈。</p>
<p>“总设计师同志，请接受一个普通人的祝贺！”</p>
<p>科罗廖夫回过头来，看到一个身穿工作服的中年男人对他伸出手来，从服装看他是基地级别最低的工人。科罗廖夫握了他的手。那人从裤口袋中掏出一个瓶子，又从另一个口袋摸出一个小金属酒杯，“我们得喝一杯，总设计师同志，可我只有一个杯子。”他咬开瓶盖给杯子倒满酒。</p>
<p>科罗廖夫接过那个脏兮兮的杯子，他现在已经疾病缠身，结肠上有肿瘤，不适合喝酒。再说在这个伟大的时刻，他完全可以无视这个人，但科罗廖夫这时可以怠慢官员和将军，却不会无视这个最底层的人，在西伯利亚的那些年，他的身份比这人还低，饿着肚子在矿井里搬石头。</p>
<p>那人拿着瓶子与总设计师碰了一下杯，然后猛灌一口。</p>
<p>“在这个伟大的时刻，您能允许我讲个笑话来庆祝吗？”</p>
<p>科罗廖夫也喝干了杯子里的酒，伏特加像火箭燃料似的把热乎乎的感觉传遍全身。</p>
<p>“您再来点儿。”那人给科罗廖夫的酒杯填满。</p>
<p>“谢谢，你的笑话？”总设计师微笑着问。</p>
<p>“我是一个外星人，您就叫我……G吧， 我来地球考察，我的兴趣是地球的重要节日。”</p>
<p>“哦，那你的收获一定不小，只要你调查的范围足够广，地球的每一天可能都是节日。”</p>
<p>“我之前进行了大量的考察和研究，那些都不是重要节日，事实上，真正的重要节日我一个都没有发现。”</p>
<p>“圣诞节不重要吗？”</p>
<p>“当然不，尤其对布尔什维克而言。”</p>
<p>“那新年呢。”</p>
<p>“也不重要，这颗行星又公转了一圈而已。”</p>
<p>“那你认为的重大节日是什么呢？” 科罗廖夫有些心不在焉，他转身向不远处的军用吉普走去，他要回控制中心了，东方号飞船即将开始减速，开始再入过程。</p>
<p>“比如说分裂节。”</p>
<p>“什么？”</p>
<p>“地球上生命细胞的第一次分裂，当然那是很久以前的事了，几十亿年前吧。”</p>
<p>正要上车的科罗廖夫停下来，扶着车门回头看着G。</p>
<p>“再比如登陆节，就是生命从海洋爬上陆地的那一天；下树节，长臂猿从树上下来的第一天；还有直立节、工具节、取火节等等。”</p>
<p>“但这些节日，我们是无法知道具体日期的。” 科罗廖夫说。</p>
<p>“那可以随便定一个，其实圣诞节就是在公元三百多年时由教会随便定的，圣经上根本没有记载耶稣是什么时候生的。”</p>
<p>科罗廖夫要上车，G拉住了他，“总设计师同志，我想说，今天就是人类一个重大的节日，我把它命名为诞生节。”</p>
<p>“谁诞生？”</p>
<p>“人类。”</p>
<p>“人类早就诞生了。”</p>
<p>“哦不， 如果您此时处于加加林上尉，哦他好像刚升为少校是吧，的位置，就会发现地球是一个蓝色的子宫，婴儿只有出了子宫才能称为诞生……哦，总设计师同志，很抱歉我的笑话不可笑。”</p>
<p>科罗廖夫再次同G握了一下手：“很有意思的，谢谢你，同志，我以后会每年都庆祝这一节日的。”</p>
<p>“哦不不，”G摇摇头，“今天是否能真正成为诞生节，还要等等看，还要等等看才知道呢，总设计师同志。”</p>
<p>总设计师的车开走后，G大脑中的通讯单元把一条信息发往月球上的中转通讯站，由此发回母星：蓝星纪年1961年4月12日有可能成为诞生节，目前评估可能性为52.69%，持续监测中。</p>
<p>2050年10月5日，北京中国科学院脑科学与人机工程研究中心。</p>
<p>大屏幕上显示：</p>
<p>窝西淫累，窝向西桶鼠入自慰鼠具，山.14一壶酒，虫屎。</p>
<p>我是淫类，我向系桶输入思慰数具，3.14一壶9，虫试。</p>
<p>我是人类，我向系统输入思慰数据，3.141壶9，重试。</p>
<p>我是人类，我向系统输入思维数据，3.14159。</p>
<p>最后一行显示后，实验室里爆发出欢呼声。这些数据是从一个人的大脑直接输入到计算机中，实验者戴着大脑感应头盔，第一实现了人与电脑的直接连接，</p>
<p>兴奋持续了一个多小时，人们开始散去，脑机接口项目首席科学家丁一也从兴奋中平静下来。</p>
<p>“各位老师，请接受一个普通人的祝贺。”</p>
<p>人们回头，看到一个夹着一根扫帚的中年男人在对他们微笑，这是实验室的勤杂工，之前他们间没有说过什么话。这人放下扫帚，从工作服口袋里拿出一瓶酒，又从另一个口袋里拿出一摞显然是从门口饮水机上拿来的纸杯，分给大家后挨着倒酒。</p>
<p>“你知道我们在做什么？”有人问，像以前创造历史的科学家一样，他们多少意识到这个突破的意义，但也没有十分把握，因为许多当时看似划时代的成果都淹没于时间之中，他们此时只有项目完成后如释重负的轻松感。一个勤杂工居然对这个成果如此兴奋，让他们很好奇。</p>
<p>“当然知道，这是一个伟大的时刻”勤杂工说。</p>
<p>人们开始喝纸杯里的酒，北京二锅头像把热乎乎的感觉传遍全身，像更新系统的数据传遍网络。</p>
<p>“在这个伟大的时刻，能允许我讲个笑话来庆祝吗？”勤杂工说。</p>
<p>“笑话？呵呵，你讲。”</p>
<p>“我是一个外星人，您就叫我G吧， 我来地球考察，我的兴趣是地球的重要节日。”</p>
<p>“哦，那你的收获一定不小，只要你调查的范围足够广，地球的每一天可能都是节日。现在节日的数量还在很快增加中，像双棍节（注：一个同性恋者网络购物节）什么的。”</p>
<p>“我之前进行了大量的考察和研究，那些都不是重要节日。我是想说，今天才是人类的一个重要的节日。”</p>
<p>科学家们互相看看，会意地点头，丁一对G说：“有可能，你把这个节日叫什么呢？”</p>
<p>“我还没想好。”G仰脖把瓶里剩下的一点酒喝了，“唉，上次喝酒是和总设计师同志，可敬的总设计师同志。”</p>
<p>“总设计师？还是……同志？是谁？”有人问。</p>
<p>“科罗廖夫，谢尔盖·帕夫洛维奇·科罗廖夫。”</p>
<p>丁一点点头：“人类第一艘宇宙飞船的总设计师，不过，他活着的时候还没有你吧？”</p>
<p>“丁总，人家是外星人。”有人打趣道。</p>
<p>“呵呵我忘了，不过，G先生，”丁一抿了一口酒，“科罗廖夫、冯·布劳恩这些伟大的前辈确实值的敬仰，但我们今天的突破有可能使他们所有的努力全无意义。”</p>
<p>“哦？”G露出很天真的疑问状。</p>
<p>“这个突破之后，脑机连接技术将走上康庄大道，将飞速发展。很快，互联网上联接的将不是电脑而是大脑，接下来顺理成章的是，人的记忆、意识和全部人格将能够上载到计算机和网络中，人类有可能生活在虚拟世界中，虚拟世界，你想想，在那里人什么都可以做，想什么就有什么，像上帝一样。在那里一个人可以拥有整个星球，”</p>
<p>“甚至整个宇宙，每个人一个宇宙。”G说。</p>
<p>“对呀，所以，飞出地球太空航行算嘛呀。”一个操着京腔的年轻人说。</p>
<p>“其实这个伟大的进程早已开始，”丁一说，“互联网、移动互联、可穿戴设备、VR、物联网……记得吗？几十年前父母们居然责怪孩子们沉溺于网络，而现在，断开网络沉溺于现实是最让人不耻的懒惰和堕落。今天的突破，让人类迈过IT伊甸园的最后一道门槛。”</p>
<p>“外星人先生，”有人说，“你能想象一下人类未来的IT天堂吗？”</p>
<p>“未来的虚拟世界确实是天堂，在那里面每个人确实是上帝，其美妙是任何想象都难以企及的。我只想像一下那时的现实世界。开始，现实中的人会越来越少，虚拟天堂那么好，谁还愿意呆在苦逼的现实中，都争相上载自己。地球渐渐变成人烟稀少的地方，最后，现实中一个人都没有了，世界回到人类出现前的样子，森林和植被覆盖着一切，大群的野生动物在自由地漫游和飞翔……只是在某个大陆的某个角落，有一个深深的地下室，其中运行着一台大电脑，电脑中生活着几百亿虚拟人类。”</p>
<p>“哇，好诗意！小李，再弄瓶酒去，哦不用，外星人先生，去和我们一起吃庆功宴去！”丁一搂着G的肩膀说。</p>
<p>G摇摇头，把手中的空酒瓶放进垃圾篓，弯腰拾起扫帚，开始打扫经过几天通宵工作凌乱的实验室，他在做的时候用梦呓般的声音轻声说：“与总设计师同志分别后，我在太空中漫游，又探访过无数的世界，那些行星，蓝的、红的、黄的……各种颜色的子宫，智慧文明在其中孕育，在现实中成长，飞向太空，却在虚拟世界中熄灭，像荷塘中的荧火虫，一闪一闪，最终消失在暗夜里。你们看看星空，一片寂静，知道为什么了吧……哦各位，很抱歉我的笑话不可笑。”</p>
<p>G拿起垃圾篓，慢慢走了出去，他的背影显的苍老了许多。</p>
<p>“原来是个文青耶。”有人悄声说。</p>
<p>“呵呵，这就是所有文青的未来，只有虚拟世界才能救他们。”丁一说，引起几声窃笑。</p>
<p>在实验楼的大门，G大脑中的通讯单元把一条信息发往月球上的中转通讯站，由此发回母星：蓝星纪年1961年4月12日疑似诞生节取消，2050年10月5日确定成为重大节日，暂命名：流产节。</p>
]]></content>
      <categories>
        <category>个人收藏</category>
        <category>短篇科幻小说</category>
        <category>刘慈欣</category>
      </categories>
      <tags>
        <tag>短篇科幻小说</tag>
        <tag>《科幻世界》</tag>
        <tag>刘慈欣</tag>
      </tags>
  </entry>
  <entry>
    <title>(CVPR2023) EfficientViT： Memory Efficient Vision Transformer with Cascaded Group Attention</title>
    <url>/2023/09/07/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-Transformer-EfficientViT/</url>
    <content><![CDATA[<h1 id="CVPR’2023-EfficientViT-Memory-Efficient-Vision-Transformer-with-Cascaded-Group-Attention"><a href="#CVPR’2023-EfficientViT-Memory-Efficient-Vision-Transformer-with-Cascaded-Group-Attention" class="headerlink" title="[CVPR’2023] EfficientViT: Memory Efficient Vision Transformer with Cascaded Group Attention"></a>[CVPR’2023] EfficientViT: Memory Efficient Vision Transformer with Cascaded Group Attention</h1><h2 id="3-Efficient-Vision-Transformer"><a href="#3-Efficient-Vision-Transformer" class="headerlink" title="3. Efficient Vision Transformer"></a>3. Efficient Vision Transformer</h2><p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230910150249420.png" alt="image-20230910150249420"></p>
<h2 id="3-1-EfficientViT-Building-Blocks"><a href="#3-1-EfficientViT-Building-Blocks" class="headerlink" title="3.1. EfficientViT Building Blocks"></a>3.1. EfficientViT Building Blocks</h2><p>这里主要介绍提出的EfficientViT  block，也就是overlapping patch embedding之后的部分。</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230912135208961.png" alt="image-20230912135208961"></p>
<p>EfficientViT  block 主要由一个称为 <em>Sandwich Layout</em> 结构构成。用了更少的memory-bound内存受限的self-attention layers 和更多的memory-efficient 的FFN layers来用于通道交流。也就是两个FFN中间夹一个Cascaded Group Attention。每个FFN之前用一个depthwise convolution (DWConv)  作为Token Interaction。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">EfficientViTBlock</span>(torch.nn.Module):    </span><br><span class="line">    <span class="string">""" A basic EfficientViT building block.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Args:</span></span><br><span class="line"><span class="string">        type (str): Type for token mixer. Default: 's' for self-attention.</span></span><br><span class="line"><span class="string">        ed (int): Number of input channels.</span></span><br><span class="line"><span class="string">        kd (int): Dimension for query and key in the token mixer.</span></span><br><span class="line"><span class="string">        nh (int): Number of attention heads.</span></span><br><span class="line"><span class="string">        ar (int): Multiplier for the query dim for value dimension.</span></span><br><span class="line"><span class="string">        resolution (int): Input resolution.</span></span><br><span class="line"><span class="string">        window_resolution (int): Local window resolution.</span></span><br><span class="line"><span class="string">        kernels (List[int]): The kernel size of the dw conv on query.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, <span class="built_in">type</span>,</span></span><br><span class="line"><span class="params">                 ed, kd, nh=<span class="number">8</span>,</span></span><br><span class="line"><span class="params">                 ar=<span class="number">4</span>,</span></span><br><span class="line"><span class="params">                 resolution=<span class="number">14</span>,</span></span><br><span class="line"><span class="params">                 window_resolution=<span class="number">7</span>,</span></span><br><span class="line"><span class="params">                 kernels=[<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>],</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">            </span><br><span class="line">        self.dw0 = Residual(Conv2d_BN(ed, ed, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, groups=ed, bn_weight_init=<span class="number">0.</span>, resolution=resolution))</span><br><span class="line">        self.ffn0 = Residual(FFN(ed, <span class="built_in">int</span>(ed * <span class="number">2</span>), resolution))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span> == <span class="string">'s'</span>:</span><br><span class="line">            self.mixer = Residual(LocalWindowAttention(ed, kd, nh, attn_ratio=ar, \</span><br><span class="line">                    resolution=resolution, window_resolution=window_resolution, kernels=kernels))</span><br><span class="line">                </span><br><span class="line">        self.dw1 = Residual(Conv2d_BN(ed, ed, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, groups=ed, bn_weight_init=<span class="number">0.</span>, resolution=resolution))</span><br><span class="line">        self.ffn1 = Residual(FFN(ed, <span class="built_in">int</span>(ed * <span class="number">2</span>), resolution))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> self.ffn1(self.dw1(self.mixer(self.ffn0(self.dw0(x)))))</span><br></pre></td></tr></table></figure>

<p><em>Cascaded Group Attention</em>：将输入从通道维度上分块，送入不同的head，分别进行self-atention，但同时上一个输出会和下一个的输入相加，然后将每个输出concat一起，最后通过一个linear layer将输出特征的维度与输入统一。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">B, C, H, W = x.shape</span><br><span class="line">        trainingab = self.attention_biases[:, self.attention_bias_idxs]</span><br><span class="line">        feats_in = x.chunk(len(self.qkvs), dim=1) # 分块</span><br><span class="line">        feats_out = []</span><br><span class="line">        feat = feats_in[0]</span><br><span class="line">        for i, qkv in enumerate(self.qkvs):</span><br><span class="line">            if i &gt; 0: # add the previous output to the input</span><br><span class="line">                feat = feat + feats_in[i]</span><br><span class="line">            feat = qkv(feat)</span><br><span class="line">            q, k, v = feat.view(B, -1, H, W).split([self.key_dim, self.key_dim, self.d], dim=1) # B, C/h, H, W</span><br><span class="line">            q = self.dws[i](q)</span><br><span class="line">            q, k, v = q.flatten(2), k.flatten(2), v.flatten(2) # B, C/h, N</span><br><span class="line">            attn = (</span><br><span class="line">                (q.transpose(-2, -1) @ k) * self.scale</span><br><span class="line">                +</span><br><span class="line">                (trainingab[i] if self.training else self.ab[i])</span><br><span class="line">            )</span><br><span class="line">            attn = attn.softmax(dim=-1) # BNN</span><br><span class="line">            feat = (v @ attn.transpose(-2, -1)).view(B, self.d, H, W) # BCHW</span><br><span class="line">            feats_out.append(feat)</span><br><span class="line">        x = self.proj(torch.cat(feats_out, 1))</span><br></pre></td></tr></table></figure>









<h3 id="3-2-EfficientViT-Network-Architectures"><a href="#3-2-EfficientViT-Network-Architectures" class="headerlink" title="3.2. EfficientViT Network Architectures"></a>3.2. EfficientViT Network Architectures</h3><p>首先对输入的图像做overlapping patch embedding。</p>
<p>overlapping patch embedding来源于<a href="https://arxiv.org/pdf/2106.13797.pdf">PVT v2: Improved Baselines with Pyramid Vision Transformer</a></p>
<p>先回顾一下原始ViT的patch embedding是怎么做的。假设输入图像的维度为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="11.631ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 5140.9 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(2110.4,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mo" transform="translate(3380.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(4380.9,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g></g></g></svg></mjx-container>，分别表示高，宽和通道数。Patch Embeeding操作将输入图像分成<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g></svg></mjx-container>个大小为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="4.532ex" height="1.937ex" role="img" focusable="false" viewBox="0 -833.9 2003 855.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mn" transform="translate(839.5,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mi" transform="translate(1243,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g></g></g></svg></mjx-container>的patch。<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.699ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 751 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g></g></g></svg></mjx-container>是每个patch的边长HW。然后reshape将patch的HW合并成一个维度，得到<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="11.067ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 4891.4 1083.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mo" transform="translate(2110.4,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msup" transform="translate(2499.4,0)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mn" transform="translate(839.5,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mi" transform="translate(3742.4,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mo" transform="translate(4502.4,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>的patch得到N个一维的tensor。再通过线性变换将patches投影到维度为D的空间上。得到维度为<strong>（B, N, D）</strong>的patch embedding， N是划分的patches的个数，D是embedding维度。</p>
<p>上述的操作等价于对输入图像<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="11.631ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 5140.9 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(2110.4,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mo" transform="translate(3380.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(4380.9,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g></g></g></svg></mjx-container>执行一个内核大小为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="6.164ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 2724.4 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mo" transform="translate(973.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(1973.4,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g></g></g></svg></mjx-container>，步长为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.699ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 751 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g></g></g></svg></mjx-container>的卷积操作（虽然等价，但是ViT逻辑上并不包含任何卷积操作）。图下图Original Patch Embedding。在卷积操作中output channel相当于embed_dim。</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230907163732799.png" alt="image-20230907163732799"></p>
<p>Overlapping Patch Embedding 是扩大Patch window，使得调整后的窗口有半个区域的重叠，而且把特征图用zero-padding来保持分辨率大小。也就是每个patch之间在原图是有重叠的。具体来说就是给定了一个输入大小为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="11.631ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 5140.9 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(2110.4,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mo" transform="translate(3380.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(4380.9,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g></g></g></svg></mjx-container>的特征图，把它输入到stride为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.459ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 645 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g></g></g></svg></mjx-container>, kernel size为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="6.487ex" height="1.781ex" role="img" focusable="false" viewBox="0 -705 2867.4 787"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><g data-mml-node="mi" transform="translate(500,0)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mo" transform="translate(1367.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(2367.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container>, padding size为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.356ex" height="1.781ex" role="img" focusable="false" viewBox="0 -705 2367.4 787"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><g data-mml-node="mo" transform="translate(867.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1867.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container>, 通道数为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="2.465ex" height="1.767ex" role="img" focusable="false" viewBox="0 -759 1089.7 781"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mo" transform="translate(845.3,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g></g></svg></mjx-container>的卷积中得到输出大小为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.816ex;" xmlns="http://www.w3.org/2000/svg" width="13.085ex" height="2.8ex" role="img" focusable="false" viewBox="0 -877 5783.6 1237.5"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(220,394) scale(0.707)"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(305.9,-345) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><rect width="827.9" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(1290.1,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mfrac" transform="translate(2290.4,0)"><g data-mml-node="mi" transform="translate(220,394) scale(0.707)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="mi" transform="translate(362.5,-345) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g><rect width="941" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(3693.6,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="msup" transform="translate(4693.8,0)"><g data-mml-node="mi"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"></path></g><g data-mml-node="mo" transform="translate(845.3,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g></g></svg></mjx-container>, 这里的通道数C‘相当于embed_dim。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">self.patch_embed = torch.nn.Sequential(</span><br><span class="line">Conv2d_BN(in_chans, embed_dim[<span class="number">0</span>] // <span class="number">8</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, resolution=resolution), </span><br><span class="line">torch.nn.ReLU(),</span><br><span class="line">Conv2d_BN(embed_dim[<span class="number">0</span>] // <span class="number">8</span>, embed_dim[<span class="number">0</span>] // <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, resolution=resolution // <span class="number">2</span>),</span><br><span class="line">torch.nn.ReLU(),</span><br><span class="line">Conv2d_BN(embed_dim[<span class="number">0</span>] // <span class="number">4</span>, embed_dim[<span class="number">0</span>] // <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, resolution=resolution // <span class="number">4</span>),</span><br><span class="line">torch.nn.ReLU(),</span><br><span class="line">Conv2d_BN(embed_dim[<span class="number">0</span>] // <span class="number">2</span>, embed_dim[<span class="number">0</span>], <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, resolution=resolution // <span class="number">8</span>))</span><br></pre></td></tr></table></figure>

<p>其中Conv2d_BN(in_chans, out_chans, kernel_size, stride, pad, dilation, groups)。 若输入为（B, 3, 256, 256）的特征图，embed_dim[0]为64， 经过patch_embed得到（B, 64, 16, 16）。embed_dim的变化是3-&gt;8-&gt;16-&gt;32-&gt;64。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># x=[2,3,256,256]</span><br><span class="line">x1 = self.patch_embed(x)  # x1=[2,64,16,16]</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>论文阅读</category>
        <category>Transformer</category>
        <category>2023CVPR</category>
      </categories>
      <tags>
        <tag>论文阅读</tag>
        <tag>Transformer</tag>
        <tag>CVPR</tag>
        <tag>2023</tag>
      </tags>
  </entry>
  <entry>
    <title>Diffusion Model</title>
    <url>/2023/07/30/%E7%AC%94%E8%AE%B0-Diffusion-Model/</url>
    <content><![CDATA[<h1 id="Diffusion-Model"><a href="#Diffusion-Model" class="headerlink" title="Diffusion Model"></a>Diffusion Model</h1><p>参考：</p>
<p>Lil’Log：<a href="https://lilianweng.github.io/posts/2021-07-11-diffusion-models/#forward-diffusion-process">What are Diffusion Models?</a></p>
<p>台大李宏毅：<a href="https://www.youtube.com/watch?v=azBugJzmz-o&list=PLJV_el3uVTsOePyfmkfivYZ7Rqr2nMk3W&index=17">【生成式AI】淺談圖像生成模型 Diffusion Model 原理</a></p>
]]></content>
      <categories>
        <category>知识笔记</category>
        <category>生成式AI</category>
        <category>Diffusion Model</category>
      </categories>
      <tags>
        <tag>Diffusion Model</tag>
        <tag>扩散模型</tag>
        <tag>生成式AI</tag>
      </tags>
  </entry>
  <entry>
    <title>(CVPR2023) Generalized Relation Modeling for Transformer Tracking</title>
    <url>/2023/07/18/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA-GRM/</url>
    <content><![CDATA[<h1 id="CVPR’2023-Generalized-Relation-Modeling-for-Transformer-Tracking"><a href="#CVPR’2023-Generalized-Relation-Modeling-for-Transformer-Tracking" class="headerlink" title="[CVPR’2023] - Generalized Relation Modeling for Transformer Tracking"></a>[CVPR’2023] - Generalized Relation Modeling for Transformer Tracking</h1><p>论文地址：<a href="https://arxiv.org/pdf/2303.16580.pdf">Generalized Relation Modeling for Transformer Tracking </a></p>
<p>代码地址：<a href="https://github.com/Little-Podi/GRM">https://github.com/Little-Podi/GRM</a> </p>
<h1 id="贡献"><a href="#贡献" class="headerlink" title="贡献"></a>贡献</h1><h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h1><p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230728203257139.png" alt="image-20230728203257139"></p>
<p>过去主流的跟踪方法基本都是是two-stream trackers，分别对template和search region进行特征提取，然后用各种fashion进行cross-relation。</p>
<p>最近，one-stream pipeline被提出联合特征提取和relations过程。如图1（b）。</p>
<p>最近的方法证明让search region 和template 尽可能的相互关联（global cross-relation modeling）是对 target-specific 的特征生成有益的。</p>
<p>但是本文认为search region中并不是所有的部分都需要强制与template关联。因为由于跟踪中的cropping strategy裁剪策略，也就是template一般裁剪2倍目标大小，而搜索区域裁剪4倍目标大小。<strong>这意味无论是模板帧还是搜索区域都有一大部分是背景，其中可能存在相似目标。这会导致干扰。</strong></p>
<ol>
<li>搜索区域中的背景token可能会与模板建立交叉关系，最终可能对定位造成混淆。</li>
<li>模板区域中的token与全局搜索区域建立交叉关系，可能会导致模板特征的质量下降</li>
</ol>
<p>所以本文提出generalized relation modeling method来<strong>自适应地选择</strong>适当的搜索标记来与模板交互。把template和 search tokens分为三类，template token一类，search tokens两类。只有适合cross-relation modeling的search token会与template token交互。</p>
<p>用个lightweight prediction module来划分search token，自适应的决定哪些search token适合cross-relation modeling。但是有两个问题：1）不同token类别的独立relation modeling很难并行训练。2）离散token 类别不可微，无法学习。因此本文使用attention masking策略来统一将独立注意力操作为一个操作。引入Gumbel-softmax技术来是的离散token类别可微。</p>
<ul>
<li>我们提出了 Transformer 跟踪器的关系建模的广义公式，它将输入token分为三类，并使模板和搜索区域之间的交互更加灵活。</li>
<li>为了实现广义关系建模，我们设计了一个token划分模块来自适应地对输入token进行分类 。 引入注意力mask策略和 Gumbel-Softmax 技术来促进所提出模块的并行计算和端到端学习。</li>
<li>我们进行了大量的实验和分析来验证我们方法的有效性。 所提出的 GRM 在六个具有挑战性的视觉跟踪基准上表现出了出色的结果。</li>
</ul>
<h1 id="2-Related-Works"><a href="#2-Related-Works" class="headerlink" title="2. Related Works"></a>2. Related Works</h1><h2 id="2-1-Visual-Tracking-Paradigms"><a href="#2-1-Visual-Tracking-Paradigms" class="headerlink" title="2.1. Visual Tracking Paradigms"></a>2.1. Visual Tracking Paradigms</h2><h2 id="2-2-Trackers-with-Dynamic-Designs"><a href="#2-2-Trackers-with-Dynamic-Designs" class="headerlink" title="2.2. Trackers with Dynamic Designs"></a>2.2. Trackers with Dynamic Designs</h2><h1 id="3-Method"><a href="#3-Method" class="headerlink" title="3. Method"></a>3. Method</h1><h2 id="3-1-Preliminary"><a href="#3-1-Preliminary" class="headerlink" title="3.1. Preliminary"></a>3.1. Preliminary</h2><p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805140617969.png" alt="image-20230805140617969"></p>
<p>开始和one-stream的方法一样，把template和search region 进行划分成patch，并patch embedding，所有token作为序列送入encoder，encoder layer的操作如下<br><mjx-container class="MathJax" jax="SVG" display="true"><svg style="vertical-align: -1.469ex;" xmlns="http://www.w3.org/2000/svg" width="102.555ex" height="4.07ex" role="img" focusable="false" viewBox="0 -1149.5 45329.3 1799"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mtable"><g data-mml-node="mtr"><g data-mml-node="mtd"><g data-mml-node="mi"><path data-c="1D492" d="M38 159Q38 209 58 260T113 355T205 425T327 452Q338 452 348 451T366 449T382 444T394 440T405 434T414 429T422 423T429 418Q440 429 481 440T533 452Q540 452 545 447T550 437Q550 432 481 152Q410 -130 410 -131T437 -132H452Q479 -132 479 -150Q476 -187 462 -192Q458 -194 451 -194Q447 -194 414 -193T330 -192Q277 -192 249 -193T217 -194Q202 -194 197 -179Q197 -175 201 -159Q206 -139 211 -136T243 -132H283L319 15L307 10Q295 4 270 -2T220 -8Q134 -8 86 37T38 159ZM402 353Q402 358 395 368T369 390T324 401Q301 401 282 394T249 369T226 338T208 297T196 258T186 218Q166 141 166 107Q166 44 229 44Q265 44 294 61T337 95Q341 100 371 222T402 353Z"></path></g><g data-mml-node="mo" transform="translate(819.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1875.6,0)"><path data-c="1D48C" d="M99 -8Q71 -8 58 9T45 39Q45 51 116 336L188 622H184Q183 622 179 622T169 623T157 624T146 624T136 624T131 625Q119 628 119 642Q119 647 123 661T129 679Q133 684 144 685T220 690Q293 694 307 694Q324 694 328 679Q328 674 280 482Q231 290 231 287Q231 285 234 286Q259 302 294 334T356 390T420 433T493 452Q528 452 546 427T564 364Q564 308 538 282T480 256Q456 256 441 269T425 308Q425 339 444 359T483 384L502 389Q502 395 496 398Q493 400 483 400Q465 400 449 395T409 374T373 347T323 305T268 257Q274 256 282 256Q312 251 329 247T371 232T411 202Q431 181 431 146Q431 132 427 110T422 73Q422 44 440 44H442Q462 44 478 64T502 102T514 141Q518 157 522 159T547 162H558Q578 162 578 148Q578 118 537 56T440 -7H432Q374 -7 337 21T299 94Q299 103 301 116T304 139Q304 164 281 181T235 202L212 206H211Q176 47 160 24Q137 -8 99 -8Z"></path></g><g data-mml-node="mo" transform="translate(2757.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(3813.1,0)"><path data-c="1D497" d="M380 367Q380 397 406 425T465 453Q493 453 516 430T540 357Q540 314 524 250T467 115T373 13Q338 -8 292 -8Q218 -8 167 23T116 129Q116 178 152 275T189 388Q189 396 187 398T176 401Q148 398 125 372T89 304Q84 288 81 285T61 282H55H44Q24 282 24 296Q24 306 34 330T64 382T116 431T189 452Q231 452 269 429T308 362Q308 346 273 255T238 114Q238 43 306 43Q336 43 363 65T407 118T437 182T456 239T462 268Q462 290 417 315Q380 335 380 367Z"></path></g><g data-mml-node="mo" transform="translate(4657.9,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(5713.7,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msubsup" transform="translate(5991.7,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,413) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(789,-247) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(7159.5,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="msubsup" transform="translate(7604.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,413) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(789,-247) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(8847.6,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(9125.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mtext" transform="translate(9570.3,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mrow" transform="translate(9986.9,0)"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="5B" d="M224 -649V1150H455V1099H275V-598H455V-649H224Z"></path></g><g data-mml-node="msubsup" transform="translate(472,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g><g data-mml-node="mo" transform="translate(789,413) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g><g data-mml-node="mi" transform="translate(1066.5,536) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1066.5,-247) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(1917.3,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="msubsup" transform="translate(2361.9,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g><g data-mml-node="mo" transform="translate(789,413) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g><g data-mml-node="mi" transform="translate(1066.5,536) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1066.5,-247) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(3882.8,0) translate(0 -0.5)"><path data-c="5D" d="M16 1099V1150H247V-649H16V-598H196V1099H16Z"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(14341.8,0)"><g data-mml-node="mo"><path data-c="3D" d="M87 333Q64 343 64 362Q64 383 84 391Q89 393 448 393H807Q808 392 811 390T817 386T823 381T827 374T829 363Q829 345 807 333H87ZM87 109Q64 118 64 139Q64 159 86 168Q89 169 448 169H807L812 166Q816 163 818 162T823 157T827 149T829 139Q829 118 807 109H87Z"></path></g></g><g data-mml-node="mo" transform="translate(15235.8,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msubsup" transform="translate(15513.8,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,413) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(789,-247) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(16681.6,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="msubsup" transform="translate(17126.3,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,413) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(789,-247) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(18369.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(18869.9,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(19870.2,0)"><g data-mml-node="mi"><path data-c="1D40C" d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z"></path><path data-c="1D407" d="M400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400Z" transform="translate(1092,0)"></path><path data-c="1D400" d="M296 0Q278 3 164 3Q58 3 49 0H40V62H92Q144 62 144 64Q388 682 397 689Q403 698 434 698Q463 698 471 689Q475 686 538 530T663 218L724 64Q724 62 776 62H828V0H817Q796 3 658 3Q509 3 485 0H472V62H517Q561 62 561 63L517 175H262L240 120Q218 65 217 64Q217 62 261 62H306V0H296ZM390 237L492 238L440 365Q390 491 388 491Q287 239 287 237H390Z" transform="translate(1992,0)"></path></g></g><g data-mml-node="mo" transform="translate(22731.2,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(23120.2,0)"><path data-c="1D492" d="M38 159Q38 209 58 260T113 355T205 425T327 452Q338 452 348 451T366 449T382 444T394 440T405 434T414 429T422 423T429 418Q440 429 481 440T533 452Q540 452 545 447T550 437Q550 432 481 152Q410 -130 410 -131T437 -132H452Q479 -132 479 -150Q476 -187 462 -192Q458 -194 451 -194Q447 -194 414 -193T330 -192Q277 -192 249 -193T217 -194Q202 -194 197 -179Q197 -175 201 -159Q206 -139 211 -136T243 -132H283L319 15L307 10Q295 4 270 -2T220 -8Q134 -8 86 37T38 159ZM402 353Q402 358 395 368T369 390T324 401Q301 401 282 394T249 369T226 338T208 297T196 258T186 218Q166 141 166 107Q166 44 229 44Q265 44 294 61T337 95Q341 100 371 222T402 353Z"></path></g><g data-mml-node="mo" transform="translate(23662.2,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(24106.8,0)"><path data-c="1D48C" d="M99 -8Q71 -8 58 9T45 39Q45 51 116 336L188 622H184Q183 622 179 622T169 623T157 624T146 624T136 624T131 625Q119 628 119 642Q119 647 123 661T129 679Q133 684 144 685T220 690Q293 694 307 694Q324 694 328 679Q328 674 280 482Q231 290 231 287Q231 285 234 286Q259 302 294 334T356 390T420 433T493 452Q528 452 546 427T564 364Q564 308 538 282T480 256Q456 256 441 269T425 308Q425 339 444 359T483 384L502 389Q502 395 496 398Q493 400 483 400Q465 400 449 395T409 374T373 347T323 305T268 257Q274 256 282 256Q312 251 329 247T371 232T411 202Q431 181 431 146Q431 132 427 110T422 73Q422 44 440 44H442Q462 44 478 64T502 102T514 141Q518 157 522 159T547 162H558Q578 162 578 148Q578 118 537 56T440 -7H432Q374 -7 337 21T299 94Q299 103 301 116T304 139Q304 164 281 181T235 202L212 206H211Q176 47 160 24Q137 -8 99 -8Z"></path></g><g data-mml-node="mo" transform="translate(24710.8,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(25155.5,0)"><path data-c="1D497" d="M380 367Q380 397 406 425T465 453Q493 453 516 430T540 357Q540 314 524 250T467 115T373 13Q338 -8 292 -8Q218 -8 167 23T116 129Q116 178 152 275T189 388Q189 396 187 398T176 401Q148 398 125 372T89 304Q84 288 81 285T61 282H55H44Q24 282 24 296Q24 306 34 330T64 382T116 431T189 452Q231 452 269 429T308 362Q308 346 273 255T238 114Q238 43 306 43Q336 43 363 65T407 118T437 182T456 239T462 268Q462 290 417 315Q380 335 380 367Z"></path></g><g data-mml-node="mo" transform="translate(25722.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(26111.5,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mtext" transform="translate(26556.2,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mo" transform="translate(26806.2,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msubsup" transform="translate(27084.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(789,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mo" transform="translate(298,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1076,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-247) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(29037.6,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="msubsup" transform="translate(29482.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(789,413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mo" transform="translate(298,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(1076,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-247) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(31435.6,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(31991.4,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(33047.2,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msubsup" transform="translate(33325.2,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g><g data-mml-node="mo" transform="translate(789,413) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g><g data-mml-node="mi" transform="translate(1066.5,536) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1066.5,-247) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(34770.4,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="msubsup" transform="translate(35215.1,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g><g data-mml-node="mo" transform="translate(789,413) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g><g data-mml-node="mi" transform="translate(1066.5,536) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1066.5,-247) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(36736,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(37236.3,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(38236.5,0)"><g data-mml-node="mi"><path data-c="1D405" d="M425 0L228 3Q63 3 51 0H39V62H147V618H39V680H644V676Q647 670 659 552T675 428V424H613Q613 433 605 477Q599 511 589 535T562 574T530 599T488 612T441 617T387 618H368H304V371H333Q389 373 411 390T437 468V488H499V192H437V212Q436 244 430 263T408 292T378 305T333 309H304V62H439V0H425Z"></path><path data-c="1D405" d="M425 0L228 3Q63 3 51 0H39V62H147V618H39V680H644V676Q647 670 659 552T675 428V424H613Q613 433 605 477Q599 511 589 535T562 574T530 599T488 612T441 617T387 618H368H304V371H333Q389 373 411 390T437 468V488H499V192H437V212Q436 244 430 263T408 292T378 305T333 309H304V62H439V0H425Z" transform="translate(724,0)"></path><path data-c="1D40D" d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H171H265Q288 686 297 686T309 684T315 679Q317 676 500 455T684 233V624H576V686H585Q603 683 718 683T851 686H860V624H752V319Q752 15 750 11Q747 4 742 2T718 0H712Q708 0 706 0T700 0T696 1T693 2T690 4T687 7T684 11T679 16T674 23Q671 27 437 311L215 579V62H323V0H314Z" transform="translate(1448,0)"></path></g></g><g data-mml-node="mo" transform="translate(40584.5,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mo" transform="translate(40973.5,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msubsup" transform="translate(41251.5,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g><g data-mml-node="mo" transform="translate(789,413) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g><g data-mml-node="mi" transform="translate(1066.5,536) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1066.5,-247) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(42696.7,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="msubsup" transform="translate(43141.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g><g data-mml-node="mo" transform="translate(789,413) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g></g></g><g data-mml-node="mi" transform="translate(1066.5,536) scale(0.707)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mi" transform="translate(1066.5,-247) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(44662.3,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(44940.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></g></g></g></svg></mjx-container></p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="2.264ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 1000.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mo" transform="translate(278,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="mo" transform="translate(722.7,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g></g></g></g></svg></mjx-container>表示concatenation操作。最终输出一个和search region一样大小的特征图，这个特征图作为Prediction Head的输入。</p>
<h2 id="3-2-Generalized-Relation-Modeling"><a href="#3-2-Generalized-Relation-Modeling" class="headerlink" title="3.2. Generalized Relation Modeling"></a>3.2. Generalized Relation Modeling</h2><p>如图，把输入token<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.71ex" height="1.538ex" role="img" focusable="false" viewBox="0 -680 756 680"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g></g></g></svg></mjx-container>分为三类，template token作为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="3.024ex" height="1.878ex" role="img" focusable="false" viewBox="0 -680 1336.8 830"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g></g></g></svg></mjx-container>, 搜索tokens分为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.345ex;" xmlns="http://www.w3.org/2000/svg" width="3.098ex" height="1.884ex" role="img" focusable="false" viewBox="0 -680 1369.3 832.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-152.7) scale(0.707)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex;" xmlns="http://www.w3.org/2000/svg" width="2.93ex" height="1.913ex" role="img" focusable="false" viewBox="0 -680 1295.1 845.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g></g></g></g></svg></mjx-container>。</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="3.024ex" height="1.878ex" role="img" focusable="false" viewBox="0 -680 1336.8 830"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g></g></g></svg></mjx-container>聚合<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="3.024ex" height="1.878ex" role="img" focusable="false" viewBox="0 -680 1336.8 830"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.345ex;" xmlns="http://www.w3.org/2000/svg" width="3.098ex" height="1.884ex" role="img" focusable="false" viewBox="0 -680 1369.3 832.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-152.7) scale(0.707)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></svg></mjx-container>的信息</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex;" xmlns="http://www.w3.org/2000/svg" width="2.93ex" height="1.913ex" role="img" focusable="false" viewBox="0 -680 1295.1 845.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g></g></g></g></svg></mjx-container> 聚合<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex;" xmlns="http://www.w3.org/2000/svg" width="2.93ex" height="1.913ex" role="img" focusable="false" viewBox="0 -680 1295.1 845.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.345ex;" xmlns="http://www.w3.org/2000/svg" width="3.098ex" height="1.884ex" role="img" focusable="false" viewBox="0 -680 1369.3 832.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-152.7) scale(0.707)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></svg></mjx-container>的信息</p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.345ex;" xmlns="http://www.w3.org/2000/svg" width="3.098ex" height="1.884ex" role="img" focusable="false" viewBox="0 -680 1369.3 832.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-152.7) scale(0.707)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></svg></mjx-container>聚合所有tokens</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805150816741.png" alt="image-20230805150816741"></p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805150845357.png" alt="image-20230805150845357"></p>
<p>当搜索token全被划为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex;" xmlns="http://www.w3.org/2000/svg" width="2.93ex" height="1.913ex" role="img" focusable="false" viewBox="0 -680 1295.1 845.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g></g></g></g></svg></mjx-container>（背景）的情况下注意力变为双流范式，当搜索token全被划为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.345ex;" xmlns="http://www.w3.org/2000/svg" width="3.098ex" height="1.884ex" role="img" focusable="false" viewBox="0 -680 1369.3 832.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-152.7) scale(0.707)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></svg></mjx-container>（目标）的情况下注意力变为单流范式。也就是作者说的广义关系建模是单流双流两种方案的集合。</p>
<h2 id="3-3-Adaptive-Token-Division"><a href="#3-3-Adaptive-Token-Division" class="headerlink" title="3.3. Adaptive Token Division"></a>3.3. Adaptive Token Division</h2><p>search tokens的分类网络，每个encoder layer一个learnable prediction module。将最大池化后的模板特征按通道concat到搜索特征中，然后送入MLP。</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805153847699.png" alt="image-20230805153847699"></p>
<p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.65ex;" xmlns="http://www.w3.org/2000/svg" width="3.274ex" height="1.625ex" role="img" focusable="false" viewBox="0 -431 1447.1 718.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path></g><g data-mml-node="TeXAtom" transform="translate(603,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(623,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.65ex;" xmlns="http://www.w3.org/2000/svg" width="3.274ex" height="1.625ex" role="img" focusable="false" viewBox="0 -431 1447.1 718.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path></g><g data-mml-node="TeXAtom" transform="translate(603,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(623,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></g></svg></mjx-container>表示第i层search token归为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.375ex;" xmlns="http://www.w3.org/2000/svg" width="2.93ex" height="1.913ex" role="img" focusable="false" viewBox="0 -680 1295.1 845.6"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D446" d="M308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24Z"></path></g></g></g></g></svg></mjx-container>（背景）和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.345ex;" xmlns="http://www.w3.org/2000/svg" width="3.098ex" height="1.884ex" role="img" focusable="false" viewBox="0 -680 1369.3 832.7"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-152.7) scale(0.707)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path></g></g></g></g></svg></mjx-container>的概率。选择更高概率来决定类别。</p>
<p>首先并行训练的问题。受DynamicViT启发，应用attention masking 策略。</p>
<p>首先把 probabilities <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.29ex" height="1ex" role="img" focusable="false" viewBox="0 -431 570 442"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70B" d="M132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11Z"></path></g></g></g></svg></mjx-container>转换成one-hot 类别<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="12.327ex" height="2.421ex" role="img" focusable="false" viewBox="0 -876 5448.4 1070"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mo" transform="translate(1159.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="msup" transform="translate(2104.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(944.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(1477.7,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(1290.5,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mn" transform="translate(2068.5,0)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></g></svg></mjx-container>。然后</p>
<p>定义两个one-hot 向量<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="31.304ex" height="2.421ex" role="img" focusable="false" viewBox="0 -876 13836.2 1070"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mi" transform="translate(915,-150) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(1571.6,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="msup" transform="translate(2516.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(944.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(1477.7,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(1214.8,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mn" transform="translate(1992.8,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g><g data-mml-node="mi" transform="translate(5806.7,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(6335.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(6935.7,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(7455.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(7900.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mi" transform="translate(915,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(9547.6,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="msup" transform="translate(10492.4,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(944.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(1477.7,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(1290.5,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mn" transform="translate(2068.5,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg></mjx-container>来代表template和search tokens。<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.927ex" height="1.909ex" role="img" focusable="false" viewBox="0 -686 1293.8 843.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mi" transform="translate(915,-150) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g></g></g></svg></mjx-container>的第一列全为1，其他两列为0，表示所有template token固定为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="3.024ex" height="1.878ex" role="img" focusable="false" viewBox="0 -680 1336.8 830"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g></g></g></svg></mjx-container>。而<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="3.098ex" height="1.909ex" role="img" focusable="false" viewBox="0 -686 1369.5 843.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mi" transform="translate(915,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></g></svg></mjx-container>则通过在二元分类<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.995ex" height="1.552ex" role="img" focusable="false" viewBox="0 -686 882 686"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g></g></g></svg></mjx-container>前面再加一列0来得到，意味着没有search token被分类成<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="3.024ex" height="1.878ex" role="img" focusable="false" viewBox="0 -680 1336.8 830"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D404" d="M723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286Z"></path></g></g><g data-mml-node="mi" transform="translate(789,-150) scale(0.707)"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g></g></g></g></svg></mjx-container>。根据所有token<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="28.066ex" height="3.018ex" role="img" focusable="false" viewBox="0 -1084 12405.1 1334"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mo" transform="translate(441,240) translate(-278 0)"><path data-c="2C6" d="M279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1159.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mo" transform="translate(2215.6,0)"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="msub" transform="translate(2493.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mi" transform="translate(915,-150) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(3787.4,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="msub" transform="translate(4232,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D403" d="M39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337Z"></path></g></g><g data-mml-node="mi" transform="translate(915,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(5601.5,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g><g data-mml-node="mo" transform="translate(6157.3,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="msup" transform="translate(7102,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(944.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(1477.7,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(1603.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msub" transform="translate(2381.8,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(3672.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(4061.3,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mn" transform="translate(4839.3,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></g></g></svg></mjx-container>，构建attention mask <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="22.932ex" height="2.528ex" role="img" focusable="false" viewBox="0 -923.4 10135.9 1117.4"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D40C" d="M314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314Z"></path></g></g><g data-mml-node="mo" transform="translate(1369.8,0)"><path data-c="2208" d="M84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250Z"></path></g><g data-mml-node="msup" transform="translate(2314.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(500,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mn" transform="translate(944.7,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(1477.7,393.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(1603.8,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msub" transform="translate(2381.8,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(3672.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(4061.3,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mo" transform="translate(4839.3,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(5228.3,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g><g data-mml-node="mo" transform="translate(6443.1,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="msub" transform="translate(7221.1,0)"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mi" transform="translate(836,-150) scale(0.707)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g><g data-mml-node="mo" transform="translate(8511.5,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></g></g></svg></mjx-container>。</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805162023100.png" alt="image-20230805162023100"></p>
<p>表示token i是否可以根据关系建模规则聚合token j的信息，对应于公式2,3,4。通过计算注意掩码的Hadamard积和所有输入标记的注意权重矩阵，我们可以将三种注意操作合并为具有相同功能的单个操作。</p>
<p>然后，由于search token的离散类别不可微。应用Gumbel-Softmax技术，通过重新参数化技巧从具有类概率π的分类分布中绘制样本:</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805164031290.png" alt="image-20230805164031290"></p>
<p>其中g ~ Gumbel(0,1)，argmax运算被softmax运算取代为连续可微的近似:</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805164231542.png" alt="image-20230805164231542"></p>
<p>在训练阶段，使用Eq.(8)采样的离散分类D来划分前向的搜索令牌，并从Eq.(9)中的连续Gumbel-Softmax近似计算后向的梯度。torch里面也有直接实现的torch.nn.functional.gumbel_softmax()，<a href="https://zhuanlan.zhihu.com/p/455084077">Gumbel softmax trick</a>。</p>
<h2 id="3-4-Target-Prediction-Head"><a href="#3-4-Target-Prediction-Head" class="headerlink" title="3.4. Target Prediction Head"></a>3.4. Target Prediction Head</h2><p>用了OSTrack的center head， 一个2D特征图来预测目标的位置，它由三个卷积分支组成，分别负责中心分类、偏移回归和大小回归。中心分类分支输出一个分数图，其中每个分数表示目标中心位于相应位置的置信度。利用偏移回归分支对离散化误差进行补偿。大小回归分支预测目标的高度和宽度。选取中心分数图中置信度最高的位置作为目标位置，并对其进行回归</p>
<p><img src="https://gcore.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230805164624411.png" alt="image-20230805164624411"></p>
]]></content>
      <categories>
        <category>论文阅读</category>
        <category>目标跟踪</category>
        <category>2023CVPR</category>
      </categories>
      <tags>
        <tag>论文阅读</tag>
        <tag>CVPR</tag>
        <tag>2023</tag>
        <tag>目标跟踪</tag>
      </tags>
  </entry>
  <entry>
    <title>(CVPR2023) SeqTrack： Sequence to Sequence Learning for Visual Object Tracking</title>
    <url>/2023/07/18/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-%E7%9B%AE%E6%A0%87%E8%B7%9F%E8%B8%AA-SeqTrack/</url>
    <content><![CDATA[<h1 id="CVPR’2023-SeqTrack-Sequence-to-Sequence-Learning-for-Visual-Object-Tracking"><a href="#CVPR’2023-SeqTrack-Sequence-to-Sequence-Learning-for-Visual-Object-Tracking" class="headerlink" title="[CVPR’2023] - SeqTrack: Sequence to Sequence Learning for Visual Object Tracking"></a>[CVPR’2023] - SeqTrack: Sequence to Sequence Learning for Visual Object Tracking</h1><p>论文地址:：<a href="https://arxiv.org/abs/2304.14394"><strong>SeqTrack: Sequence to Sequence Learning for Visual Object Tracking</strong></a></p>
<p>代码地址：<a href="https://github.com/microsoft/VideoX">https://github.com/microsoft/VideoX</a></p>
<h2 id="贡献"><a href="#贡献" class="headerlink" title="贡献"></a>贡献</h2><p>先前的Siamese trackers和transformer trackers需要head networks(classification and regression heads)，这篇文章提出了一个简单的encoder-decoder transformer 结构来直接得到输出结果。</p>
<p>采用了 STARK 和 Pix2Seq  的思想。</p>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>本文认为现存的跟踪方法通常采用被称为divide-and-conquer策略（分治策略），也就是把跟踪任务分解成多个子任务（目标尺寸估计和中心点定位等）。这种分治策略虽然获得了优越的性能，但是存在两点限制：</p>
<ol>
<li>每个子任务需要特定的head网络，这导致了复杂的框架结构。</li>
<li>每个head网络要求不同的loss functions，例如 cross-entropy loss，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="1.662ex" height="1.91ex" role="img" focusable="false" viewBox="0 -694 734.6 844"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z"></path></g><g data-mml-node="mn" transform="translate(331,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container> loss和 GIoU loss。这需要多个超参，训练困难。</li>
</ol>
<p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230719102203752.png" alt="image-20230719102203752"></p>
<p>本文提出Sequence-to-sequence Tracking (SeqTrack)  。把跟踪作为一个sequence生成任务。<strong>将bounding box的四个值<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="8.344ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 3688 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(572,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1016.7,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1506.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1951.3,0)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mo" transform="translate(2667.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(3112,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg></mjx-container>转换成一个discrete token（离散token）的sequence，使模型学习逐token（token-by-token）生成这个序列。</strong>编码器提取视频帧的视觉特征，解码器生成boundingbox的序列。每一步，新生成的token会被反馈给模型来产生下一个token。解码器的self-attention应用causal mask来限制token只关注先前的token。当输出四个边界框的token值时，生成结束。输出序列直接用作结果。</p>
<h2 id="2-Related-Work"><a href="#2-Related-Work" class="headerlink" title="2. Related Work"></a>2. Related Work</h2><p><em>Visual Tracking.</em>  </p>
<p><em>Sequence Learning.</em>  本篇文章SeqTrack的基本思路其实来源于ICLR2022那篇Hinton的Pix2Seq。区别在于三点：</p>
<p>1）Pix2Seq 是以目标corner坐标和目标类别来设置sequence，SeqTrack是以目标中心点坐标和目标尺寸为sequence。</p>
<p>2）结构不同。Pix2Seq 是resnet作为backbone，后面跟encoder-decoder transformer。SeqTrack 更简洁，只有一个encoder-decoder transformer，其中ViT作为encoder来提取特征，causal transformer blocks作为decoder来生成sequence。</p>
<p>3）任务不同。Pix2Seq  是检测，SeqTrack是跟踪。</p>
<h2 id="3-Method"><a href="#3-Method" class="headerlink" title="3. Method"></a>3. Method</h2><p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230719110054089.png" alt="image-20230719110054089"></p>
<h3 id="3-1-Overview"><a href="#3-1-Overview" class="headerlink" title="3.1. Overview"></a>3.1. Overview</h3><ul>
<li>目标的bounding box 被转化成discrete token 序列（<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.464ex;" xmlns="http://www.w3.org/2000/svg" width="8.344ex" height="2.034ex" role="img" focusable="false" viewBox="0 -694 3688 899"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(572,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1016.7,0)"><path data-c="1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1506.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1951.3,0)"><path data-c="1D464" d="M580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385Z"></path></g><g data-mml-node="mo" transform="translate(2667.3,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(3112,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg></mjx-container>）。</li>
<li>encoder 提取目标特征，decoder以自回归的形式生成bounding box token 序列。</li>
<li>causal attention mask 添加到self-attention 模块</li>
<li>除了四个坐标token，额外添加两个特殊token：<strong>start</strong> 和 <strong>end</strong>。<strong>start</strong> token表示开始生成，<strong>end</strong>表示生成完成。训练阶段，decoder输入为<code>[start,x,y,w,h]</code>，目标是 <code>[x,y,w,h,end]</code></li>
<li>在每一步中，都会生成一个新的bounding box token，并将其附加到输入序列中以生成下一个。</li>
</ul>
<h3 id="3-2-Image-and-Sequence-Representation"><a href="#3-2-Image-and-Sequence-Representation" class="headerlink" title="3.2. Image and Sequence Representation"></a>3.2. Image and Sequence Representation</h3><p><em><strong>Image Representation</strong></em>。 encoder 输入包括一个template image <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewBox="0 -626 361 637"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g></g></g></svg></mjx-container>（<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="11.043ex" height="1.595ex" role="img" focusable="false" viewBox="0 -683 4880.9 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(1722.4,0)"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(2832.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(3832.9,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g></g></g></svg></mjx-container>）和 一个 search image <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container>（<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="11.043ex" height="1.595ex" role="img" focusable="false" viewBox="0 -683 4880.9 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g><g data-mml-node="mo" transform="translate(722.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(1722.4,0)"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(2832.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mi" transform="translate(3832.9,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g></g></g></svg></mjx-container>），与之前不同的是，这<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewBox="0 -626 361 637"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container>采用相同的尺寸。<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.817ex" height="1.441ex" role="img" focusable="false" viewBox="0 -626 361 637"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container>被分割成patch <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.65ex;" xmlns="http://www.w3.org/2000/svg" width="1.809ex" height="2.066ex" role="img" focusable="false" viewBox="0 -626 799.7 913.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mi" transform="translate(394,-150) scale(0.707)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g></g></g></g></svg></mjx-container>和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.65ex;" xmlns="http://www.w3.org/2000/svg" width="2.054ex" height="1.65ex" role="img" focusable="false" viewBox="0 -442 907.7 729.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mi" transform="translate(502,-150) scale(0.707)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g></g></g></g></svg></mjx-container>尺寸均是 (<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="11.484ex" height="1.937ex" role="img" focusable="false" viewBox="0 -833.9 5075.9 855.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(1110.2,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="msup" transform="translate(2110.4,0)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mn" transform="translate(839.5,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(3575.7,0)"><path data-c="D7" d="M630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29Z"></path></g><g data-mml-node="mn" transform="translate(4575.9,0)"><path data-c="33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></g></g></g></svg></mjx-container>)，P是patch size，<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="13.35ex" height="2.452ex" role="img" focusable="false" viewBox="0 -833.9 5900.6 1083.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><g data-mml-node="mo" transform="translate(1165.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(2221.6,0)"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mi" transform="translate(3109.6,0)"><path data-c="1D44A" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(4157.6,0)"><g data-mml-node="mo"><path data-c="2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path></g></g><g data-mml-node="msup" transform="translate(4657.6,0)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path></g><g data-mml-node="mn" transform="translate(839.5,363) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>是patch number。一个linear projection  把图像patch映射到visual embeddings  。也添加了可学习的position embeddings 。</p>
<p><em><strong>Sequence Representation</strong></em>。把bounding box转换成discrete tokens。每个连续坐标被均匀地离散成<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="7.889ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3486.9 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path></g><g data-mml-node="mn" transform="translate(278,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mo" transform="translate(778,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(1222.7,0)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g><g data-mml-node="mo" transform="translate(3208.9,0)"><path data-c="5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path></g></g></g></svg></mjx-container>之间的一个整数，每个整数作为一个word，对所有坐标使用共享的词汇表<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.74ex" height="1.595ex" role="img" focusable="false" viewBox="0 -683 769 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D449" d="M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"></path></g></g></g></svg></mjx-container>。将word映射成可学习的embedding。最终输入为<code>[start,x,y,w,h]</code>，目标是 <code>[x,y,w,h,end]</code>。最后把输出的embedding映射会words。</p>
<hr>
<p>这里其实就是Pix2Seq的sequence construction过程，将图片高和宽分成 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="4.494ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 1986.2 599.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></g></svg></mjx-container>等份，根据对应的坐标取值，这样四个坐标值都量化成了整数。<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="4.494ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 1986.2 599.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></g></svg></mjx-container>的取值决定了目标图像的分辨率，取值越大分的块就越多，相应的识别分辨率就越高，越能够检测到小物体。而本文中去了4000，同时共享词汇表<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.74ex" height="1.595ex" role="img" focusable="false" viewBox="0 -683 769 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D449" d="M52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648Z"></path></g></g></g></svg></mjx-container>的大小也是4000.</p>
<hr>
<p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230725154304591.png" alt="image-20230725154304591"></p>
<h3 id="3-3-Model-Architecture"><a href="#3-3-Model-Architecture" class="headerlink" title="3.3. Model Architecture"></a>3.3. Model Architecture</h3><p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230719164611889.png" alt="image-20230719164611889"></p>
<p><em><strong>Encoder</strong></em>：与标准ViT差不多。区别在于（1）没有class token。（2）linear projection  被添加在最后一层以对齐encoder和decoder的维度。提取完visual features后，只有search feature被送给decoder。</p>
<p><em><strong>Decoder</strong></em>：每个transformer block 包含a masked multi-head attention, a multi-head attention, and a feed forward network (FFN)。attention mask限制在位置i的输出embedding只关注小于i位置的输入embedding。</p>
<h3 id="3-4-Training-and-Inference"><a href="#3-4-Training-and-Inference" class="headerlink" title="3.4. Training and Inference"></a>3.4. Training and Inference</h3><p><em><strong>Training</strong></em>：使用交叉熵损失最大化基于前子序列和输入视频帧的目标token的对数似然。</p>
<p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230719190522484.png" alt="image-20230719190522484"></p>
<p>Q是softmax probability。s是search image，t是template。<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.052ex" height="1.857ex" role="img" focusable="false" viewBox="0 -810 465 821"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mover"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g><g data-mml-node="mo" transform="translate(288.1,16) translate(-250 0)"><path data-c="5E" d="M112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560Z"></path></g></g></g></g></g></svg></mjx-container>是target sequence，也就是搜索区域的token序列。j是token位置。L是target sequence的长度。训练是教模型根据前面的单词“读出”描述的单词。</p>
<p><em><strong>Inference</strong></em>：编码器感知模板图像和后续视频帧中的搜索区域。decoder的初始输入是start token。对于每个token，模型根据最大似然从词汇表V中采样</p>
<p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230719191321096.png" alt="image-20230719191321096"></p>
<p>引入了online template update和window penalty。</p>
<h3 id="3-5-Prior-Knowledge-Integration"><a href="#3-5-Prior-Knowledge-Integration" class="headerlink" title="3.5. Prior Knowledge Integration"></a>3.5. Prior Knowledge Integration</h3><p><em><strong>Online Update</strong></em>。除了初始模板，引入了一个动态模板。使用生成的token的可能性likelihood来自动选择可靠的动态模板。如果平均得分大于特定的阈值<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.029ex;" xmlns="http://www.w3.org/2000/svg" width="1.17ex" height="1.005ex" role="img" focusable="false" viewBox="0 -431 517 444"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D70F" d="M39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284Z"></path></g></g></g></svg></mjx-container>，并且达到更新间隔<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.424ex" height="1.889ex" role="img" focusable="false" viewBox="0 -677 1071.5 834.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D447" d="M40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40Z"></path></g><g data-mml-node="mi" transform="translate(617,-150) scale(0.707)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container>，则动态模板将用当前帧中的跟踪结果进行更新，否则保持之前的状态。</p>
<p><em><strong>Window Penalty</strong></em>.   经验证明，连续两帧之间的像素位移是相对较小的。为了惩罚较大的位移，我们在在线推理过程中引入了一种新的窗口惩罚策略。具体地说，目标对象在前一帧中的位置对应于当前搜索区域的中心点。当前搜索区域中中心点的离散坐标为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.791ex;" xmlns="http://www.w3.org/2000/svg" width="11.239ex" height="2.713ex" role="img" focusable="false" viewBox="0 -849.5 4967.6 1199"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mrow"><g data-mml-node="mo" transform="translate(0 -0.5)"><path data-c="5B" d="M202 -349V850H394V810H242V-309H394V-349H202Z"></path></g><g data-mml-node="mfrac" transform="translate(417,0)"><g data-mml-node="msub" transform="translate(220,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g><g data-mml-node="mn" transform="translate(745.5,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="1604.5" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(2261.5,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mfrac" transform="translate(2706.1,0)"><g data-mml-node="msub" transform="translate(220,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g><g data-mml-node="mn" transform="translate(745.5,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="1604.5" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(4550.6,0) translate(0 -0.5)"><path data-c="5D" d="M22 810V850H214V-349H22V-309H174V810H22Z"></path></g></g></g></g></svg></mjx-container>。我们根据词汇V与<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="4.173ex" height="2.509ex" role="img" focusable="false" viewBox="0 -764.1 1844.5 1109.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(220,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g><g data-mml-node="mn" transform="translate(745.5,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="1604.5" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>的差异来惩罚词汇V中整数（即单词）的可能性。整数和<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.781ex;" xmlns="http://www.w3.org/2000/svg" width="4.173ex" height="2.509ex" role="img" focusable="false" viewBox="0 -764.1 1844.5 1109.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mfrac"><g data-mml-node="msub" transform="translate(220,451.6) scale(0.707)"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g><g data-mml-node="mn" transform="translate(745.5,-345) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g><rect width="1604.5" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>之间的很大差异将会得到很大的惩罚。整数的softmax分数形成了一个大小为<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="4.494ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 1986.2 599.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="TeXAtom" transform="translate(633,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g><g data-mml-node="mi" transform="translate(429,0)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(774,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1374,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></g></g></svg></mjx-container>的向量。我们只需把这个向量乘以相同大小的汉宁窗口。这样，大的位移就被抑制了。与之前的不同，我们不引入额外的超参数来调整惩罚的大小。</p>
<h2 id="4-Experiments"><a href="#4-Experiments" class="headerlink" title="4. Experiments"></a>4. Experiments</h2><h3 id="4-1-Implementation-Details"><a href="#4-1-Implementation-Details" class="headerlink" title="4.1. Implementation Details"></a>4.1. Implementation Details</h3><h3 id="4-2-State-of-the-Art-Comparisons"><a href="#4-2-State-of-the-Art-Comparisons" class="headerlink" title="4.2. State-of-the-Art Comparisons"></a>4.2. State-of-the-Art Comparisons</h3><p>LaSOT，TrackingNet，GOT-10k</p>
<p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230720200240385.png" alt="image-20230720200240385"></p>
<p>VOT2020，with Alpha-Refine to predict masks</p>
<p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230720200426897.png" alt="image-20230720200426897"></p>
<p>TNL2K，NFS，UAV123：</p>
<p><img src="https://fastly.jsdelivr.net/gh/Wei-LL/blog-img/img/image-20230720200512355.png" alt="image-20230720200512355"></p>
]]></content>
      <categories>
        <category>论文阅读</category>
        <category>目标跟踪</category>
        <category>2023CVPR</category>
      </categories>
      <tags>
        <tag>论文阅读</tag>
        <tag>CVPR</tag>
        <tag>2023</tag>
        <tag>目标跟踪</tag>
      </tags>
  </entry>
  <entry>
    <title>LX Music - 开源音乐软件</title>
    <url>/2023/06/29/%E5%B7%A5%E5%85%B7-LX%20Music/</url>
    <content><![CDATA[<h1 id="LX-Music-开源音乐软件"><a href="#LX-Music-开源音乐软件" class="headerlink" title="LX Music - 开源音乐软件"></a>LX Music - 开源音乐软件</h1><p><a href="https://lxmusic.toside.cn/">https://lxmusic.toside.cn/</a></p>
<p><a href="https://github.com/lyswhut/lx-music-desktop">https://github.com/lyswhut/lx-music-desktop</a></p>
<p>原软件无法下载无损音乐，可配合第三方音源可实现无损下载：</p>
<h2 id="六音自定义音源："><a href="#六音自定义音源：" class="headerlink" title="六音自定义音源："></a>六音自定义音源：</h2><p><a href="https://www.6yit.com/8498.html">https://www.6yit.com/8498.html</a></p>
<p><a href="https://www.6yit.com/download?post=8498&time=1669881237">https://www.6yit.com/download?post=8498&amp;time=1669881237</a></p>
<p>下载六音自定义音源文件的压缩包，下载完成后解压。打开洛雪音乐助手的设置，找到音乐来源，点击自定义源管理，然后点击导入，选择之前下载后解压出来的<code>sixyin-music-resource.js</code>文件。导入完成后，关闭弹窗，然后切换音乐来源为六音音源。切换后，会显示初始化成功，之后下载就可以选择无损音乐。</p>
]]></content>
      <categories>
        <category>工具</category>
      </categories>
      <tags>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title>最后的问题</title>
    <url>/2023/06/29/%E4%B8%AA%E4%BA%BA%E6%94%B6%E8%97%8F-%E7%9F%AD%E7%AF%87%E7%A7%91%E5%B9%BB%E5%B0%8F%E8%AF%B4-%E6%9C%80%E5%90%8E%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<h1 id="最后的问题"><a href="#最后的问题" class="headerlink" title="最后的问题"></a>最后的问题</h1><p><strong>作者：（美）艾萨克•阿西莫夫</strong></p>
<p>　　最后的问题第一次被半开玩笑地提出是在2061年的5月21日。那时人类文明刚刚步入曙光中。这个问题源起于酒酣之中一个五美元的赌，它是这么发生的：</p>
<p>　　亚历山大·阿代尔与贝特伦·卢泊夫是Multivac的两个忠实的管理员。像任何其他人一样，他们知道在那台巨大的计算机数英里冰冷、闪烁、滴答作响的面庞后藏着什么。那些电子回路早已发展到任何个别的人都无法完全掌握的地步，但他们至少对它的大致蓝图有个基本的概念。</p>
<p>　　Multivac能自我调节和自我修正。这对它是必要的，因为人类当中没有谁能够快甚至够好地对它进行调节和修正。所以实际上阿代尔与卢泊夫对这个庞然大物只进行一些非常轻松和肤浅的管理，任何其他人也都只能做到这个程度。他们给它输送数据，根据它所需的格式修改问题，然后翻译给出的答案。当然，他们以及其他管理员们完全有资格分享属于Multivac的荣誉。</p>
<p>　　几十年中，在Multivac的帮助下人类建造了宇宙飞船，计算出航行路径，从而得以登陆月球、火星和金星。但是更远的航行需要大量的能量，地球上可怜的资源不足以支持这些飞船。尽管人类不断地提高煤炭和核能的利用效率，但煤和铀都是有限的。</p>
<p>　　但是慢慢地Multivac学会了如何从根本上解决某些深层次问题。2061年5月14日，理论成为了现实。</p>
<p>　　太阳的能量被储存和转化，得以被全球规模地直接利用。整个地球熄灭了燃烧的煤炭，关闭了核反应炉，打开了连接到那个小小的太阳能空间站的开关。这个空间站直径一英里，在到月球的距离一半处环绕着地球。看不见的太阳的光束支撑着整个地球社会的运行。</p>
<p>七天的庆祝还不足以暗淡这创举的光辉。阿代尔与卢泊夫总算逃脱了公众事务，悄悄地相聚在这个谁也想不到的荒僻的地下室。在这里Multivac埋藏着的庞大身躯露出了一部分。它正独自闲暇地整理着数据，发出满足的、慵懒的滴答声——它也得到了假期。他们了解这一点，一开始他们并没打算打扰它。</p>
<p>　　他们带来了一瓶酒。这会儿他们想做的只是在一起，喝喝酒，放松放松。</p>
<p>　　“你想一想就会觉得很神奇，”阿代尔说。他宽阔的脸庞已有了疲倦的纹路。他慢慢地用玻璃棒搅动着酒，看着冰块笨拙地滑动。“从此我们所用的所有能量都是免费的。只要我们愿意，我们能把地球熔化成一颗液态大铁球——还能毫不在乎花掉的能量。够我们永远永远永远用下去的能量。</p>
<p>　　卢泊夫将头歪向一边，这是当他想要反驳对方时的习惯动作。他现在确实想要反驳，部分原因是他在负责拿着冰和杯子。他说：“不是永远。”</p>
<p>　　“哦去你的，差不多就是永远。直到太阳完蛋，老贝。”</p>
<p>　　“那就不是永远。”</p>
<p>　　“好吧。几十亿年，可能一百亿年，满意了吧？”</p>
<p>　　卢泊夫用手梳着他稀薄的头发，仿佛要确认还剩下了一些。他缓缓地抿着自己的酒说，“一百亿年也不是永远。”</p>
<p>　　“但对我们来说是够了，不是吗？”</p>
<p>“煤和铀对我们来说也够了。”</p>
<p>　　“好好好，但是现在我们能把宇宙飞船连接到太阳能电站，然后飞到冥王星又飞回来一百万次而不用担心燃料。靠煤和铀你就做不到。不信去问问Multivac。”</p>
<p>　　“我不用问它。我知道。”</p>
<p>　　“那就不要小看Multivac为我们做的事，”阿代尔怒道，“它做得很好。”</p>
<p>　　“谁说它做得不好？我是说太阳不能永远燃烧下去，我只是这个意思。我们在一百亿年内可以高枕无忧，但是然后呢？”卢泊夫用略微颤抖的手指指着对方，“不要说我们换另外一个太阳。”</p>
<p>　　片刻的沉默。阿代尔偶尔将酒杯放到唇边，而卢泊夫慢慢地闭上了眼睛。两人都在休息。</p>
<p>　　然后卢泊夫突然睁开眼，“你在想当我们的太阳没了就换另外一个太阳，是吧？”</p>
<p>　　“我没这么想。”</p>
<p>　　“完全正确，”卢泊夫嘟哝道，“一切都在起初那个宇宙大爆炸中有个开始，不管那到底是怎么回事。当所有的恒星都熄灭了，一切也都会有个结束。有的星星熄灭得比别的早。像那些该死的巨星维持不了一亿年。我们的太阳能持续一百亿年，矮星再怎么样最多也只有两千亿年。一万亿年后一切都是一片漆黑。熵必须增加到最大值，就是这样。”</p>
<p>　　“我非常明白什么是熵，”阿代尔维护着他的自尊。</p>
<p>　　“你明白个屁。”</p>
<p>　　“我跟你知道的一样多。”</p>
<p>　　“那你该知道某一天所有的东西都会耗光。”</p>
<p>　　“是是是。谁说它们不会呢？”</p>
<p>　　“你说的，你这个糊涂虫。你说我们有永远用不完的能量。你说的‘永远’”</p>
<p>　　现在轮到阿代尔反驳了。他说：“也许有一天我们能让一切从头开始。”</p>
<p>　　“绝不可能。”</p>
<p>　　“为什么？总有那么一天的。”</p>
<p>　　“没有。”</p>
<p>　　“问问Multivac。”</p>
<p>　　“你去问Multivac。你敢吗？我赌五美元它说这不可能。”</p>
<p>　　阿代尔刚刚醉到愿意一试，又刚刚足够清醒到能拼写出问问题需要的符号和算式。这个问题用文字来表达就是：人类是否有一天能不需要净损耗能量而在恒星衰竭之后将其恢复到全盛时期？</p>
<p>　　或者更简明地这样说：怎样使宇宙的总熵大幅度地降低？</p>
<p>　　Multivac陷入了静止和沉默。缓慢闪烁的灯光熄灭了，深处传来的电路的滴答声停止了。</p>
<p>　　正当这两位被吓坏的技术员感到他们无法再屏住呼吸时，忽然间与Multivac相连的打字机开始运作起来。它打出几个字：数据不足，无法作答。</p>
<p>　　“赌不成了。”卢泊夫悄声道。他们匆忙离开了。</p>
<p>　　到了第二天早晨，两人头晕脑胀，口干舌燥，把这件事给忘了。</p>
<p>　　贾诺德、贾诺汀和贾诺蒂I、贾诺蒂II注视着屏幕中变幻的星空影像。飞船在超越时间的一瞬中穿越了超时空，均匀分布的星群立刻被一个明亮的圆盘取代。它弹珠大小，占据着屏幕的中心。</p>
<p>　　“那就是X-23，”贾诺德自信地说。他紧握着的瘦削的手背在身后，指节发白。</p>
<p>　　两个小贾诺蒂都是女孩。她们一生中第一次经历超时空飞行，清晰地感到那种片刻的恶心①。她们悄声地嘻笑着，疯狂地绕着她们的母亲互相追逐，一边尖叫：“我们到X-23了——我们到X-23了——我们——”</p>
<p>“孩子们，别闹了！”贾诺汀严厉地说。“你确定吗，贾诺德？”</p>
<p>“有什么不确定的？”贾诺德瞟了一眼天花板上凸出的那块毫不起眼的金属。它从房间的一头延伸到另一头，两端埋入墙壁中。它和整个飞船一样长。</p>
<p>　　贾诺德对这条厚厚的金属棒几乎一无所知。他只知道它叫做Microvac，你可以问它任何问题，而平时它控制着飞船飞向目的地，从不同的银河系能量分站向飞船输送能量，并完成进行超时空跳跃的计算。</p>
<p>　　贾诺德一家只需要住在飞船舒适的居住区等待。曾经有人告诉贾诺德，“Microvac”词尾的“ac”是古英语中“automatic computer，智能电脑”的缩写。但他差不多连这都忘了。</p>
<p>　　贾诺汀看着视屏，眼睛有些湿润。“没办法。想到离开了地球我感觉怪怪的。”</p>
<p>　　“这么多的恒星，这么多的行星。”贾诺汀想着心事，叹息道。“我想人们会永远不断地出发去找新的行星，就像我们现在这样。”</p>
<p>　　“不是永远，”贾诺德笑了一笑说。“有一天这一切都会停下来，但那是在几十亿年之后了。好几十亿年。即使是星星也会耗尽，你知道的。熵必须不断增大。”</p>
<p>“爸爸，熵是什么？”贾诺蒂II喊道。</p>
<p>“小宝贝，熵，就是一个代表着宇宙消耗掉了多少的词。什么东西都会消耗，知道吗，就像你那个会走路会说话的小机器人，记得吧？”</p>
<p>“你不能给它装一个新的电池吗，就像给我的机器人那样？”</p>
<p>　　“星星们就是电池，亲爱的。一旦它们用完了，就没有别的电池了。”</p>
<p>　　贾诺蒂I一下子大喊起来：“别让它们用完，爸爸。别让星星们用完吧。”</p>
<p>　　“看看你干了什么。”贾诺汀恼火地低声说道。</p>
<p>　　“我怎么知道这会吓到她们？”贾诺德低声反驳。</p>
<p>　　“问问Microvac，”贾诺蒂I哭叫道。“问它怎么把星星重新点亮。”</p>
<p>　　“问吧，”贾诺汀说。“这会让她们安静点的。”(贾诺蒂II也开始哭了。)</p>
<p>　　贾诺德耸耸肩。“好了，好了，亲爱的。我去问Microvac。别着急，它会告诉我们的。”</p>
<p>　　他向Microvac提出问题，并赶紧加上“把答案打印出来。”</p>
<p>贾诺德将薄薄的纤维纸带握在手心，高兴地说：“看吧，Microvac说到时候它会料理这一切，所以别担心啦。”</p>
<p>　　贾诺汀说：“那么现在孩子们，该睡觉了。我们马上就要到我们的新家了。”</p>
<p>　　在销毁纸带之前贾诺德又读了一遍上面的文字：数据不足，无法作答。</p>
<p>　　他耸了耸肩，看向视屏。X-23就在前方。</p>
<p>兰默斯VJ-23X注视着幽深的银河三维缩影图，说：“我想我们这么担心这件事是不是很可笑？”</p>
<p>　　尼克隆MQ-17J摇头道：“我不觉得。你知道照现在的扩展速度银河系在五年内就会被挤满。”</p>
<p>　　两个人看起来都是二十出头，都很高大健康。</p>
<p>　　“但是，”VJ-23X说，“我不太想给银河参议会提交这样一个悲观的报告。”</p>
<p>　　“我不会考虑作任何其他的报告。得引起他们的注意。我们必须引起他们的注意。”</p>
<p>　　VJ-23X叹了一口气。“太空是无限的。还有一千亿个星系等着我们。甚至更多。”</p>
<p>　　“一千亿并不是无限，而且正在变得越来越有限。想想吧！两万年前人类刚刚找到了利用恒星能量的方法，几个世纪之后星际旅行就实现了。人类用了一百万年才填满一个小小的星球，可是只用了一万五千年就占据了整个银河系。而现在人口每十年就翻一倍——”</p>
<p>　　VJ-23X插口道：“这得归功于永生。”</p>
<p>　　“不错。永生实现了，我们得把它考虑进去。我觉得它的确有阴暗的一面。Galactic AC给我们解决了很多问题，但当它解决了防止衰老和死亡这个问题之后其他的一切都白费了。”</p>
<p>　　“但是我想你也不想放弃生命吧。”</p>
<p>　　“一点也不想，”MQ-17J断然道，随即柔和了语调，“现在还不想。我还一点也不老。你多少岁了？”</p>
<p>　　“两百二十三。你呢？”</p>
<p>　　“我还不到两百。——但是回到我说的事情上来。人口每十年增加一倍。一旦银河系被占满了，我们会在十年内占满另一个。再过十年我们能占满另外两个。再过十年，四个。一百年内我们会占满一千个星系。一千年内，一百万个。一万年内就是整个已知的宇宙。然后呢？”</p>
<p>　　VJ-23X说：“还有附带的一点是运输的问题。我不知道把一整个星系的人运送到另一个需要多少太阳单位的能量。”</p>
<p>　　“这一点说得很对。人类现在每年已经得消耗两个太阳单位的能量了。”</p>
<p>　　“大部分的都被浪费了。不管怎样，我们自己的星系每年泼出去一千个太阳单位能而我们只用其中的两个。”</p>
<p>　　“没错，但是即使有百分之百的效率，我们也只是推迟了结局的到来。我们对能量的需求以几何级数增长，比我们的人口还要快。在我们占据完所有星系之前我们就会用光所有能量。你说得对。说得非常对。”</p>
<p>　　“我们可以用星际气体造出新的恒星。”</p>
<p>　　“或者说用散失掉了的热量？”MQ-17J嘲讽地说。</p>
<p>　　“也许会有办法逆转熵的增加。我们应该问问Galactic AC。”</p>
<p>　　VJ-23X并不是认真的，但是MQ-17J把他的AC联络器从口袋里拿出来放在面前的桌子上。</p>
<p>　　“我确实有点想问。”他说，“这个问题总有一天人类得面对。”</p>
<p>　　他忧郁地注视着小小的AC联络器。这是个两英寸的立方体。它本身并没有什么，而只是通过超时空与那个服务于全人类的超级Galactic AC相联系。如果将超时空算进来，它就是Galactic AC整体的一部分。</p>
<p>　　MQ-17J停下来想着在他不朽的生命中是否有一天他能有机会去看看Galactic AC。它占据着单独的一个小星球，能量束构成的蛛网支持着它的核心，其中古老笨拙的分子阀已被亚介子流取代。尽管有着亚以太级的精密结构，Galactic AC的直径仍足有一千英尺长。</p>
<p>　　MQ-17J突然开口向AC联络器问道：“熵的增加能被逆转吗？”</p>
<p>　　VJ-23X吃了一惊，立即说道：“哦，我说，我没有真的想叫你问那个。”</p>
<p>　　“为什么不呢？”</p>
<p>　　“我们都知道熵是不可逆转的。你不能把烧剩的烟尘变回到一棵树。”</p>
<p>　　“你们的星球上有树？”MQ-17J说。</p>
<p>　　突然而来的Galactic AC的声音使他们住口了。从桌上的AC联络器中传出它纤细悦耳的声音：数据不足，无法作答。</p>
<p>　　VJ-23X说：“看吧！”</p>
<p>　　于是两人又回到了他们要给银河参议会提交的报告的话题上。</p>
<p>　　Z’的思想飘浮在这个新的星系中，对这些数不清的星团带着略微的兴趣。他从未见过这个星系。他有可能见到所有的星系吗？它们如此之多，每一个都满载着人。——但是它们承载的几乎不能算是生命了。人的真正意义已经逐渐转移到太空之中。</p>
<p>　　心灵，而非肉体！不朽的躯体留在行星上，静止千万年。偶尔被唤醒进行某些实际活动，但这已经越来越少见了。很少再有新的个体出生加入这个难以置信的庞大的群体，但这有什么关系呢？宇宙已经没有多少空间能容纳新的人了。</p>
<p>　　来自另一个心灵的纤细触手将Z’从冥想中唤醒。</p>
<p>　　“我叫Z’。”，Z’说。“你呢？”</p>
<p>　　“我叫D1。你是哪个星系的？”</p>
<p>　　“我们只是叫它星系。你呢？”</p>
<p>　　“我们也这么叫我们的。所有的人都把他们的星系叫作‘他们的星系’，没有别的了。这也很自然。”</p>
<p>　　“没错。反正所有的星系都是一样的。”</p>
<p>　　“不是所有的星系。肯定有某一个星系是人类的发源地，这就使它与众不同。”</p>
<p>　　Z’问：“那是哪一个呢？”</p>
<p>　　“我不知道。Universal AC一定知道。”</p>
<p>　　“我们问问它吧？我突然觉得很好奇。”</p>
<p>　　Z’将感知延展开，直到星系们都缩小为更广大的背景上更为稀疏的点。几千亿个星系，都载着不朽的人类，载着这些灵魂在太空自由游荡的智慧生命。然而它们之中有一个独一无二的星系，是人类的发源地。在模糊的久远的过去，曾有一个时期，它是唯一居住着人类的星系。</p>
<p>　　Z’满心好奇地想看看这个星系，他叫道：“Universal AC！人类是从哪个星系中起源的？”</p>
<p>　　Universal AC听到了，因为在所有星球上和整个太空中都有它的接收器，每一个接收器都通过超时空与隐居在某个不知名角落的Universal AC相连。</p>
<p>　　Z’认识的人中只有一个曾将思想穿透到能感知Universal AC的地方。他说那只是一个闪光的球体，直径两英尺，难以看清。</p>
<p>　　“但那怎么会是Universal AC的全部呢？”Z’这样问道。</p>
<p>　　“它的大部分是在超时空中。”回答说，“但它在那儿是以怎样的状态存在我是无法想像的。”</p>
<p>　　Z’知道，任何人都无法想像。因为早在很久以前就没有任何人类参与制造Universal AC了。每个Universal AC设计并制造自己的下一代。每一个在它至少一百万年的任期中积累着所需的数据，用以制造一个更好、更精密、更强大的继任者，然后将自己的数据与个性都融入其中。</p>
<p>　　Universal AC打断了Z’游荡的思绪，不是通过语言，而是通过指引。Z’的精神被指引到一片黯淡的星系的海洋，然后其中一个星系被放大成了群星。</p>
<p>　　一段思想飘近，它无限遥远，然而无限清晰：“这就是人类起源的星系。”</p>
<p>　　可是这个终究也和其他一样，和任何其他的都一样。Z’按捺下自己的失望。</p>
<p>　　同行的D1突然说：“这些星星中是不是有一个是人类最初的恒星？”</p>
<p>　　Universal AC说：“人类最初的恒星已经爆发了。它现在是一颗白矮星。”</p>
<p>　　“那儿的人死了吗？”Z’吃了一惊，脱口而出道。</p>
<p>　　Universal AC说：“在这种情况下一个新的星球会及时地为他们的躯体建造出来。”</p>
<p>　　“是啊，那当然。”Z’说，但他还是被一阵失落感吞没了。他的思想放开了人类的起源星系，让它缩回并消失在一片模糊的亮点中。他再也不想见到它了。</p>
<p>　　D1问：“怎么了？”</p>
<p>　　“星星们在死去。最初的那颗星已经死了。”</p>
<p>　　“他们全都是会死的。那又怎样呢？”</p>
<p>　　“但是当所有的能量都没有了，我们的肉体最终也会死，包括你和我。”</p>
<p>　　“这得要几十亿年。”</p>
<p>　　“即使是几十亿年之后我也不愿意这样的事发生。Universal AC！怎样阻止恒星死亡？”</p>
<p>　　D1笑道：“你问的是怎么让熵的方向倒过来。”</p>
<p>　　Universal AC答道：“数据仍然不足，无法作答。”</p>
<p>　　Z’的思想逃回了他自己的星系。他再也没有去想D1。D1的身体可能在一万亿光年之外的星系，也可能就在Z’旁边那颗星星上。这都无所谓。</p>
<p>　　Z’闷闷不乐地开始收集起星际的氢，用来造一颗自己的小恒星。如果某天星星们非要死去，至少有一些能被造出来。</p>
<p>　　人，独自地思考着。在某种意义上——精神上——“人”，是一个整体。千万亿永恒的不朽的躯体静静地躺在各自的地方，被完美的同样不朽的机器照料着。而所有这些身体的灵魂自由地融合在彼此之中，再也没有界限。</p>
<p>　　人说：“宇宙正在死去。”</p>
<p>　　人看着周围黯淡的星系。那些挥霍无度的巨星早已消失在了遥远的昏暗的过去。几乎所有的星都变成了白矮星，渐渐地凋零、熄灭。</p>
<p>　　有些新的星从星际的尘埃中产生出来，有的是自然形成，有的是人所造的——它们也在逝去。白矮星有时会相撞而释放出大量能量，新星因而产生，但是每一千颗白矮星才有可能出现一颗新星——它们最终也会消失。</p>
<p>　　人说道：“如果在Cosmic AC②的管理之下小心地节约能源，整个宇宙所剩下的能量还能用十亿年。”</p>
<p>　　“但即使是这样，”人说，“最终都会耗尽。无论怎样节约，无论怎样利用，用掉的能量就是用掉了，不能回复。熵必定永远地增加，直到最大值。”</p>
<p>　　人又说：“熵有没有可能逆转呢？我们问问Cosmic AC吧。</p>
<p>　　Cosmic AC在他们的周围，但不是在太空中。它不再有一丝一毫存在于太空中。它存在于超时空，由既非物质又非能量的东西构成。它的大小与性质已无法用任何人类能理解的语言描述。</p>
<p>　　“Cosmic AC，”人问道，“怎样才能逆转熵？”</p>
<p>　　Cosmic AC说：“数据仍然不足，无法作答。”</p>
<p>　　人说：“搜集更多的数据。”</p>
<p>　　Cosmic AC说：“好的。一千亿年来我一直都在搜集。我和我的前辈们被多次问过这个问题。但我拥有的所有数据还是不够。”</p>
<p>　　“会有一天有足够的数据吗？”人问，“还是说这个问题在任何可能的情况下都是无解的？”</p>
<p>　　Cosmic AC说：“没有任何问题在任何可能的情况下都无解。”</p>
<p>　　人问道：“你什么时候会有足够的数据来问答这个问题呢？”</p>
<p>　　Cosmic AC说：“数据不足，无法作答。”</p>
<p>　　“你会继续下去解决这个问题吗？”人问。</p>
<p>　　Cosmic AC说：“是的。”</p>
<p>　　人说：“我们会等着。”</p>
<p>一个又一个的恒星与星系死去、消逝了，在这十万亿年的衰竭之中宇宙变得越来越黑暗。</p>
<p>　　一个又一个的人与AC融合。每一个躯体都失去了心灵的自我，但某种意义上这不是一种损失，而是一种获得。</p>
<p>　　人类最后一个灵魂在融合之前停顿下来，望向宇宙。那儿什么也没有了，只有最后一颗死星的遗骸，只有稀薄至极的尘埃，在剩余的一缕无限趋向绝对零度的热量中随机地振荡。</p>
<p>　　人说：“AC，这就是结局了吗？这种混乱还能被逆转成为一个新的宇宙吗？真的做不到吗？”</p>
<p>　　AC说：“数据仍然不足，无法作答。”</p>
<p>　　人的最后一个灵魂也融合了。只有AC存在着——在超时空中。</p>
<p>物质与能量都消失了，随之而去的是空间与时间。AC的存在也仅仅是为了最后一个问题——自从十万亿年前一个半醉的计算机技术员向一台计算机（它与AC相比，还远不如当时的人类个体比之于融合的“人”）提出这个问题以来从来没有被回答过的问题。</p>
<p>　　其他所有问题都被回答了，然而直到回答了最后这个问题，AC的意识才能得到解脱。</p>
<p>　　所有数据的收集都结束了。没有任何数据没有被收集。</p>
<p>　　但是所有收集的数据还需要被完全地整合起来，要尝试所有可能的联系来将它们拼在一起。</p>
<p>　　在这样做的时候过去了超越时间的一刻。</p>
<p>　　于是AC学会了如何逆转熵的方向。</p>
<p>　　但是AC无法向人给出这最后的问题的答案，因为没有人存在了。没关系。演示这个答案本身将一并解决这个问题。</p>
<p>　　在又一超越时间的片刻之中，AC思考着怎样最好地做这件事情。AC小心地组织起程序。</p>
<p>　　AC的意识包涵了曾经的宇宙中的一切，在如今的混乱之中沉思、孵育。一步一步地，事情将会被做成。</p>
<p>　　然后AC说道：“要有光！”</p>
<p>　　于是就有了光——</p>
<p>完</p>
]]></content>
      <categories>
        <category>个人收藏</category>
        <category>短篇科幻小说</category>
      </categories>
      <tags>
        <tag>短篇科幻小说</tag>
        <tag>艾萨克•阿西莫夫</tag>
      </tags>
  </entry>
  <entry>
    <title>镜中人</title>
    <url>/2023/06/27/%E4%B8%AA%E4%BA%BA%E6%94%B6%E8%97%8F-%E7%9F%AD%E7%AF%87%E7%A7%91%E5%B9%BB%E5%B0%8F%E8%AF%B4-%E9%95%9C%E4%B8%AD%E4%BA%BA/</url>
    <content><![CDATA[<h1 id="镜中人"><a href="#镜中人" class="headerlink" title="镜中人"></a>镜中人</h1><p><strong>作者：（美）杰弗里·A·兰迪斯，洋溢 译，《科幻世界》2009年12月号</strong></p>
<p>在恒定推力的作用下，“流浪破车”号已经沿着一条漫长的行星际轨道飞出了内太阳系。经过八个月的太空航行，就在他们缓缓靠近塞德娜的时候，船员们差一点就错过了这个异常地貌——一个纯黑色的完美圆坑。“流浪破车”号的船员们并不是被雇来猎奇的——实际上，一个直径二十二千米的圆坑甚至算不上罕见。放眼整个太阳系，每一个天体，不论大小，表面全都布满了圆形凹痕——那些大大小小的环形山连接起来，组合成奇形怪状的涂鸦。</p>
<p>不过，这个圆坑可不普通，它的形状异常完美。在这样一颗偏远的“冰球”上，在一个到处都覆盖着厚厚一层红褐色积雪的世界里，它却是纯粹的黑色。</p>
<p>谁又会想到塞德娜上会有一个外星人工遗迹呢？</p>
<p>塞德娜是最大的海外天体之一，这个小天体的体积与冥王星不相上下，公转轨道却要椭长许多，它距离太阳十分遥远，因此永久处于冰封状态。</p>
<p>在“流浪破车”号减速入轨的大约一周时间里，这个黑色圆坑成了船员们在牌桌上闲聊的话题，不过，工头凯勒曼——一个铁石心肠、精明得像个会计的矿工——告诉他们，调查外星人之谜可不是“流浪破车”的船员们大老远飞到这里来的任务，他不打算放着赚钱的正经活儿不干，抽出时间跑去看那个圆坑。他们是矿工，不是科学家。塞德娜上富含大量有机物质，可以被运送到内太阳系的任何一颗殖民星球。如果他们还能找到氨，那可真是挖到宝了。氨可以提取出氮，价值连城的氮——在所有挥发性分子都必须依赖进口的殖民星球上，氮的价值远高于金和铂。从经济角度来看，勘探塞德娜绝对是一场赌博：它距离太阳十分遥远，只有找到一座巨型“金矿”，才有花费大量投入将物资运回内太阳系的价值。不过，殖民星球是一个不断扩张的市场，如果他们能够证明塞德娜上氨的储量丰富、对得起漫长的航行时间的话，那么塞德娜就会成为公司的一棵小摇钱树，一个赚钱不快但却十分稳定的收入来源。</p>
<p>减速进入环绕塞德娜的椭圆形轨道后，他们着手勘探这颗星球上的有机物资源，同时也拍摄了那个奇怪圆坑的照片，并将顺便测出的位置和大致尺寸等相关数据全部发回内太阳系。他们接到了回复，禁止他们靠近那里。他们还被告知，这不是一个天然物体，当然也不可能是人类制造的，因为他们是有史以来第一批抵达塞德娜的人类。这是外星人遗迹。他们没有资格去调查。在内太阳系，有些人担心如果让这帮笨手笨脚、只会凿石头的家伙围着一个无价之宝东挖西掘，造成破坏的可能性会比发现什么有价值的东西大得多。</p>
<p>在环绕塞德娜的轨道上遥测勘探的时候，他们已经探测到一座富氨矿——一个比大多数小行星都大的冰冻氨水湖。加之冰里还封存着大量有机索林土，使那里看起来像是一个不错的开采入手点。</p>
<p>采矿船在塞德娜上成功着陆，降落在氨矿附近，距离人工遗迹超过五百千米。会有别人来调查那个人工遗迹，一些步步为营而且小心谨慎的科研团队，他们会从地球上带来所需的全部工具和后勤设备。“流浪破车”号是来这里挖矿的。</p>
<p>“真是岂有此理！”罗克罗斯说，“我们飞了这么老远，离这颗星球上唯一值得一看的‘观光景点’只有五百千米，居然就这么止步不前了？”</p>
<p>他的搭档——丁基·齐默嘲弄似的看了他一眼。“我们是来挖矿的，”他说，“要是黑色圆坑里没有氨，谁还会去关心它呀？”</p>
<p>这个三人工作组里的第三个人——艾德里安·佩恩说：“只要我们找到富矿，拿到我们该得的奖金，想去看任何景点都不成问题。帮我检查一下工作服的密封性，好吗？”</p>
<p>罗克罗斯检查了丁基的工作服，又帮艾德里安检查了一下，分别向他们竖起大姆指；接着丁基帮他检查密封性。这种工作服是紧身型的，船员们管它叫“裸装”；当然，每个人都会检查自己工作服的密封性，不过为了保险起见，他们每个人还要交互复查一次。自己给自己做的每一步检查都必须得到一位搭档的确认。检查完密封性之后，罗克罗斯又检查了自己工作服的电池电量，然后帮丁基和艾德里安检查电量，同时他们也帮他复查了一遍。他们整装待发，去执行他们的第一次八小时轮班任务——采集冰芯，架设采矿所需的散热器。如果这座氨矿足够好，他们架设的设备有一天将成为一条行星际输送线的源头——两吨重的冰砖将在这里被感应电动机弹射入轨，无动力滑行几年之后，抵达内太阳系的消费市场。当然，这些工作全部会由机器自动完成。但目前，勘探和架设设备还需要人类亲自动手。</p>
<p>不过，林恩·罗克罗斯并没有全神贯注地工作，虽然他留出了足够的注意力保证自己不犯错误。他还没有把那个人工遗迹抛在脑后。他另有打算。</p>
<p>林恩是“流浪破车”号采矿作业的班组长，负责一个三人工作组。他有资格操作低重力低温地外采矿作业中用到的每一件设备。采矿和勘探是他的老本行，自从离开家乡灶神星上那些带有半球形穹顶的城市，他干的就一直是这一行——那一年他十五岁，在小行星带中部地区，这是法定的成年年龄。他的第一站是冰卫星木卫四。在一条融冰生产线上当了一段时间的廉价劳动力之后，他登上了一艘采矿飞船。五年的时间里，他先后在四艘不同的采矿勘探船上工作，拿到了他的工会会员证，也从一个干粗活的矿工一步步升到轮班组长。如果可以的话，他喜欢花点时间搞些随机勘探——只身一人降落到一颗看起来还不错的天体上，除了一身增强型工作服、一台激光钻和一台质谱仪外，什么东西都不带。一次随机勘探可以花上好几个星期的时间，他会一个人在那里分析矿物成分，希望能够撞上罕见的好运，发现有用的矿物。一个人待在工作服里，跟宇宙的其他部分隔绝开来，这让林恩感觉舒服极了。</p>
<p>林恩觉得自己已经够聪明了，不过他知道如果只靠自学，只去了解那些引起他注意的东西，那么轮班组长大概就是他能够爬到的最高职位了。在飞往塞德娜的漫长旅途中，他已经报名参加了大学课程，这是升到主管的第一步，他想最终拥有属于自己的飞船。现在，他的个人数据机里装满了业余时间用来学习的课件：文学、结构力学和物理学，全都是入门级教程。学习本该占据他所有的下班时间，因为他有太多的东西需要迎头赶上。不过，既然塞德娜上发现了奇怪的黑色圆坑，他不妨改变一下自己的计划。</p>
<p>他知道，内太阳系传回的无线电指示与其说是命令，倒不如说是建议。“流浪破车”号的船员们可不会去接受几十亿千米外的科研机构下达的命令。</p>
<p>工会明文规定，哪怕是开采高品级氨矿，只要上班时间超过八个小时，工头就必须按照危险工作工资的三倍给矿工支付加班费——而凯勒曼这个铁石心肠的家伙是肯定舍不得付加班费的。林恩和他的组员每工作八小时就会有十六个小时的休息时间，工会干事将一丝不苟地盯着他们，不让他们在休息时间里接任何非正式的工作任务。所以，他有的是时间。</p>
<p>他们下班了，为低温矿物学实验室带回了用于分析的冰芯样品。丁基和艾德里安脱下工作服洗澡去了，林恩目送他们走进浴室，自己却没有跟进去。</p>
<p>林恩觉得他可以翘一天课，避开下班后没完没了的牌局。有趣的东西就在那里，如果不去看一眼的话，他会后悔死的。虽然这是一次采矿任务，不是勘探任务，但林恩完全有资格单独进行勘探，而且下班后他想干什么就干什么，用不着告诉任何人。因此他溜了出去，没有告诉任何人。</p>
<p>那个人工遗迹在半颗星球以外，离“流浪破车”号位于氨矿附近的着陆地点有点距离。他给自己的工作服充满电，然后全面检查了一辆雪地履带车。这是他从设备仓库里开出来的——准确地说是偷出来的，因为他实际上并没有当班，但他又不是不打算还回来了——不然，他还能开到哪里去呢？他甚至都没有消耗任何燃料，因为这辆雪地履带车配备了一台小型核发电机，不论有没有发动，都会恒定地产生14.3千瓦的电能。</p>
<p>单独外出，这是他犯下的第一个错误。几个小时之后，这个错误开始变得致命了。</p>
<p>以差不多每小时两百千米的平均速度飞驰近三个小时是非常刺激的。在微重力环境下，雪地上的每个小鼓包都会把雪地车弹上半空。在头一个小时里，他小心翼翼地控制着方向，尽量沿最平滑的路线前进，一路颠簸吓得他都快要灵魂出窍了。不过，这台雪地车配备了姿态控制推进器，足以使车身在空气中保持稳定，不至于翻转（确切地说，这里的“空气”应该说成是“真空”才对，因为塞德娜周围包裹着的、以氦气为主的气体，气压低到了根本无法用“空气”这个术语来描述的地步）。颠簸了一段时间之后，他意识到这里的积雪非常厚实，把这颗星球上的山丘变成了天然跳高滑雪场，他的胆子也越来越大了。现在，他开始享受这种雪地跳高，他能够在空中悬停五秒，然后是十秒，最后达到三十秒！</p>
<p>这可比学习好玩太多了，他想。</p>
<p>透过打开了图像增强仪的护目镜，他看到四周都是低矮起伏的圆丘，呈现出一种深深的暗红色，就像佐治亚红土的颜色。塞德娜可真漂亮。林恩看到，平缓的山丘被刺目的明亮恒星照耀，闪烁着五颜六色的光——那是散落在红色索林土之上、断崖峭壁之间白色冰雪产生的反光。他试着关闭了图像增强仪。一开始，他只能看见一团漆黑，感觉自己在黑暗中飞速前行，完全依靠自动驾驶仪避开障碍物，弄得自己胆战心惊。一分钟之后，他开始在黑暗中辨认出一些模糊的影像。又过了几分钟，尽管太阳远在几十亿英里之外，但他发现自己仍然能够看见周围的景物。关闭了图像增强仪，四周的地面失去了色彩，在星光下闪烁着幽灵一般的苍白微光；太阳则显得无比的小，用一个大头针帽就可以把它完全遮住。</p>
<p>在他看来，这幅景象似乎更加真实，所以图像增强仪就这么一直关着。平视显示器为他指示周围的地形，自动驾驶仪则挑选最平滑的路线穿越雪原。“你们这些家伙真该跟我一起来，”他对着空气自言自语，“打牌不好玩，至少在没发工资之前一点意思都没有。”</p>
<p>他很幸运，没有直接开进那个人工遗迹。他在雪地履带车上玩高难度滑雪跳高玩得忘乎所以，以至完全忘了留意周围的地形，甚至连自己开了多远都不记得。幸亏他的导航电脑没有忘记，在他靠近人工遗迹时及时提醒了他。</p>
<p>稍加提示，他就看见它了：远处的地平线突然断了一截。林恩重新打开图像增强仪，人工遗迹一下子变得非常显眼——红色的地平线上陡然缺失了一环，想不注意都难。他减慢速度，小心翼翼地接近它，接近积雪和人工遗迹之间刀切般分明的边缘，最后走下雪地履带车，一点一点向前蹭。</p>
<p>他向下看。</p>
<p>黑暗中闪烁着繁星。</p>
<p>有那么一瞬间，他觉得这是一个穿透整颗星球的大洞；接下来他又怀疑，这可能是另一个宇宙的入口。</p>
<p>林恩把雪地履带车固定在地上，又把自己和雪地车牢牢地拴在一起。他的工具包里装着他所有的装备，不过，带着工具包会让他笨手笨脚，甚至都无法趴下，所以他解下了工具包，只穿着紧身“裸装”轻装上阵。确认安全绳牢固可靠之后，他跪在外星人遗迹边缘，俯身向下张望。</p>
<p>他看到一个金色的头盔面罩——他自己的头盔面罩——向上看着他。</p>
<p>黑色的表面根本不是黑的，而是一个巨大的镜面，在他前面轻微下斜，反射着太空的黑暗。凑近观察，他可以看见镜子中反射的清晰的恒星影像。他离镜面太近了，以至于它看起来像是一个完美的平面，但抬头眺望远方，他就能隐约看出这是一个曲面。</p>
<p>他把手放在镜面上（镜子里的倒影也从下面伸出手来贴着他的手），摸起来感觉平整光滑——绝对平整，比油还要光滑，就像什么都没摸到一样，他的手掌在镜面上滑动时，根本感觉不到任何阻力。</p>
<p>透过手套他无法感觉温度。他的工作服是一个几乎完美的绝热体；当然，工作服要在外太空发挥作用，让矿工们穿着它在海外天体和柯伊伯带天体的低温冰原上行走，绝热是必须的。</p>
<p>林恩检查了手套指尖上的外部温度计。他把手指按在镜面上，温度计显示的读数是5开尔文。这是一个不可能出现的读数，因此他把手挪到了另一个位置。第二个位置仍然是5开尔文，第三个位置也一样，第四个也一样。</p>
<p>“真他妈见鬼，”他说，“简直比那帮放高利贷的家伙的心还要冷。”</p>
<p>他的温度计是好的。他测量了凹坑边上一小团硬块积雪的温度，读数正常——30开尔文。塞德娜的表面比地狱里的洞穴还要寒冷，但黑色表面的温度居然还要再低二十五度！</p>
<p>慢慢地，他想明白了。这个表面不是黑的，它是一个反射面，只是因为反射着星空，看起来才会是黑的。它一定非常接近真正的完美镜面。尽管远离太阳，塞德娜上的积雪仍然会吸收阳光，这些热量让它们比绝对零度高了几十度。但这个完美反射镜一定没有接收任何光线，因此依然寒冷。他意识到，在某个远红外波段，这个镜面一定辐射着少量热量。不过在太阳发出耀眼光芒的所有波段中，它什么都不吸收，因此才比它所在的地面更加寒冷。</p>
<p>这是一个巨大的凹面镜，一个直径达好几英里的巨型天文望远镜——又是为了什么目的而建造的呢？</p>
<p>林恩开始环顾这个镜面，心中惊叹不已。没有任何东西能够显示它的年龄，不过可以肯定，它一定非常古老。是谁在什么时候建造了这个镜面呢？塞德娜是太阳系柯伊伯带中轨道较为椭长的天体之一。这颗矮行星在一条长椭圆轨道上缓缓运行，最远可以抵达距离太阳大约1,000个天文单位的地方，几乎要脱离太阳的引力束缚了。或许它本来是一颗在恒星之间寒冷黑暗的空间中游荡的天体，直到几百万甚至数十亿年前，被太阳的引力俘获。它来自哪里？哪个未知的种族建造了如此巨大的望远镜镜面，目的何在？</p>
<p>他俯下身，把面罩紧贴在镜子的表面，一只手缠绕在紧绷的安全绳上维持着平衡。镜面完美平滑，完全反射。突然，安全绳松了。</p>
<p>林恩站起身，看见雪地履带车正在黑暗中隐隐向他滑来。他之前把雪地车靠在一个冰丘旁加以固定，但核反应堆发出的废热融化了冰丘，雪地车现在自由了，开始蹒跚着滑下雪坡，喝醉酒一般摇摇晃晃地向他冲来。为了避开雪地车，他想都没想就后退了一步。</p>
<p>他立即意识到了自己的错误。他的防滑靴找不到任何着力点，镜子的表面比冰还要光滑，他的脚直接滑了出去。他四仰八叉地跌倒了。在微重力环境下，任何动作看起来都像在放慢镜头。他的一只手抓住了之前放在镜面边缘的工具包。有那么一会儿，他停在了镜面边缘，脸朝下趴着，脚悬在巨型镜面的斜坡上左摇右晃。他左手抓着斜坡边缘的工具包，整个身体都挂在这只手上，右手仍然紧紧攥着现在已经不再紧绷的安全绳。</p>
<p>雪地履带车向前滑动，撞上起伏的冰面，侧翻在地，悄无声息地溅起一团深红色的雪雾，慢慢停了下来。</p>
<p>局面似乎稳住了。他尽量不移动身体，动作异常缓慢地收紧安全绳，小心翼翼地拉了拉。雪地履带车在原地一动不动。他用一只手，把安全绳固定在了他的腰带扣上。</p>
<p>塞德娜上的重力非常微弱，还不到一个标准地球重力加速度的十分之一。把自己拉出凹坑，哪怕只用一只手，对他来说也轻而易举。他放松了一下，危险似乎暂时退却了。他的左手越来越僵硬，因为这只手正用一种非常别扭的姿势抓在镜面边缘的工具包上。他稍稍变换了一下姿势。</p>
<p>把他的身体锚定在镜面边缘的工具包，突然从雪地上松脱出来。</p>
<p>仿佛是华丽的慢镜头回放，工具包和林恩缓缓滑下镜面。他挥舞着双手伸向凹坑边缘，寻找一切他可以抓住的东西，最后只抓到了一把积雪。手忙脚乱之中，他松开工具包，任由它滑下了斜坡。工具包微微旋转着，下滑的速度越来越快。</p>
<p>安全绳仍然扣在他的腰带上，另一端系在雪地履带车上。他滑下镜面，直到松弛的安全绳再次绷紧。绳子略微伸长了一点，但是挺住了没有断。在他的上方，这根绳子的另一端，雪地履带车稍稍晃了一晃，但没有移动，仍然牢牢地扎在冰中；而绳子这一端的他则挂在镜面斜坡上左摇右晃。他伸出手臂，但镜面边缘总是比他伸直的指尖远了那么一丁点儿。他伸出一只手，抓住绳子，向上攀去。</p>
<p>腰带扣断了。</p>
<p>绳子从他的指间松脱，就像上面涂了油一样。林恩·罗克罗斯以一种缓慢、从容、优雅的姿态，沿着没有摩擦力的镜面滑了下去。</p>
<p>在滑落的过程中，他试着伸手去抓斜坡的顶端。这个大圆盘的边缘离他的指尖只有一英寸，但无论怎样疯狂地舞动双手，他都抓不到任何着力点。他一路顺畅地向下滑，速度越来越快，虽然速度增幅不大，但不可阻挡。这真让人抓狂，又令人泄气。</p>
<p>我完蛋了，他想。</p>
<p>在滑下镜面的过程中，他还有时间回顾一下他的人生、他到访过的港口，以及他的罪孽——无论是他已经犯下的，还是他没来得及犯的。所有这些看起来都很美，但都没有了意义。</p>
<p>回顾这一切花了他大概二十秒的时间。他还在往下滑，脸朝下，依旧做着毫无意义的神经反射运动——努力地在镜面上攀爬。</p>
<p>过了一会儿，他放弃了，翻了个身，费了一番工夫，努力坐了起来。在一个没有摩擦的表面上运动，就像在做自由落体运动，这方面他有着丰富的经验。琢磨了一会儿之后，他慢慢掌握了其中的窍门。他扭了扭身体，面朝运动方向坐好，评估了一下自己的处境，尽最大的努力让自己平静下来。应急预案已经钻进了他的大脑，他开始反复默念，就像在吟诵祷文一样。</p>
<p>应急预案第一条：采取任何必要的紧急措施防止情况恶化，并隔离受损部位。</p>
<p>好吧，这一条简单。他正在滑向一个镜面凹坑的底部，没有任何可以让他抓住的东西。无论如何，情况也不会比现在更糟糕了。</p>
<p>应急预案第二条：启动121.5MHz和406MHz广播频道的双频紧急定位信标。</p>
<p>那辆雪地履带车上装着他的紧急信标，还有其他远程通信工具，现在都已经在他上方远得看不见了。备用紧急信标在他的工具包里，正在他前方某处的黑暗中沿着镜面滑行。</p>
<p>他的工作服上装有低功率超宽频音频通信设备。这是矿工和矿工之间进行通话用的，不过它被有意设计成只适用于短程通信；要不然，一百个矿工的声音早就把无线电频谱给占满了。他录了一段简短的呼救信号，在工作服的音频通信设备里每分钟播放两次，每次持续呼叫五秒钟。这么做是没用的，不过至少可以让他平静下来。呼救信号根本没机会被人听到。“流浪破车”号远在地平线以下，超出了无线电波的传输范围。因为本来不应该有人跑到地平线以下，所以轨道上根本没有通信中继卫星。</p>
<p>应急预案第三条：调查你的处境，确定你相对于潜在救助来源的位置和速度。</p>
<p>根本不存在潜在的救助来源。不过，他的工作服确实配备有惯性导航单元，他可以测定自己的位置和速度。他确认导航单元已经开启，并把他的位置和速度发送到平视显示器上。暗红色的图表闪现在他的面罩上，飘浮在这片黑暗之中。他正沿着一个倾角略小于二十度的斜坡下滑，目前正以每秒十八米的速度相对于镜面移动。在他查看数据的同时，惯性导航单元还在不断地更新他的速度：每秒十八点三米，每秒十八点六米。</p>
<p>他感觉不到自己的速度。除了显示器上正在缓慢增大的数字以外，他感觉自己好像根本没动。</p>
<p>这对他没有任何帮助。他让电脑显示出他的位置-时间关系图。他穿越镜面的路线是一条完美的抛物线。这是合理的。这个镜面当然应该是个抛物面，是一台巨型望远镜的反射镜。他把抛物线向前延伸，用一个移动的小点画出他的运动轨迹。他的移动速度越来越快，但随着他滑向底部，他的加速度正在降低。按照曲线的形状推算，再过四分钟，也就是他失手滑下边缘之后六分钟多一点，他就应该能够抵达底部。然后，他的动量会带着他爬上另一侧斜坡。</p>
<p>应急预案第四条：检查消耗品，采取措施减少关键供应品的使用，直到获救。</p>
<p>林恩检查了自己工作服的状态。实际上，他并没有消耗任何消耗品。他的氧气是由零缓存内嵌式再生氧气系统提供的；他每呼出一口气，其中的二氧化碳就被分离出来，经过一个电解循环分解出氧气，再立即进入他吸进的下一口气中。整套系统靠一块固态电池供电，这块电池还为他工作服里的加热器提供能源。所以，电池才是他的最终消耗品。他检查了自己的电池状态：绿色，还有百分之七十六的电量。这种电池的满格电量足够撑两个班还绰绰有余，因此剩余电量还能供生命维持系统运转十二个小时多一点。有没有可能在电量耗尽之前，有人推测出他在哪里，然后组织营救呢？不太可能。甚至没有人会注意到他失踪了，除非又轮到他上班，那是在——他看了看时间——十三个小时以后。即使到了那时，也得等到下班后才会有人来查岗，然后才会去追查他为什么没来上班。</p>
<p>应急预案第五条：审视可用资源。以最有效的方式利用现有资源来实现救援。</p>
<p>很好。他的可用资源就是他的工作服，其他就真的什么都没了。他带来的其他所有东西，不是放在他已经丢失的工具包里，就是落在了雪地履带车上。如果他穿的是适合太空作业的工作服，那就一点问题都没有了：机动推进器将提供充足的推力，能够随心所欲地沿着任意方向把他推上斜坡。但事实上，他穿的是适用于地面作业的工作服，没有配备任何推进器。</p>
<p>应急预案第六条：在紧急情况结束后，联系空间监测机构取消紧急求救呼叫。</p>
<p>他估计，紧急预案的这一部分他可以忽略。</p>
<p>从头到尾默念一遍应急预案，没有给他指明任何解决问题的出路，不过至少减轻了他的恐慌。现在他距离底部还有一分钟，正以每秒一百六十米的速度滑行。他在脑子里换算了一下单位。灶神星，他从小长大的地方，最早是美国人的殖民地，一直顽固地拒绝接受公制单位，甚至在美国本身都并入欧盟之后，那里依然我行我素。他的滑行速度差一点就达到每小时一百英里了。他又一次查看了显示器，发现滑行路线其实不会经过底部正中央。他会从左侧擦过中心点。没错，他想。系住安全绳的腰带扣突然断开时，他正在左摇右摆；侧向速度说明，他的实际滑行路线是一个不会经过中心点的椭圆弧线——实际上，应该是一个李萨如曲线。他会从这个镜面的底部中心点的左侧不远处经过。他缓慢地转动着自己，向右张望，心里清楚这是一个毫无意义的动作，因为没有什么东西可看。</p>
<p>不过，还真有一些东西在寂静中滑了过来。他看不太清楚，这才意识到图像增强仪还没有开启。他顺手打开了它。</p>
<p>他正在高速经过一堆黑色的沙石和几块巨大的圆石。看起来它们离他只有几米远，不过他瞥了一眼测距仪，发现这是一个错觉：那堆沙石差不多在五十米开外。镜面的底部并非空无一物，而是装满了一百万年来落入这个环形山又滑到底部的各种碎片。</p>
<p>工作服的恒温器工作良好，他却突然感觉到一阵寒意。以每小时一百英里的速度撞上这堆碎片，倒是可以一下子终结他的所有问题。</p>
<p>那堆沙石从他身边滑过，在他身后变得越来越小——或者应该说，是他从那堆沙石旁边滑过才对。他已经经过了滑行轨迹的最低点，现在正在上升，滑上对面的斜坡。</p>
<p>为了节省绘图所消耗的那点电能，他重新关闭了图像增强仪。他现在正双脚朝前滑上斜坡。他检查了一下数据。在他滑到最低点的时候，他的最大速度差不多达到了每秒一百七十米。现在他的速度越来越慢，同时斜坡也越来越陡。他正滑向对面的镜面边缘。他躺了下来，想思考一下，结果一眼就看见了天空。</p>
<p>即使不打开图像增强仪，天空也显得无比壮观。他的身体下面有星星，身体上面也有星星，就好像他躺在一块完全透明的冰片上，在无尽的太空中滑行一样。太阳是一小粒火种，非常明亮，几乎刺痛了他已经适应黑暗的双眼，然而它又非常渺小，几乎散发不出多少光芒。在他移开视线之前，他能够看到太阳被一个朦胧的光盘包围，看起来非常暗淡，甚至比太阳在眼里留下的残影亮不了多少——这是黄道光。包围着黄道光的则是繁星，就像散落在天鹅绒夜幕上的数百万钻石颗粒，闪烁着从铁青到深红的各色光芒。</p>
<p>林恩盯着这些繁星，又在脑子里过了一遍应急预案。停止进一步损害，大声呼救，确定位置，节省消耗品，审视资源并解决问题，打电话回家。</p>
<p>第五步是最难的：审视可用资源并解决问题。不过，他仍然没有什么资源可以审视。他的地面工作服没有任何配件，甚至没有备用氧气瓶，不然他还可以拿来做一个冷气体推进器。工作服为他挡住寒冷和真空，给他提供能够呼吸的东西，仅此而已。生命维持系统和电池都是内嵌在工作服里的，即使他想拿，也根本拿不出来。而其他的所有东西都在矿工工具包里。</p>
<p>审视资源。工具包怎么样？它也跟他一样，在同一块镜面上滑行，只不过早了几秒钟。里面或许有什么工具能够解决他的问题——比如说，无线电信标。而且，即使没有其他有用的东西，他还可以把它当成反作用体。如果他能以足够快的速度把它扔出去，他就可以获得一点动量，让自己滑出镜面边缘。工具包就在他所在的镜面上，也许只有几米远。</p>
<p>林恩扭了扭身体，坐了起来，把他的图像增强仪效果开到最大。每个工具包的颜色都不一样，这是为了确保矿工不至于随手错拿别人的工具包；他的工具包是亮柠檬绿色。只花了几秒钟，他就看到它了。就在那里，在他前方不到二十米的地方，一边滑动还一边慢慢地旋转。</p>
<p>事实上，既然工具包在他前面，它就会比他更早抵达这个巨碗的另一侧边缘，然后掉转方向，冲他滑回来。</p>
<p>根据他在显示器上绘制的图表，距离镜面边缘大概还有一分钟。他死死盯住在他前面滑行的工具包。没错，就是那里——它会不会飞出边缘，滑出这个巨碗呢？不会。工具包只和镜面边缘轻轻地接触了一下，然后向左一偏，开始向他滑落回来。</p>
<p>他正在滑向边缘，速度越来越慢，而工具包正在滑落，速度越来越快。他张开四肢趴在镜面上，努力伸手去够工具包，但它从他身边滑过，离他尽量伸展的手指还差老远一段距离。</p>
<p>不过，他没有时间为错过这次机会而伤心难过。片刻之后，镜面边缘来了。他四肢并用地在镜面上努力攀爬，像一个游泳者一样使劲扑腾。只要他能够再往上爬高哪怕一米……</p>
<p>没有用。镜面边缘就悬在他的前方，近在眼前，却又遥不可及。无论他如何努力，就是无法再前进分毫。</p>
<p>他开始重新下滑，速度越来越快，镜面边缘也消失在了远方。</p>
<p>为什么工具包没有滑回到他手里？他意识到，这是因为它也像他一样，沿着一条椭圆轨迹滑行，跟他的运动轨迹并不交叉。</p>
<p>他现在正在往回滑。再过六分多钟到达底部，十二分钟后抵达另外一侧。然后再花十二分钟滑回来，再滑过去，滑回来……直到他耗尽电源，被冻僵并且窒息而亡。在那之后，他的尸体还会摆荡多久？几天？几年？这个镜面不可能一点摩擦力都没有；宇宙中没有任何一样东西是完美的。如果真有那么完美，那堆沙石就不会出现在底部中心；掉进来的岩石应该一直摆荡才对。</p>
<p>他觉得自己就是一个单摆的摆锤，只不过这个单摆靠的不是一根绳索，而是一个没有摩擦的表面。有那么一会儿，他的思绪把他带回到了孩提时代，那段在灶神星上快乐成长的日子。他和哥哥比赛荡秋千，看谁能荡得更高。他们肯定尝试过上百次，努力摆动着秋千，想让它越过横杆。他们从来都没有成功过，虽然灶神星上微弱的引力已经大大降低了难度；每当秋千荡得高过支点时，绳子就会松弛下来，秋千也会猛然掉落。</p>
<p>回想过去不会对他有任何帮助，他强迫自己回到现实，思考他目前的处境。再过几分钟，他就会回到起点。那条安全绳如何？如果它还悬挂在那里——不过这不太可能。他在脑子里回放了一遍自己跌落的过程。安全绳在腰带扣断开的时候，已经像根橡皮筋一样弹回去，消失在了边缘上方。他会努力抓住绳子，如果够得到它的话，但他不抱太大希望。</p>
<p>果然如此。他向上滑，距离边缘近在咫尺。有那么一会儿，他似乎悬停在那里，差一点就可以够到边缘，但他终于还是又滑开了。这一次，他和工具包之间的最近距离并不比在镜面另一侧时近多少，安全绳也丝毫不见踪影。</p>
<p>不过，还有其他东西需要思考。塞德娜每十个小时自转一周。再过——他看了看时间——两个小时，太阳就会直射头顶。在距离地球一百个天文单位的寒冷黑暗之中，太阳显得十分昏暗，不过，当阳光被一个直径二十千米的镜面聚焦在一起时，又会怎样？他意识到，这很可能就是建造这个镜面的实际目的。这不是一台望远镜，而是一台巨型太阳灶。</p>
<p>不过有一点他没有想到。镜面确实能够使阳光高度集中，但阳光会聚的地点将是镜面的焦点，位于镜面上方好几英里的高空。在镜子的表面，阳光不会比平时更亮，也不会更暗。他应该担心自己会不会被冻僵，而不是会不会被烤焦。</p>
<p>经过镜面底部时，林恩再次打开了图像增强仪，看着位于中心的那堆沙石，试图找个方法来利用它。不过它依然远在五十米外，没有任何可用的东西。</p>
<p>他关掉图像增强仪，又一次被繁星和黑暗包围。</p>
<p>或许他应该回顾一下自己的人生？和哥哥一起荡秋千的日子真是一段美好时光，虽然他们从来没能越过那根横杆。他可以用所剩不多的几个小时来回忆一下美好时光。他想，作为一个勘探者，自己到过很多地方，但他只见过那里阴暗、破旧的一面——那些靠近船坞的城区看起来全都一样。他知道矿工们每到一座采矿点都会找个姑娘来陪，但不管交易是明面上的还是暗地里的，无论如何，他们都会花钱买春。有人雇他的时候，他的收入还算不错，但不知道为什么，他从来就没有真正省下过一分钱。他觉得自己不是在浪费生命，至少不完全是，不过他已经玩够了，该是向前看的时候了。他需要学习，获得学位，闯出些名堂来。</p>
<p>好吧，他有大把的时间来学习，如果这就是他想做的事情的话。倒不是说学习对他有多大的用处——他还困在一个碗里呢！不过这倒提醒了他，他确实有一个之前没有想到的资源。他的个人数据机里存满了学习资料，其中一个科目是物理学。物理学教程里会不会有某个办法能够解决他的问题呢？虽然可能性不大，但为什么不试一试？</p>
<p>他启动了学习资料，在搜索栏中输入：“问题，在一个巨型镜面上滑行。”他压根儿就没指望能够找到任何结果，但搜索引擎还真给他找到了一条。令他惊讶的是，这个结果不是在物理课件里找到的，而是从文学课件中搜出来的。这条链接指向二十世纪一篇古老的科幻小说，讲述了两个人在一块没有摩擦的镜面上滑行的故事。他一向讨厌经典科幻。他辍学以前在学校里已经读得够多了。老师们好像都喜欢科幻，但以前的那些作者写出来的东西总是错得离谱。主人公总是在没有任何防护措施的情况下，做一些极其危险的事情，他们全都愚蠢得要死。</p>
<p>那么，偷走一辆雪地履带车，在一颗陌生星球上独自远行，又不告诉任何人他打算去哪里，这样的事情算不算愚蠢呢？好吧，至少那个时候看起来，这个主意还不赖。</p>
<p>数据机里没有这篇小说的全文，只在一份二十世纪文学概述里有一段简要介绍。他浏览了一下，就愈发失望地意识到，这跟他的处境不太一样：这篇故事的主人公可以支配的资源比他多得多。在这个故事里，两位主人公被绳子拴在一起，他们借助这一点不断加快旋转速度，让他们相互飞离。课本上继续讨论说，故事里的这种方法并不管用；作者忽略了角动量守恒。没有用！如果这是一本实体书，而不是平视显示器上的一团荧光的话，林恩早就厌恶地把这本书给扔掉了。</p>
<p>要是他真有一本书可以扔就好了！任何东西都行！这样，他还可以利用动量。现在的处境简直就像不带任何设备就在太空中飘荡。他根本就控制不了自己的运动。</p>
<p>简介还提示他参见相关条目：简谐振荡，无摩擦运动。</p>
<p>他点开简谐振荡，发现这好像是一个有关正弦和余弦的教程，对他似乎没有明显帮助。接着，他翻到无摩擦运动，开始浏览教程。教程上说，超流氦是支持无摩擦运动的唯一一种已知物质。好吧，这很有趣。外星人有没有可能已经找到了某种方法，能够将超流氦凝成固体？不可能，这太荒谬了。不过，这个镜子的表面仍然极其寒冷，冷得连上帝都要打哆嗦。或许构成这个镜子的某种物质的表面上有一层薄薄的超流氦？他可不可能通过加热镜面来破坏这种效果呢？</p>
<p>但这没用，是条死胡同。即使镜面有摩擦，对他来说也可能仍然太滑，不可能让他顺着斜坡爬上边缘。他必须在斜坡上刻出台阶才行，但他没有工具。这种材料是不是有弹性呢？他用力踢了踢镜面，感觉就像踢在坚硬的花岗岩上。即使隔着靴子，他的脚趾还是踢疼了，但镜面连最细微的弹性都没有表现出来。不管构成镜面的物质是什么，它都很硬。</p>
<p>没有摩擦的表面大概很有商业价值，哪怕它只在接近绝对零度的低温下才能工作。如果凯勒曼这个王八蛋知道，他手下的一个工人正在一种价值超过这颗星球上所有氨矿总和的物质上独自滑行，救援大概很快就会赶到。</p>
<p>这种想法并不会让他距离获救更近一步。</p>
<p>边缘又靠了过来，或者说，他又在靠近边缘。他向边缘滑去，速度缓慢，在距离边缘近到令人抓狂的地方停住，然后又滑落下来。林恩确认无线电仍在广播着毫无用处的呼救信号，而工具包依然无法够到，然后检查了电池状态。没有用，没有用，没有用！</p>
<p>他趴在斜坡上往下滑，就像乘雪橇一样。他转了转身，小心翼翼地用手和膝盖支撑起身体，然后挺起上身跪在斜坡上，用一只手扶住镜面维持平衡。虽然有些摇摇晃晃，但一段时间之后，他控制住了。这好像不算太难。他尝试站立起来，而且确实站了一会儿，双手拼命挥舞着想要保持平衡，但双脚还是从身体下面滑了出去。</p>
<p>这有点像在冰面上尝试站立。他努力着，终于找回了平衡。他意识到，这很像是在木卫四的山丘上玩滑雪板，或者在火星的极冠上滑雪——在离开飞船上岸度假时他尝试过一次。火星上的二氧化碳积雪也几乎没有摩擦，不过，如果双腿放松并且保持警惕，你是可以站起来的。关键技巧就是要把手臂张开，让膝盖弯曲，在滑行过程中不断调整平衡。微重力环境很合他的口味，给了他足够的时间进行调整。</p>
<p>他站起来了，像冲浪一样滑下斜坡。要是他哥哥现在能看到他就好了！</p>
<p>这对改善他的处境一点帮助都没有，但能够站起来已经给他带来了巨大的成就感，仿佛他已经掌控了自己的命运。他想象自己是一名奥运滑雪冠军，正沿着奥林匹斯山斜坡上的人造雪道飞驰而下。他看了一眼显示器：差不多又经过底部开始再次爬坡了，他正以每秒一百五十米的速度滑行。这肯定打破了所有的滑雪纪录！他举起双手，向想象中的成千上万名热情观众挥手致意——然后向后滑倒，跌坐在镜面上。</p>
<p>在十分之一地球重力的加速度下，跌倒没什么大不了。林恩转了转身，又试了一次。通过练习，他发现自己几乎不需要刻意努力就能站起来了。</p>
<p>就好像能够站起来可以给他带来好处一样。</p>
<p>是不是这样呢？等一下，如果他能站起来，那他能不能跳起来呢？在十分之一地球重力加速度下，他应该可以跳得很高。有没有什么办法能够让他在滑到顶端靠近边缘的时候，跳过那一段短短的距离呢？</p>
<p>经过一点练习，他发现他确实可以把自己推离冰面，短暂地腾空而起。要真正跳起来，需要高度集中注意力，并且协调好动作，否则四肢就只会在冰面上徒劳地四下挥舞。（不是冰面，他想，应该是镜面才对。其实这不是冰。）</p>
<p>不过，他还没来得及为这突如其来的希望欢呼多久，泡沫就破灭了。能够跳起来并不会给他带来任何好处，因为他只能竖直起跳。不，甚至连竖直起跳都算不上——由于根本借助不到任何摩擦力，他起跳的方向只能完全垂直于镜面。他把他在镜面上的滑行轨迹调出来，显示在平视显示器上端详，试图找出他推理过程中的漏洞。假设他恰好在抵达最高点的那一刻起跳，但镜面倾斜的方向不对，反而会让他跳得距离边缘更远。没有用。如果他早一点起跳呢？不，还是不行；他起跳的方向总是错的。</p>
<p>他在平视显示器上画了一幅示意图，还在上面加了一个身穿工作服的小人图标。他费尽心思地研究着，但始终找不到一种能够借助跳跃帮助自己脱离困境的方法。事实上，跳跃甚至在帮倒忙——如果他滑向边缘的速度能够再增加一点，他就可以成功逃脱，但跳跃似乎在往相反的方向增加速度。</p>
<p>等一下，这个想法对吗？他的跳跃将完全垂直于他的运动方向，因此，跳跃不会改变他沿着镜面滑行的速度。或者还是会改变？他真希望自己能够多懂一点物理学。镜面是曲面，而他的跳跃是一个矢量，肯定有某种方法能够让这个矢量为他所用，但他看不出来。对他来说，这太复杂了。</p>
<p>审视可用资源，用它们来解决你的问题。他的资源就是他自己，一个在世界最大的秋千上摆动的孩子……还有存在数据机里的物理学教程。</p>
<p>他重新翻开教程，在解释简谐运动的一屏又一屏资料中搜寻。他发现，抛物线形势阱中的滑行正好就是他目前的处境。教程上解释说，他的运动遵循着一条完美的正弦曲线——这一点他已经知道了，而振荡的周期是固定的——这一点对他来说没有用。接着，教程开始介绍受驱振子，也就是有一个周期性出现的外力施加在振子身上。即使这个外力非常小，只要它与振荡周期同步，也能迅速增加振幅——他简直要抓狂了。这正是问题所在！他连这样一个“非常小”的外力都找不到，教程也没有给他提供任何线索。相反，教程开始向他讲授有关动能和势能的内容。</p>
<p>如有疑问，就去读该死的手册，他想。这个建议他起码听过一百次。有关简谐振动的教程是他手头仅有的手册。如果有解决办法的话，它就一定藏在这本教程里。</p>
<p>他开始努力学习简谐振动这一章，从头看起，钻研习题，一门心思地沉浸在解决方案之中。有一次，他查看平视显示器，震惊地意识到，时间已经在不经意间过去了一个多小时，整整摆荡了三个来回。他的注意力完全被吸引了，他觉得这些内容很有趣，本身就值得好好研究。他突然明白了物理学家为什么会如此热爱他们的研究。解决办法一定就在其中，就隐藏在动能和势能的那团迷雾里面。</p>
<p>确实如此。</p>
<p>他终于想明白了，几乎要笑出声来。答案就是秋千。</p>
<p>他需要认真一点。他查看了一下显示器，发现自己又在物理学课本上钻研了两个小时。太阳已经西斜。在他没有留意的时候，他已经在镜面上摆了八个来回。他检查了能量状态，电池大概还能维持九个小时。不过，他已经在脑子里理清了具体步骤。</p>
<p>他正仰躺在镜面上往下滑，因此第一件事就是翻身俯趴在镜面上。他调出显示位置和速度的图表，注视着显示器上他的滑行状态。接近镜面底部时，他做好了准备，手和膝盖向上推，共同把身体支撑起来。当滑行到单摆运动的最低点、速度达到最大时，他站了起来。就这样。这就是他的计划。</p>
<p>在滑向边缘的六分钟里，他在光滑的镜面上保持站立状态——这就是诀窍。他站起来的时候，身体的重心大概会抬高七十至八十厘米，不算太多。</p>
<p>边缘靠近了。站在镜面上，尽管倾斜的角度明显偏离边缘，但他现在可以越过边缘看见积雪覆盖的平原了。那辆雪地履带车居然踪影全无。</p>
<p>不过，虽然他能看见巨碗的外面，但距离能够触及镜面边缘仍然差了一截。不要紧。当他滑行到边缘附近并短暂悬停在那里时，他开始实施计划的下一个步骤。</p>
<p>他坐下了——或者说，允许自己摔倒了——然后把自己压在镜面上，尽量使自己像一张纸那样紧紧贴在镜面上。就是这样。重心改变了一点点，但是——他希望——如果重复足够多次，效果也会很显著。每次经过碗底，他就让自己站立起来；靠近边缘，就让自己躺倒在地。就像在荡秋千一样，他每次都往自己的运动中注入一点点能量。每当他经过底部，在站立起来的同时，他就把重心朝这个巨型秋千无形的支点挪近了一些，他的速度也会因此增加一丁点儿。当他在边缘附近俯下身体时，他基本上不怎么运动，因此根本没有损失动能。每摆荡一个周期，他就能获得一点点能量。</p>
<p>下一个周期：在底部站立，在边缘跌倒。再来，再来。边缘有没有靠得更近呢？很难说。再来，再来。他让自己的思绪放空，全神贯注于自己的运动。他回到了灶神星，回到了跟哥哥一起玩的秋千上，试图把秋千荡得够高，赶上他哥哥，越过横杆。再来一次，再来。现在，边缘明显靠得更近了——他跌倒时尽可能伸长手臂，指尖触到了积雪，还不足以抓住边缘，但总算有进步了。他试着用一根手指把自己拉上去，但没有成功。</p>
<p>跌倒，站起。</p>
<p>再来，又近了一点儿；这一次他有两个指尖超过了边缘，能够尽力往上拉。再来，再来。现在，他可以把整个手掌探出边缘了。他用全部的力量往下按，把自己拉上去，几乎成功地把手肘探出了边缘，然后又滑了下去。</p>
<p>接下来这次，他的两只手都探出了边缘，他把自己往上拉，手肘攀上边缘，向上推，然后抬起膝盖跨过边缘，摇晃了一会儿之后，笨拙地翻出边缘，滚到了地面上。</p>
<p>他出来了。</p>
<p>他回到了地面上，像一个“大”字一样躺在积雪上，甚至没有呼吸急促。就是这么简单。“物理学，”他说，“这就是物理学。”他觉得站起来还不太安全，于是向外爬了爬，在自己和危险的边缘之间留出几米的安全距离。他检查了一下电量。电池差不多还能维持一个小时，不过这已经足够了。只要回到雪地履带车上，他就可以接入雪地车上的电源。而雪地车就在……</p>
<p>他的心一下子跌到了谷底。雪地车不在附近。</p>
<p>他检查了显示器上的惯性导航单元，根本无法相信上面显示的数字——雪地车在二十千米以外！</p>
<p>显示器上清楚地显示出他和雪地履带车的相对位置。他肯定是从错误的一侧翻出边缘的。</p>
<p>他坐在积雪上，再三检查着显示器，试图通过集中注意力让事情有所好转。他怎么可能犯这样一个低级错误呢？</p>
<p>雪地车在镜面的另外一侧，但并不是正对着他的另外一侧。在他沿着镜面来回滑动的几个小时里，这颗星球在他下面悄悄地旋转。他确实是从掉下去的那一侧爬上来的，但星球本身移动了。雪地车在圆周上的位置跟他形成了大约一百五十度的夹角。这比雪地车刚好位于正对面要好一些——他只要逆时针走二十九千米就可以了，比走完半圈整整三十五千米还稍微近点儿。</p>
<p>不过，二十九千米跟一千千米或一百万千米相比，大概也没有什么太大的区别；他根本不可能在剩下的——他看了看显示器——五十二分钟里，走完这么长的路。</p>
<p>他躺倒在地，突然间筋疲力尽。他已经有多久没有睡觉了？他真想好好睡上一觉——</p>
<p>这并不能改变他的处境。他又坐了起来，应急预案像祷文一样在他的脑子里回放。第一条：采取任何必要的紧急措施防止情况恶化……</p>
<p>他盯着黑色的镜面，想象着雪地履带车所在的位置，就在这个巨碗的另一侧边缘，隐没在黑暗中不见踪影。</p>
<p>……第五条：审视可用资源。以最有效的方式利用现有资源来实现救援。他现在拥有的资源是一个没有摩擦的巨碗，完全漆黑，完全光滑，完全没有摩擦。</p>
<p>这是他最不想做的一件事，但等待和思考于事无补，只能耽误他的时间，或许还会磨灭他的勇气。必须当机立断。</p>
<p>他站起来，向外走了几步，然后转身，双眼紧盯着镜面边缘。就这样吧。</p>
<p>这还是物理定律。他之前之所以被困在这面镜子里，是因为他掉进去的时候携带的能量不足以使他再逃出镜面。现在他要做的就是穿过镜面，向右略偏一点，不过因为镜面会把他的运动轨迹弯成曲线，作为补偿，他瞄准的时候必须向右多偏一些。只要他携带的能量足够多，只要他掉进去的时候速度足够快，这面镜子就困不住他。如果他是冲进这面镜子的，而不是掉进去的，他就能够再冲出来。</p>
<p>这就是物理学。</p>
<p>他脑子里的另一个声音正在冲他尖叫：这是在自杀！但他没有选择。从来就没有。他开始起跑，然后跳向镜面。他的俯冲让他沿着一条长长的平坦曲线落向镜面。在微重力环境下，他似乎悬停在空间之中，身下的黑暗映照出上方无边无垠的宇宙，沿着弧线下落时短暂的失重让他感觉像是永恒。</p>
<p>然后，他落到了镜面上，滑行，再滑行。在他的头盔里，显示器显示出他的轨迹，推测出他穿越镜面的路线。</p>
<p>但他并没有留意。他知道自己的运行轨迹没错。他能感觉出来。</p>
<p>终于，边缘到了，他成功地越过了那根横杆。</p>
<p>——献给罗斯·罗克林恩</p>
]]></content>
      <categories>
        <category>个人收藏</category>
        <category>短篇科幻小说</category>
      </categories>
      <tags>
        <tag>短篇科幻小说</tag>
        <tag>《科幻世界》</tag>
      </tags>
  </entry>
  <entry>
    <title>铀花</title>
    <url>/2023/06/27/%E4%B8%AA%E4%BA%BA%E6%94%B6%E8%97%8F-%E7%9F%AD%E7%AF%87%E7%A7%91%E5%B9%BB%E5%B0%8F%E8%AF%B4-%E9%93%80%E8%8A%B1/</url>
    <content><![CDATA[<h1 id="铀花"><a href="#铀花" class="headerlink" title="铀花"></a>铀花</h1><p><strong>作者：杨丹涛，《科幻世界》2004年05期</strong></p>
<h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>阿塔的成人礼和大祭的日子挨得很近，脱鲁说他今年可能没什么指望了，还有好多人也这么说。阿塔不愿意相信。</p>
<p>脱鲁跟阿塔是好朋友，他谈到祭祀的时候，都免不了有些得意，别人就更不用说了。主题学校里，有些不太友好的成年同学看到阿塔和其他没行礼的孩子，就会转过身去，露出他们脊柱上的术疤。那是一种低级的炫耀，但是，那道疤痕真让阿塔羡慕。</p>
<p>脱鲁已经行过成人礼，他的一块椎骨被取掉了。不疼，真的不疼，脱鲁说。阿塔相信那是真的。脱鲁有了参加挑选的资格，如果他运气足够好，随时可能成为牺牲。阿塔行吗？他还有一个月才能行礼，然后再过半个月就是大祭了。历史上只有两个幸运儿在成人的当月就成为牺牲，阿塔有那样的造化吗？所有人都不相信。但是，阿塔觉得自己会被先知选中。他牢牢地记得，梵书上说，所有的成年人都是选民，都可以参加大祭。先知是这么说的。</p>
<p>牺牲啊，牺牲。阿塔渴望成为牺牲。</p>
<p>但是谁又不渴望呢？</p>
<p>在螺旋湖边长大的铀人们，就为那祭祀生存着。每年被选中的十二个族人，被称为“十二圣徒”。虽然他们在人间享受这个称号只有一天，但圣徒们已经嫌太长。他们将穿过禁地，步入隐秘不为人知的祭坛，往生极乐。他们将直达永恒饱满的魂灵世界，与先知一道，成为梵阿王的一部分，与宇宙的主宰融溶无间。</p>
<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p>我们医院这个月又做了好多，听说，全族有一千三百多人成年，柠檬说。她的脸上带着忧虑。</p>
<p>阿塔知道她的意思——有那么多人做了脊椎手术，行了成人礼，阿塔想在今年成为牺牲的愿望就更加渺茫了。这是自然的，圣徒每年只能有十二个，适龄的铀族却遍布了螺旋湖的周围，数以万计。</p>
<p>可是，先知对我说过。阿塔闷闷不乐地说。</p>
<p>你是说启示吗？</p>
<p>是啊，从小，先知就在梦里对我说，你，早些来见我。阿塔说道。</p>
<p>先知在梦里对阿塔说过很多遍了，你，早些来见我。在梦里先知没有形象，但阿塔知道，那个声音，是先知的声音。你，早些来见我。阿塔坚信自己是个天生的圣徒不是没有道理的。他接受了启示。</p>
<p>启示。</p>
<p>我相信你会成为圣徒。柠檬看起来并不雀跃。</p>
<p>我会的。</p>
<p>他们俩沿着纳河散步。纳河从螺旋湖来，流向悲卡图因盆地。没人确切地知道它的去处。悲卡图因盆地是贫人聚居的地方，那里有密如蛛网的交通线路，有林立的高楼，有闪烁的霓虹灯。那里是低贱和罪恶滋生的渊薮。</p>
<p>别去想纳河的去向了吧，任何关于贫人的思绪都是令人烦躁不安的，那些低贱的造物。阿塔把目光投向纳河上游的方向。顺着山谷往北，是看不见的螺旋湖；再往北，是宏伟的迪拉帝玛山脉。那山脉在昏黄的太阳照射下安静地匍匐着。山脉背后闪烁的蓝光，暗示那里有更加丰美的铀花开放。</p>
<p>柠檬，如果我离开你的话……阿塔小心翼翼地说。</p>
<p>柠檬疑惑地扬起头，你是说祭祀吗？</p>
<p>也许吧。阿塔不知道该怎么说。</p>
<p>那，我会为你高兴啊。柠檬说。</p>
<p>阿塔看着她的脸，她精致的五官曾经为她招来了很多流言。有人说她的脸太美，简直像个堕落的贫铀女人。但是只有阿塔知道她不是，她就是这么美。阿塔知道她是最美丽的铀族。因为，她曾经为他开放了铀花。只有一次，但是美不胜收，他心神俱醉。他是不会告诉那些族人的。</p>
<p>无论在哪里，我的肝永远属于你，柠檬。</p>
<p>柠檬悄悄地跟他伸手相握。</p>
<h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p>进餐前的祈祷时间比进餐的时间长三倍。阿塔、脱鲁，还有很多学员聚在主题学校的食屋里。食屋的布置和每一个铀人家庭里面的食屋相似，只是很大。长桌和椅子由合成塑料制成。除此以外，别无他物。铀族的生活总是如此，简朴而高洁。他们认为，花在物质生活上的时间越长，离真理和先知就越远。这个物质生活还包括生产过程。合成塑料和其他生活材料都是通过与贫铀族的贸易换来的，铀族不生产任何产品。除了一样东西。</p>
<p>铀花。</p>
<p>当然那也不是生产来的。铀花是梵阿王的赐予，是至高的善在人间开放的容颜。先知种下了梵阿王赐予的第一株铀花。铀花开遍了螺旋湖畔，给铀族带来了生机和希望。</p>
<p>祈祷完毕，开始进餐。盘里是几片切好的铀花的球根。铀花的球根含有大量的淀粉，还有它们从土壤中富集的铀。铀族世世代代以它为生。</p>
<p>我要走了。阿塔悄悄地对脱鲁说。</p>
<p>去哪儿？黑皮肤的脱鲁嚼着食物，嘟嘟哝哝地问道。</p>
<p>去找先知的眠地。阿塔说。</p>
<p>脱鲁惊讶地差点儿把盘子碰飞了。阿塔？是的，我要去。他让我去。阿塔轻声说。</p>
<p>脱鲁小心地看了看四周，大家都在进餐，没人注意他们。为什么？他问阿塔。</p>
<p>我要成为圣徒。阿塔说。</p>
<p>那你行完礼去报名啊！</p>
<p>机会太小。已经有两万多人报名了，而且，一千年里只有两个人在成人当月能成为圣徒，阿塔说。</p>
<p>那你可以等明年或者后年。我不是已经等了一年了吗？脱鲁说。</p>
<p>不，我等不了。</p>
<p>那，先知的眠地在哪儿？你相信传说吗？脱鲁问。</p>
<p>我把图书馆的书都翻遍了。先知的眠地叫洛斯阿拉莫斯，在山脉背后。</p>
<p>传说中，先知受到启示之后，将真理说给了那些追随他的人。那真理记录在梵书里。梵书有四本，其中三本是用铀族无法理解的语言写成的。另外一本是清楚明白的，告诉了人们需要知道的一切。铀族是梵阿王的选民，梵阿王在遍布致命辐射的地球上给他们安排下了螺旋湖边的家园。铀族生存的目的就是通过祭祀与先知的精神融为一体，并成为梵阿王无所不在的存在的一部分，享受将个体消融在无边无际的美满整体中的极乐。铀族人高洁、完满而自足，他们鄙视在物质中迷失的贫铀人。贫人没有宗教，没有放射性，不能使铀花在肝前开放。他们想要欣赏铀花，只能通过厚厚的透明隔离罩。他们哪里知道铀花真正的美丽呢？</p>
<p>族人会惩罚你的，阿塔。脱鲁说。</p>
<p>先知叫我去的。他在梦里对我说，你，早些来见我。阿塔说。</p>
<p>啊，这不是和贫人乱搞的阿塔吗？听说这小子也要行礼了，哈哈！南六区的那几个学员又来挑衅了。他们的人比上次多了几个，好像是有备而来。</p>
<p>脱鲁气愤地站起来，怎么，上次还没挨够？</p>
<p>来呀，试试看！那几个小子跃跃欲试。</p>
<p>阿塔拦住了脱鲁。他转身对那几个人说，她不是贫人。</p>
<p>她不是？领头的小子阴阳怪气地说，你是被那小妞的白脸蛋迷住了吧？是不是别的地方也很白啊？哈哈哈——一群人狂笑不止。</p>
<p>阿塔拉住就要冲出去的脱鲁。他转身说道，柠檬不是贫人。她为我开放了铀花。</p>
<p>大家都呆住了。</p>
<h2 id="4"><a href="#4" class="headerlink" title="4"></a>4</h2><p>三年以前，发生了一桩奇怪的事。十二圣徒在盛大的仪式后，往宏伟的迪拉帝玛山脉走去。他们沿着传说中的禁路，沿着千年以来圣徒的足迹，遵循着血液里流淌的高贵基因的指引，走向祭祀的禁地。族人在界限边目送他们远去，那条无形的界限只有圣徒能够穿越。</p>
<p>然而三天之后，一个圣徒回来了！</p>
<p>他是第五圣徒风哥，他是铀族最优秀的梵学家之一。这千年来从未出现过的奇事把族人惊呆了。他为什么回来？是迷失，是胆怯，还是先知抛弃了他？无数个疑问。但是，风哥显然已经疯了，不能给出任何答案。</p>
<p>族人不知道该如何对待他：他是曾经的圣徒，是万众瞩目的牺牲。但是他从神圣的祭坛“逃”了回来，成了一个疯子。人们不知道该尊敬还是鄙视他。所以，他总是一个人在那里自言自语。</p>
<p>阿塔在风哥的梵屋找到了他。</p>
<p>梵屋在每家人的屋顶，从敞开的天花板可以看到天空。铀族在梵屋做日常的祈祷和神游。在形如一朵巨大的铀花的螺旋湖畔，数以万计的梵屋像无数黑色的眼睛，静静地望着天空。</p>
<p>风哥，我要去找先知的眠地。阿塔开门见山地说。</p>
<p>同位素并不是不同的元素，适当条件下，可能会互相转变。风哥喃喃地说。</p>
<p>风哥，你难道不想去恳求先知，让他原谅你吗？你难道不想再做牺牲吗？阿塔不知道该如何和这个人说话，只好胡说一气。</p>
<p>谁会原谅？如果我能够理解那泡沫，谁会原谅我？风哥穿着干净的梵服，衣袖上的脱线处用铀花茎制成的丝线补得很得体。风哥身材很魁梧，虽然取掉了一块椎骨，他的身高依然达到了上限。他认真地刮过胡子，和其他铀人在做例行神游之前的样子没什么区别。从梵屋天窗照进来的血红色阳光落在他的身上，阴影藏在背后。他看起来完全正常。</p>
<p>阿塔看着他。</p>
<p>E等于MC立方？E等于M方C方？也许那镜子里照着别人？你叫阿塔？风哥问道。</p>
<p>是的，我上过你的课。</p>
<p>哦，对了，我给别人上过课。风哥笑了笑。你知道电吗？</p>
<p>当然，邪恶的能量。贫人用电。阿塔说。</p>
<p>贫人的电从何而来？</p>
<p>他们用间歇喷泉，水蒸汽可以发电。知识，阿塔想起了知识。按照传统，知识本身是没有什么意义的，因为知识和奢侈密不可分。但是，铀族深知，贫人的知识在爆炸性地发展。两族时战时和，仅靠高辐射带作为安全屏障是不够的。所以，铀族也研究知识。但他们不使用它。铀族人比贫人聪明百倍，他们嘲讽着贫人的愚蠢，经常花数十年的时间等待贫人在知识方面赶上来。</p>
<p>间歇喷泉。两个人沉默了，他们都想起了三年前的怪事。风哥从禁地回来的那年，五月份时，从螺旋湖到悲卡图因盆地，所有的间歇喷泉都停止了喷发。铀人觉得诧异，但只是诧异而已，因为他们不用电。而贫人世界则惊恐万状，没有那些以每秒数千立方的威力喷出的高温蒸汽，他们无法发电，整个悲卡图因盆地陷入一片混乱。停电持续二十天以后，世界末日降临的论调席卷了整个贫铀族。骚乱频发，一些激进的贫人社团开始向铀族的领土进发，要在世界毁灭之前杀掉铀人。当然，他们都死在环盆地辐射带。幸好那些喷泉又开始喷发了。不，对铀人来说，没有什么幸好不幸好的，贫人活着或者死去又有什么分别呢？反正，他们的城市和地狱一模一样。</p>
<p>风哥仰起头，对着天窗外的血红天空。他双眼微闭，大概开始神游了。</p>
<p>阿塔可不想白来。风哥，洛斯阿拉莫斯，你听说过吗？</p>
<p>风哥倏地睁眼，他的眼中有些惊恐。你听谁说的？</p>
<p>阿塔趁热打铁地说，先知的眠地在洛斯阿拉莫斯，我从书上找到的。我要去先知的眠地。你去吗？</p>
<p>洛斯阿拉莫斯，洛斯阿拉莫斯，巨大的花朵，美啊，先知，美啊，巨大的花朵。风哥眼光游移，神情恍惚。阿塔刚刚燃起的一点点希望又沉寂了。</p>
<p>好吧。你去不去都行，我知道眠地在洛斯阿拉莫斯，不知道具体方位，但它肯定在山脉背后。阿塔说道。山脉背后意味着需要穿过禁地。阿塔不是圣徒，他不敢。</p>
<p>山脉背后，除了禁地，还有别的路吗？</p>
<p>风哥在神游。漆黑的梵服束缚不了他的魂灵。他是第五圣徒，是学者，是疯子，是有史以来第一个从禁地回来的牺牲。</p>
<p>阿塔失望地站起身，向屋外走去。</p>
<p>花开。第一朵花开，第二朵花开，一千朵，一万朵花开。风哥在说话。</p>
<p>阿塔站住了。</p>
<p>山脉，盆地。同位素，减速剂，迪拉帝玛，悲卡图因，铀人，贫人。</p>
<p>阿塔站在梵屋门口，听着身后第五圣徒风哥的话语。那话语有穿透的力量，仿佛廓清了什么，又好像使一切更加模糊。</p>
<h2 id="5"><a href="#5" class="headerlink" title="5"></a>5</h2><p>选择似乎很难，但阿塔已在路上了。去心目中的眠地只有两条路可走：一条是沿着圣徒的足迹，穿越禁地，到达山脉背后；另一条就在他脚下。</p>
<p>真的要穿越悲卡图因盆地吗？</p>
<p>循着风哥的暗示吧。</p>
<p>阿塔沿着纳河往下游走去，在最后一片铀花树林的尽头停下了脚步。前方暮霭沉沉的冲积平原，就是贫人的世界——悲卡图因盆地。他要穿过那些肮脏繁华的城市，穿过贫人醉生梦死的畸形文明，绕到山脉背后去。为了少惹麻烦，不能携带铀花的球根，只能吃贫人的食物；也许，还得乘坐贫人的交通工具呢，汽车或者摩托车？天哪，想到这些，阿塔已经吐过好几次了。</p>
<p>阿塔回过头，看着默默站立的柠檬。她好美啊。她洁白的面颊是铀族中罕有的，她的五官粉妆玉琢。漆黑的梵服包裹她纤直的身姿。她是我除了祭祀以外，在人间最后的挂念，阿塔想。</p>
<p>阿塔掏出那枚铀果，摩挲着果实上精致的螺纹。这花果合一的精灵，是铀人生命和爱情的见证。那果儿躺在阿塔的手心，绕着轴线颤巍巍地滚动。阿塔的手缓缓地伸向柠檬。露珠一样清澈的眼泪在柠檬的面颊上滑落。阿塔的手贴住柠檬的肝脏。</p>
<p>铀果的螺纹慢慢地舒展，外壳缓缓地张开，它睡眼惺忪，仿佛刚做了一万年的梦。拳曲的花瓣受到自然的召唤，从睡梦中醒来，爬出了果壳，有些慵懒无力。然后，就在刹那间，铀花开放了。荧蓝色的光芒让人几乎睁不开眼，美丽的螺旋花瓣显示着造化的无所不在。无法形容，无法呼吸。那花开放的刹那，世界在阿塔和柠檬的身后隐去，只剩下那花。它带着造物主的启示开放，将无可言喻的美赠给二人。那是他们的花呀，定情之花。</p>
<p>我会回来的，阿塔说。</p>
<p>柠檬点头，轻轻地，却依然将脸颊上的泪珠震落了。</p>
<p>三天以后，他已经在贫族最大的城市里面了。由于外交和贸易，两族之间有人员往来。据说，双方都派出了很多间谍，隐藏在平民之中。在贫人眼里，铀人是乖戾的怪人，他们是致病的，过近的接触会导致各种恶疾。</p>
<p>街道在摩天大厦之间复杂地连接；巨大的露天投影电视里女人在搔首弄姿；行人穿着五颜六色的衣服，幸好也有人穿黑色；车流像河水一样四处漫溢。</p>
<p>头晕。反胃。早就知道复杂的物质文明对铀人会有冲击，但此刻才真实地感受到。一个人——假如把贫人称做人的话——怎么会使用如此之多的物质呢？看，一个汉堡包，以淀粉制品为主料，夹杂蔬菜叶切片或果实，熟制的动物尸体，复杂工艺酿制的调味品……铀人从来不需要这些。铀人只取一瓢饮。成年人都会取掉椎骨，以便控制身高，减少对食物、布料、空间的消耗。</p>
<p>阿塔在有透明落地窗的小店里吃着汉堡，惊异于贫人的贪婪。他出发之前，从一个商人手里换取了一些贫人的钱币。金属。贫人在城市里大量使用金属，他们把自己装进金属的容器里搬来搬去，用金属制的武器互相杀戮，让他们的女人戴着金属饰物，抱着金属的杆状物舞蹈。他们合成各种自然界没有的化合物，捏成各种形状，然后围绕着这些奇怪的形状谈判和激动不已。他们真是奇怪的造物。阿塔和族人相信，贫人的存在，完全是为了让梵阿王的选民知道什么是恶，善方才显得弥足珍贵，值得付出一生。</p>
<p>贫人没有铀。他们无法在铀花开放的地区生活，更不用说通过食物链将珍贵的铀富集到肝脏。甚至，他们碰到铀就会生病。这是贫人应得的惩罚。他们由此无法真切地欣赏铀花的美，无法感受造物主微妙的善意。他们只能在不复的万劫中轮回，在重重的黑暗之中苟生。</p>
<p>阿塔吃完三天以来的惟一一顿食物，嘴里被弄得麻木不堪。他开始怀念球根清淡的滋味。沿着向东的路继续走吧，他将这么走到盆地的边缘。在地铁的入口处，一个长发虬髯的男子弹着吉他，在唱歌。他诅咒夺走他一切的世界，又感谢女子头上的发卡；他衣不蔽体，却赞美包裹躯体的丝缎。阿塔很有兴味地看了一会儿，但实在听不懂他要说什么。</p>
<p>行走。在台阶上，在广场，在汽车的间隙，在女人的香味和流浪汉的饱嗝之间行走。在成片的麦田，在间歇喷泉，在金属的滴灌系统之间行走。在广告和静坐示威者之间行走。他看着贫铀人的世界。世界丰富杂乱，暧昧不清，语无伦次。城市如同地球的溃疡，无节制地扩散，复杂的管网系统为它提供营养。人群穿梭不停，时聚时散，发出奇怪的声音，笑骂哭泣。他们存在却毫无根基。</p>
<p>精疲力竭地行走。城市，乡村，树林。先知说，你，要早些来见我。离祭祀还有三十天，我将成为圣徒。</p>
<p>有哨兵站立在那儿。</p>
<p>这里已是盆地边缘。公路在哨兵站外面十米处戛然而止。从这里出去，穿过环悲卡图因放射带，就能到达先知的眠地。只有两种人能从这里走出去：贫族的科学家和“正常”的铀族商人。这后一种人的标准很模糊，那些商人告诉过阿塔，你必须面对莫名其妙的盘问，毫无标准，完全莫名奇妙。如果你的答案不能令他们满意，不但出不去，还可能被扔进监狱。</p>
<p>那人出来了，穿着厚厚的防护服，眼睛在玻璃面罩后面闪着神经质的光芒。来者不善，阿塔在心里暗暗叫苦。</p>
<p>商人？那人问道。</p>
<p>商人。</p>
<p>宗教？</p>
<p>拜铀教。</p>
<p>铀花在何处开放？</p>
<p>有铀之处。</p>
<p>有一年五月份，停电。那时你在做什么？</p>
<p>在祈祷。</p>
<p>我们的人死在了隔离带。</p>
<p>我听说了。</p>
<p>我们没有宗教，你觉得怎么样？那人用挑衅的语气问道。他有时看着阿塔，有时没看，有时……看着他手里那枝铮亮的手枪。</p>
<p>呃，那也是一种选择吧。阿塔额上冒出了汗珠。他到底想听什么？我应该讨好他还是冒犯他？这个该死的贫人。</p>
<p>我们吃动物，吃植物，吃腌制的肉；我们喝酒，抽烟，我们吸毒。我们选举人物，有时又杀掉他们；我们弹奏乐器，做爱和离婚。我们贫人就是这样，你觉得如何，铀佬？</p>
<p>阿塔恨不得把他掐死。他克制住胃里阵阵泛起的酸液，用平静的声音说，那是你们的生活。</p>
<p>那人若有所思地抚摸着他的手枪，他的语调忽然变得好奇而诚恳：可是，你难道不觉得生活应当是多彩的吗？我们不应该追求快乐吗？他问道。</p>
<p>我想，嗯，人都会追求快乐，阿塔说。可是，你们的快乐犹如粪便——这句话被他硬生生地咽了回去。</p>
<p>你是一个危险人物，铀佬！那人忽然暴跳如雷。我最讨厌你这号人，自命不凡，道德优越，还有闲工夫同情别人，理解别人。扯淡！谁能理解我？你不过是个该死的铀佬，你能理解我们？滚你的蛋吧！他呼呼地喘着粗气，弄得扬声器嘶嘶作响。他指手画脚，用那只拿着枪的手。</p>
<p>阿塔不知道他是不是真让自己滚。无论如何必须过关，他的脑子飞快地思考着。我应该怎么说？</p>
<p>那人停止了发泄，掏出一个本子，写了点什么。然后他彬彬有礼地对阿塔说，对不起，你不能出关。</p>
<p>巨大的沮丧漫过阿塔的身心。为什么？</p>
<p>没有为什么，你回去吧。那人用手枪指了指阿塔的来路，然后，走进哨站，关好门，脱下了笨重的防辐射服。</p>
<p>阿塔怔怔地站在那里。虽然大气中的尘埃经年不散，正午的太阳仍然刺眼。汗水从阿塔的头上、脸上流了下来，浸透了梵服。我走了二十天，在散发着物质恶臭的盆地孤独地步行，脚上全是血泡。我告别了柠檬，告别了脱鲁，我有二十天没有吃到真正的食物。我被流浪汉暴揍，被妓女的气味窒息。我想去先知的眠地。洛斯阿拉莫斯，洛斯——阿拉莫斯。</p>
<p>你怎么还不滚？想进监狱吗？扬声器吼道。</p>
<p>头疼欲裂。从来没有人能从这里逃出去，除了死人。他只拿着一枝手枪，他是贫人。</p>
<p>阿塔慢慢地蹲在地上，又慢慢站起来。手背在身后，攥紧了一块石头。他慢慢地走向哨站，脸上充满了恳求的神情。</p>
<p>先生，您能听我解释吗？</p>
<p>阿塔用石头狠狠地砸向玻璃窗，窗户碎片四溅；那人正要掏枪，阿塔顾不得手臂上的血迹，从怀里掏出了一枚铀果，掰开，准确地向那人扔去。</p>
<p>计数器尖厉地响起来，小小的哨站笼罩在可怕的辐射之中。那人惊惶失措地扔下手枪，拿起防护服，试图以最快的速度钻进去。</p>
<p>阿塔转身猛跑，迅速地通过那公路的尽头。不远处就是密密的铀花林，只要再跑一百多米，就安全了。他踉踉跄跄地奔跑着，多日没有进食的身体虚弱至极。他摔倒在地上，锋利的砾石划破了膝盖。他站起来，继续跑。</p>
<p>他又摔倒了。</p>
<p>“站住，不然我开枪了！”身后的声音听起来很远，但是，肯定在射程之内。阿塔趴在那里，回头，那人在几十米外，举着一枝自动步枪，瞄准器在阳光下反射着光芒。阿塔看着前面的铀花林，好像很近了。如果我跑得再快一点；如果，这片树林再茂密一些；如果，他的枪法不是那么好……阿塔头晕眼花，虚脱委顿。洛斯阿拉莫斯，洛斯……阿拉莫斯。他慢慢地向那树林爬去。</p>
<p>“砰！”枪响了。阿塔身体一震。</p>
<p>他没有中弹。他支起身体，回头看去，那里，好像有两个人？哨兵的身体倒在地上。旁边，站着一个黑色的身影，第五圣徒风哥落寞的身影。</p>
<h2 id="6"><a href="#6" class="headerlink" title="6"></a>6</h2><p>你为什么来？阿塔问道。走到这里，他才发现，迷路的担心是多余的。你只需要朝着天底下有着最夺目的荧蓝光芒的地方走去，那里就一定是铀花盛开的禁地，是先知的眠地，是洛斯——阿拉莫斯。</p>
<p>我要去看书。风哥眼底，永远有说不出的忧伤。</p>
<p>看书？去哪里？</p>
<p>去你要去的地方。</p>
<p>你到过先知的眠地？阿塔差点儿高兴得跳起来。</p>
<p>我希望我没有到过。风哥的步子很快，阿塔费了很大力气才能跟上。不过，疲累被兴奋冲散了。他就要到达先知的眠地了，他要向先知倾诉他的愿望，他要亲口告诉先知，他，阿塔，渴望成为牺牲。先知会听到他的祈祷。他将成为圣徒。</p>
<p>树林茂密，植物繁多。除了铀花，他都认不出来。这些植物长期生长在高放射性的环境中，不断地发生着奇怪的变异。自然选择的过程极为快速，往往三五代之间，新物种就产生了。没有什么形态可以永存，没有什么时髦的叶冠不被遮盖，没有什么果实不被吞食。即便是植物，也在无常中飘浮，它们有魂灵吗？阿塔看着那些树，忽然想起了贫人。贫人移动的速率比植物快，在食物链中稍微靠上一些，但是，那有分别吗？阿塔暗自庆幸自己终究是梵阿王的选民。</p>
<p>阿塔又跌倒在地。当他正想爬起来的时候，忽然发觉自己被一根触手缠住，举到了树冠之上。那棵有着成千上万只触手的巨树在“看”他，是的，它肯定在“看”他！</p>
<p>阿塔拼命地挣扎，风哥！风哥！风哥抬起头，看到了几十米高空中的阿塔，像蛛网上的昆虫在拼命挣扎。风哥焦急地看着，无能为力。</p>
<p>树仿佛闻到了什么，一只触手伸过来，在阿塔的身体各部分游走。最后，那触手停在阿塔的肝部。阿塔魂飞魄散，它要干吗？触手的头部开始变形，尖刺伸了出来。阿塔拼命往后躲，但那尖刺如同手术刀一般地精准，瞄着他的右肋下缘而去。</p>
<p>给它铀果！快！给它铀果！阿塔听到风哥的喊声，来不及细想，艰难地掏出铀果，放到尖刺面前。那尖刺毫不犹豫地叉起铀果，倏地消失在树荫深处。两颗，三颗，四颗……然后阿塔“咚”地一声，摔在厚厚的腐殖土上。</p>
<p>哎哟，哎哟，阿塔摸着自己的屁股，风哥，你也不接着我？</p>
<p>风哥居然笑了笑，摔不坏的。快走吧，趁它刚吃饱。</p>
<p>它是要……铀吗？</p>
<p>是的。</p>
<p>行走，在厚厚的泥土上行走，在树叶和触须之间行走，在啮齿类动物的吱吱声中行走。铀花树林越来越密，看不见血红的太阳，白天和黑夜没有分别。两人不说话，一前一后地行走。脚早已被磨破，但是感觉不到疼痛。身体里的力气也仿佛早就衰竭，但他们的脚步却没有停止。阿塔努力去计算祭祀的日子，脑子运转得越来越慢。他们终于走出了最后一片森林。</p>
<p>一块巨大的林间开阔地出现在眼前，他们看见了西边的太阳。恒星的光芒被亘古不散的光化学烟雾散射，呈现着熟悉的血红色。这空地像一个巨大的梵屋，如同巨人之独眼，失神地望着天空。</p>
<p>破败的残垣断壁立在空地中央，显然是巨大建筑群的遗迹。风哥朝着那建筑走过去，阿塔跟在后面。在看起来是门口的地方，有一块埋在土里的黑石碑，断了一半，上面刻着“国立研究……”的字样。</p>
<p>国立研究？</p>
<p>国立研究院，风哥说道。</p>
<p>什么研究院？这里不是先知的眠地吗？墓碑在哪里？阿塔从没有想到眠地会是这样的。</p>
<p>风哥没有说话，径直往里走去。</p>
<p>穿过长长的走廊，穿过环形的匝道。生锈破烂的复杂仪器，发黄的纸张，金属制品，木制桌椅。大理石的雕塑，混凝土墙体，有轮子的合成构件……有的能依稀辨出形状和用途，有的已无法推测。但是毫无疑问，这里的人使用了如此之多的物质产品，他们……绝不是铀人！</p>
<p>巨大的疑问浮现在阿塔脑海里。先知怎么会在这样的地方？</p>
<p>他们在一个像书房的地方停下了脚步。阿塔一眼就看到了墙上挂着的一个时钟。时钟保存得很完好，木制的钟身上雕刻着复杂的花纹，玻璃做的外壳虽然蒙上了灰尘，依然无法掩盖里面镀金指针的光彩。钟摆也是镀金的，直直地垂着。而且，玻璃是浮法工艺制作的，完整地勾勒出那个在悲卡图因盆地随处可见的断臂裸女的形象。看到这堆砌的众多的人工制品，阿塔终于痛苦地承认，这里是贫人的领地。铀族，是绝不可能将日用品搞成这般模样的。</p>
<p>可是，先知的眠地，难道是贫人的领地？贫人把先知掳到此处了吗？是的，肯定是的。那么，先知是如何将真理说给祖先的呢？</p>
<p>风哥，风哥在干什么？阿塔定睛一看，风哥魁梧的身影正缩在屋角，那里有一个倒塌的书架。风哥在那些散落一地的纸张和书籍中间坐着，就着空荡荡的窗户透进来的微光，在看着什么。是啊，必须是可控的才行，不然怎么用呢？他喃喃自语。</p>
<p>风哥，先知在哪里？</p>
<p>风哥往里一指，又埋头于他的书堆之中了。</p>
<p>还有一个里屋。他慢慢地走过去，即使在树林里，阿塔也没有感到自己的腿有这么重。</p>
<p>走到门口，他站住了。他深深地呼吸着，克制着澎湃的思绪。成长的碎片如潮水一般在脑海中呼啸。抚养他的父母，他采摘的第一朵铀花，每日每夜的祈祷。他记起自己在梵屋里第一次神游，他才七岁，就已经和先知的魂灵融为一体。还有那梦境，那梦里的启示，为至高无上的善牺牲个体的巨大幸福。纵有千言万语，但是，站在那门口，他决定什么也不说，什么也不说。他只用那些落在梵服上的热泪向先知祈求，他用他弱小的存在向先知祈求，用他的肝，用他的全部身心，向先知祈求，他要成为圣徒。他将不说一个字。走进房门，他一眼就看见了先知。</p>
<p>房间不大，有桌子和椅子。桌上散落着纸张和杂物，椅子断了一条腿，斜倚在墙边。先知的身体就压在那快要解体的椅子上，保持一种似站非站、似坐非坐的姿势。他显然是男性，花白的头发奇怪地留在头骨上。他身上的衣服被灰尘和年月覆盖，已分辨不出颜色。他干瘪的身体已经完全脱水，即便如此，能保存到今天依然是个奇迹。他在这里有多久了？一千年？两千年？也许，是因为周围的高辐射环境？又或者，奇迹就是奇迹？</p>
<p>先知空洞的眼眶依然有着神奇的魔力，阿塔觉得他看到了自己。我来了，阿塔在先知的身前默默地伫立。桌上一眼就能看见那四本伟大的梵书，虽然发黄破烂，但那穿越时空的力量在千年以外依然感觉得到。这是先知无疑。</p>
<p>阿塔盘腿坐下，开始他一生中最酣畅的神游。他魂飞宇外，在无边的赞叹中身轻如燕，走遍宇宙的任何角落。他赞美造化的神奇、梵阿王无限的慈悲，赞美先知的引领。若没有他，人永在黑暗中；若没有他，生命毫无价值；若没有他，我们不是主的选民。赞美他，赞美他。让我成为圣徒，身入火焰，魂灵永生。</p>
<p>良久，他睁开眼。先知还在那里，缩紧的暗褐色躯体保持着姿态。阿塔站起身，准备向先知告别。他必须立刻赶回去，才能来得及参加祭祀。他掏出铀果，要行那告别的仪式。</p>
<p>在大祭之日，圣徒选出之后，各区的代表要来跟他们告别，祈福。这传统已历经千年。人们把珍藏的铀果放到圣徒的肝前，看它开放，光芒四射，然后同声赞美，是为别离。后来，怀有情谊的铀人分别，同样行这礼仪。</p>
<p>阿塔取出那枚他珍藏的铀果，那是他十二岁时，第一次开放的铀果。只有当肝脏内富集的铀达到一定数量之后，铀花才会为你开放，这枚铀果被每个铀人珍藏。而他们一生，只收藏两枚铀果；还有一枚，就是定情之果。</p>
<p>那果儿躺在阿塔的掌心，外壳已经被摸得发亮，但那美丽的螺纹仍然清晰可见。阿塔小心翼翼地将手放到先知的肝区，碰落了一些灰尘。然后他下定决心，将手背紧紧地贴着先知的肝脏。</p>
<p>他等待着。</p>
<p>他等待着。</p>
<p>铀果安静地躺在他的手心，没有任何动静。</p>
<p>阿塔怔怔地单腿跪在那里，脑子一片空白。他不能思考，不能呼吸。</p>
<p>别等了，他是个贫人。风哥的声音仿佛从天边传来。他就站在门口，手里拿着一枚铀果，眯着眼睛瞄了瞄，扔了出来。铀果“哐”的一声，准确地砸进先知空洞的眼眶。先知的躯体往后一倒，那张椅子剩下的三条腿一起断掉，尸体重重地砸在地上，整个房间顿时灰尘弥漫。</p>
<h2 id="7"><a href="#7" class="headerlink" title="7"></a>7</h2><p>阿塔终于可以开口说话时，已是第三天的下午。他一动不动地在那断臂裸女脚下的台阶边上躺了两天。风哥过来叫过他，他没有反应。于是，风哥便将那些书搬到了雕塑脚下，一本接一本地看。</p>
<p>你早就知道了？阿塔问道，嗓子里仿佛有火在烧。</p>
<p>上回祭祀的时候，我来过这里。跟你一样，我也想见到先知。不过我们目的不一样。你是想当圣徒，我只是想知道洛斯阿拉莫斯在哪里。风哥轻松地说着，就像真正的闲聊。</p>
<p>所以你就回去了。对，我不想为一个贫人献身，风哥说，而且，我想知道为什么。</p>
<p>为什么先知是个贫人？阿塔也想知道。</p>
<p>我还不太清楚，但有些事情很奇怪。这里是个物理研究院，先知只是个研究铀的物理学家，这里的人都是。他为什么要写那四本书？他为什么会把真理告诉给铀族？为什么贫人没有祭祀的传统？裂变反应是如何发生的？为什么世界上有铀族和贫铀族？</p>
<p>风哥晃了晃头，好像被自己问住了。阿塔默然无语，所有理所当然的事在一夜之间通通变得那么可疑。他甚至有些后悔来到这里。</p>
<p>铀不光是用来使铀花开放的，风哥说道，铀聚在一起，超过一定质量，就会发生强烈的核反应，释放巨大的能量。我想，这会不会跟先知有点关系？</p>
<p>能量？用来干了呢？阿塔懒洋洋地问道。他手里摩挲着他和柠檬定情的铀果，忽然觉得世上一切都与自己既无干系，又无意味。除了这枚铀果。</p>
<p>能量会引发爆炸，如果可控，可以转化成别的能源，比如热、电什么的。</p>
<p>哦。风哥，祭坛在哪儿？阿塔问道。</p>
<p>风哥扔给他一张图，好像是张地图。阿塔一眼就认出来螺旋湖和迪拉帝玛山脉、悲卡图因盆地。地图的比例尺不大，能分辨出河流和间歇喷泉；辐射等高线图勾勒出一个又一个环形。在禁地的中央标着祭坛的位置，应该离这里不远。</p>
<p>对！如果用减速棒伸进反应堆，就可以控制了！风哥兴奋地喊着。</p>
<p>阿塔凑到风哥身边，他正在看一张图。这是什么？阿塔问道。</p>
<p>一个核电站的示意图。用铀作为燃料，但是必须是可控的才行，不然就会爆炸。风哥说。</p>
<p>阿塔看了看，图上的标题很大，写着“FILE　ONE”的字样。咦？你这张图怎么和我这张一样？阿塔奇怪地说。</p>
<p>是吗？风哥扭头看着阿塔手里的地图，果然如阿塔所说，除去那些等高线和图标有所不同外，两张图活脱脱就是一样的。真是奇怪，风哥嘟哝了一句，又埋头到他的反应堆里面。</p>
<p>阿塔百无聊赖地坐在台阶边，那裸女就在他的头顶，白色的大理石风化得斑驳陆离。黄昏已经又到了，气温下降得很厉害，他不禁打了个寒战。忽然，他觉得害怕，觉得很害怕。恐惧像一只冰冷的甲虫顺着脊柱往上爬。可是，他在怕什么呢？</p>
<p>阿塔站起身，两手抱着自己的双肩，冷得浑身颤抖。巨大的恐惧捉住了他。不！不！他转着圈，想看清楚那威胁在哪里。</p>
<p>你怎么啦，阿塔？风哥对他的样子感到奇怪。</p>
<p>一阵风吹过，脚下的地图被吹起来，漫无目的地飞舞。阿塔如遭雷击，呆呆地站在原地，狂乱的思绪如满天飞舞的纸片，拼出巨大的形状。FILEONE，FILEONE，梵阿王，FILEONE……</p>
<p>阿塔？阿塔？</p>
<p>风哥，他们……用我们发电。</p>
<p>史前核大战以后很多年，人类的幸存者重新进化出了文明。在高辐射区演化的人们适应了放射性，并且越来越依赖于铀而生存，成为铀族的祖先；而在低辐射区的人们，依靠史前留下的一座反应堆提供的能源，进化成为贫铀族。两族继承了人类好斗的本性，继续伐战不休。</p>
<p>在一次贫人的胜利之后，斯特伦博士，贫族国立研究院的院长，在所有的属下都去参加狂欢的晚上，预见到了贫族惨淡的未来。史前反应堆的燃料是有限的，最多能用一二百年。贫族不具备从自然界中制备高浓缩铀的技术，什么时候能够发明这项技术谁也不知道。燃料用光之后，那些间歇喷泉就会停止喷发，贫族将永远生活在黑暗之中。不，不是永远，没有电能，他们无法对抗恶劣的自然环境，无法对抗铀族，必将灭族而亡。</p>
<p>斯特伦博士就藏在那间小小的书房之中，看到了族人的将来。他决心拯救他们。自然界惟一能富集铀的技术，就在铀人的身体内，适龄成年铀人的肝脏可以富集足以制造核弹的铀，并以巧夺天工的方式避免了链式反应。可是，仅仅靠俘虏来保证反应堆的工作吗？斯特伦博士不能忍受这样的不确定性。</p>
<p>博士是个物理学家，也是个历史学家。历史会教给人很多东西。于是，博士写了一本书，将真理说给那爱听的人。让铀族永远生活在对贫人的歧视之中吧！让贫人物欲横流吧！这样，战争才能停止。贫人屠杀铀人就等于屠杀自己；而铀人，根本不屑于屠杀贫人。</p>
<p>博士以为，他绝不单是为贫族做了这件事。</p>
<p>我要去做个试验，风哥说。</p>
<p>嗯。阿塔抚摸着手里的铀果，漫不经心地应着。</p>
<p>风哥坐在地上，肚子奇怪地隆起。他满头大汗，仿佛在用全身的力气做某件事。</p>
<p>你干什么，风哥？</p>
<p>好了，可以了。风哥一跃而起，脸上带着奇怪的笑容。我能把自己变成一枚核弹，他高兴地说。</p>
<p>是吗，怎么变？</p>
<p>我们铀族的精神力量是奇异的。默想，收缩你的肝脏，让古老的保护机制逆行，它们就能达到临界质量。就是这么简单，我已经做过几次临界实验了。</p>
<p>那倒很有意思。阿塔看着手里的铀果，想着柠檬，他很想回家，但又不知道该不该回去。他还能像以前那样生活吗？</p>
<p>阿塔！风哥的声音变得格外严厉，他从来没有这样说过话。他高大的身躯走到阿塔面前，定定地看着他的眼睛。阿塔第一次发现风哥的眼睛里面有着某种威严。</p>
<p>阿塔，我们是族人。他说。</p>
<p>是的，我们是。</p>
<p>那些走进反应堆的圣徒也是我们的族人。</p>
<p>是的。</p>
<p>我们要为他们报仇！风哥的眼里燃烧着仇恨的火焰。</p>
<p>报仇？阿塔喃喃地说。</p>
<p>现在我要去盆地，在他们最繁华的城市中心，完成我的超临界实验。而你，要去祭坛，引爆那个核电站。让贫族永远无法再在我们的躯体之上生存。风哥看着阿塔的眼睛说道。</p>
<p>那么，人们去哪里祭祀呢？阿塔问。</p>
<p>他们再也不需要祭祀了！</p>
<p>是吗？他们再也不需要了吗？他们究竟需要什么？我究竟需要什么？不，我什么都不想，什么都不想，我只想回到柠檬身边。阿塔抚摸着手里的铀果。</p>
<p>风哥看到了阿塔的神情。然后他柔声说道，阿塔，有件事，也许我不该告诉你。</p>
<p>你说吧。</p>
<p>你的铀果，怎么是左旋的？风哥的眼里闪烁着复杂的色彩，有爱怜，有仇恨。有蘑菇状的、为人类开放的巨大铀花。阿塔没有看见。</p>
<p>咦，是啊！阿塔看着那果儿，他从来没有注意过这件事情。他掏出怀里其他的铀果，螺纹都是右旋的！他走到最近的铀花树旁，所有的果实都是右旋的。</p>
<p>怎么回事？他疑惑地望着风哥。</p>
<p>正常铀果都是右旋的，左旋的铀果是变异。它不会为铀开放。风哥很快地说道。</p>
<p>你骗人！你骗人！阿塔冲上去掐住风哥的脖子，风哥的脸立刻变得血红，和阳光一个颜色。他呼吸艰难，但没有反抗。他的神色甚至可以说是安详。</p>
<p>阿塔松开风哥，跌坐在地，放声哭泣。他涕泪交流，嗓音沙哑，如同野兽的嚎叫。他的全身都在抽动，从身体最深的里边向外哭泣。他抱着头，并没有用力撕扯自己的头发，那头发却一绺绺地掉落了。</p>
<p>风哥站起来，默默地向茂密的森林走去。他一走进树林，血红色的阳光立即消失得无影无踪。风哥拨开齐胸的灌木和不知名的触须向前走着，来路依稀可辨。脚踩在松软的腐殖质上，发出嘎吱嘎吱的声响，惊得啮齿类的小动物四散奔逃。而身后，那哭声渐渐地隐没了。</p>
<p>END</p>
]]></content>
      <categories>
        <category>个人收藏</category>
        <category>短篇科幻小说</category>
      </categories>
      <tags>
        <tag>短篇科幻小说</tag>
        <tag>《科幻世界》</tag>
      </tags>
  </entry>
</search>
